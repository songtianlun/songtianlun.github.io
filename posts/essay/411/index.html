<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>【简记】Linux 计划任务 Crontab | Frytea</title><meta name=keywords content><meta name=description content="cron 简介 cron 是 UNIX, SOLARIS，LINUX 下的一个十分有用的工具。通过 cron 脚本能使计划任务定期地在系统后台自动运行。 cron 命令 crontab -e – 编辑该用户的 cro"><meta name=author content="Tianlun Song"><link rel=canonical href=https://www.frytea.com/posts/essay/411/><meta name=yandex-verification content="73b1a797f62c0e98"><meta name=baidu-site-verification content="code-gnOrbP1RyC"><meta name=baidu_union_verify content="4c552c344295cb984c46ebe74962b067"><link crossorigin=anonymous href=/assets/css/stylesheet.min.d6915a40438ada26eb4bbe6b06836e00e13b20f99d6d3252319dd3a6cc407661.css integrity="sha256-1pFaQEOK2ibrS75rBoNuAOE7IPmdbTJSMZ3TpsxAdmE=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://www.frytea.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.frytea.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.frytea.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.frytea.com/apple-touch-icon.png><link rel=mask-icon href=https://www.frytea.com/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.85.0"><link rel=manifest href=/manifest.json><script src=https://staticfile-cdn.frytea.com/aplayer/1.10.1/APlayer.min.js></script><script src=https://staticfile-cdn.frytea.com/meting@2.0.1/dist/Meting.min.js></script><script type=text/javascript>function downloadJSAtOnload(){var a=document.createElement("script");a.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7296634171837358",document.body.appendChild(a)}window.addEventListener?window.addEventListener("load",downloadJSAtOnload,!1):window.attachEvent?window.attachEvent("onload",downloadJSAtOnload):window.onload=downloadJSAtOnload</script><script async defer data-website-id=3d947a98-2774-46b0-805f-fe2e4877a1d7 src=https://umami.frytea.com/umami.js></script><script async defer data-website-id=460b58e0-655d-42d7-926c-7a44aeb5730f src=https://frytea-umami.onrender.com/umami.js></script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><link rel=stylesheet href=//staticfile-cdn.frytea.com/font-awesome@4.3.0/css/font-awesome.min.css><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script>var _hmt=_hmt||[];(function(){var a=document.createElement("script"),b;a.src="https://hm.baidu.com/hm.js?c49e2f5be5e009382be07455c33b1394",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-136094326-1','auto'),ga('send','pageview'))</script><meta property="og:title" content="【简记】Linux 计划任务 Crontab"><meta property="og:description" content="cron 简介 cron 是 UNIX, SOLARIS，LINUX 下的一个十分有用的工具。通过 cron 脚本能使计划任务定期地在系统后台自动运行。 cron 命令 crontab -e – 编辑该用户的 cro"><meta property="og:type" content="article"><meta property="og:url" content="https://www.frytea.com/posts/essay/411/"><meta property="og:image" content="https://www.frytea.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-07-20T11:45:40+00:00"><meta property="article:modified_time" content="2020-07-20T11:45:40+00:00"><meta property="og:site_name" content="Frytea"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.frytea.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="【简记】Linux 计划任务 Crontab"><meta name=twitter:description content="cron 简介 cron 是 UNIX, SOLARIS，LINUX 下的一个十分有用的工具。通过 cron 脚本能使计划任务定期地在系统后台自动运行。 cron 命令 crontab -e – 编辑该用户的 cro"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"随笔文集","item":"https://www.frytea.com/posts/"},{"@type":"ListItem","position":2,"name":"【简记】Linux 计划任务 Crontab","item":"https://www.frytea.com/posts/essay/411/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"【简记】Linux 计划任务 Crontab","name":"【简记】Linux 计划任务 Crontab","description":"cron 简介 cron 是 UNIX, SOLARIS，LINUX 下的一个十分有用的工具。通过 cron 脚本能使计划任务定期地在系统后台自动运行。 cron 命令 crontab -e – 编辑该用户的 cro","keywords":[],"articleBody":"cron 简介 cron 是 UNIX, SOLARIS，LINUX 下的一个十分有用的工具。通过 cron 脚本能使计划任务定期地在系统后台自动运行。\ncron 命令 crontab -e – 编辑该用户的 crontab，当指定 crontab 不存在时新建。 crontab -l – 列出该用户的 crontab。 crontab -r – 删除该用户的 crontab。 crontab -u – 指定要设定 crontab 的用户名称。\n重启命令：\n/etc/init.d/crond restart // 以路径方式重启\rservice crond restart // 以服务的方式重启\rLinux Crontab 格式 Crontab 字段与允许的值 (Linux Crontab)\ncron 实例 1、特定时间执行 cron 的基本用法是在特定的时间执行一项任务，如下是 6 月 10 上午 8:30 执行 Full backup shell script。 要注意的是时间字段采用的是 24 小时制，如果是下午 8 点，则改写为 20 点\n30 08 10 06 * /home/ramesh/full-backup\n30 – 第 30 分钟 08 – 早上 8 点 10 – 10 号 06 – 第 6 个月 (6 月) * – 一周的任何一天\n2、 安排多个实例（比如一天执行两次） 下面的增量备份脚本每天执行两次。\n每天于 11:00, 16:00 执行，逗号两侧的时间都会执行。\n00 11,16 * * * /home/ramesh/bin/incremental-backup 00 – 第 0 分钟 (每小时开时) 11,16 – 早上 11 点与下午 4 点 * – 每天 * – 每个月 * – 一周的任何一天\n3、让任务只在特定时间执行（比如仅当工作日时执行） 下面这个例子是每天 9:00-16:00 检查数据库状态（包括周六）\n00 09-18 * * * /home/ramesh/bin/check-db-status 00 – 第 0 分钟 (每小时开时) 09-18 – 9 点, 10 点, 11 点, 12 点, 下午 1 点, 下午 2 点, 下午 3 点, 下午 4 点, 下午 5 点, 下午 6 点 * – 每天 * – 每个月 * – 一周的任何一天 如果只想工作日执行此操作\n00 09-18 * * 1-5 /home/ramesh/bin/check-db-status 00 – 第 0 分钟 (每小时开时) 09-18 – 9 点, 10 点, 11 点, 12 点, 下午 1 点, 下午 2 点, 下午 3 点, 下午 4 点, 下午 5 点, 下午 6 点 * – 每天 * – 每个月 1-5 – 周一, 周二, 周三, 周四和周五 (工作日)\n4、 安排每分钟都执行定时任务 理论情况下，没有每分钟都要执行的 shell，但下面这个例子，让我们更好的了解 crontab\n* * * * * 命令  * 代表着所有可能取到的值，除了直接用 * 外，下面的几个例子也较为常用 当指定 */5 在分钟字段，代表每五分钟。 当指定 0-10/2 在分钟字段，代表在前十分钟的每两分钟  上面的例子对于其它四个字段同样试用\n5、安排后台每十分钟执行定时任务 */10 * * * * /home/ramesh/check-disk-space 有一些特殊的例子，可以用关键字替代上述五个字段 – reboot, midnight, yearly, hourly\nTable: Cron special keywords and its meaning\n6、每一年的第一分钟执行定时任务（@yearly） 下面的例子将在每一年的 1 月 1 日 0:00 执行\n@yearly /home/ramesh/red-hat/bin/annual-maintenance 7、每月执行定时任务（@mothly） 下面的例子将在每月 1 日 0:00 执行\n@monthly /home/ramesh/suse/bin/tape-backup 8、每天执行定时任务（@daily） 下面的例子将在每天 0:00 执行\n@daily /home/ramesh/arch-linux/bin/cleanup-logs \"day started\" 9、每次重启时执行定时任务（@reboot） @reboot CMD 10、如何用 mail 关键字禁止/重定向 cron 的邮件 默认情况下，crontab 将向布置定时任务的管理员发送邮件，如果想重定向此用户，添加并更新 MAIL\nramesh@dev-db$ crontab -l MAIL=\"ramesh\" @yearly /home/ramesh/annual-maintenance */10 * * * * /home/ramesh/check-disk-space 如果不想任何人接收，则直接将 MAIL 置空\n11、如何系秒每执行一个定时任务 无法安排每秒执行，因为最小处理单元是分钟，另一方面，没有什么理由让我们每秒都执行一任务\n12、cron 中的 PATH 变量 上面的例子都是用绝对的路径\n如果你想用相对的路径，设置环境变量可以在 crontab 增加\nramesh@dev-db$ crontab -l PATH=/bin:/sbin:/usr/bin:/usr/sbin:/home/ramesh @yearly annual-maintenance */10 * * * * check-disk-space 13、从 cron 文件中定义 cron 任务 除了直接编辑外，你也可以先在一个文件中编辑好任务，再导入\nramesh@dev-db$ crontab -l no crontab for ramesh $ cat cron-file.txt @yearly /home/ramesh/annual-maintenance */10 * * * * /home/ramesh/check-disk-space ramesh@dev-db$ crontab cron-file.txt ramesh@dev-db$ crontab -l @yearly /home/ramesh/annual-maintenance */10 * * * * /home/ramesh/check-disk-space 应用时要注意，此操作会删除原有的cron任务\n14、查看所有用户 cron 任务 $ cat /etc/passwd | cut -f 1 -d : |xargs -I {} crontab -l -u {} 30 08 10 06 * sar 1 10  /root/sysstat/data.txt 30 6 */10 * * ls no crontab for bin no crontab for daemon no crontab for adm no crontab for lp no crontab for sync no crontab for shutdown no crontab for halt no crontab for mail no crontab for operator no crontab for games no crontab for ftp no crontab for nobody no crontab for systemd-network no crontab for dbus no crontab for polkitd no crontab for sshd no crontab for postfix no crontab for chrony no crontab for ntp no crontab for tcpdump no crontab for nscd 参考文献  Linux 计划任务之crontab Linux查看当前存在的计划任务命令是什么？ 查看所有用户的crontab任务 Linux crontab 命令详解(含配置文件路径） linux计划任务之crontab  ","wordCount":"1515","inLanguage":"zh","datePublished":"2020-07-20T11:45:40Z","dateModified":"2020-07-20T11:45:40Z","author":{"@type":"Person","name":"Tianlun Song"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.frytea.com/posts/essay/411/"},"publisher":{"@type":"Organization","name":"Frytea","logo":{"@type":"ImageObject","url":"https://www.frytea.com/favicon.ico"}}}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=https://www.frytea.com/ accesskey=h title="🏡 Frytea (Alt + H)">🏡 Frytea</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://www.frytea.com/categories/ title=🗂><span>🗂</span></a></li><li><a href=https://www.frytea.com/tags/ title=🏷️><span>🏷️</span></a></li><li><a href=https://www.frytea.com/search/ title="🔍 (Alt + /)" accesskey=/><span>🔍</span></a></li><li><a href=https://www.frytea.com/posts/ title=🖋><span>🖋</span></a></li><li><a href=https://www.frytea.com/technology/ title=🛠><span>🛠</span></a></li><li><a href=https://www.frytea.com/technology/app-list/ title=⚖️><span>⚖️</span></a></li><li><a href=https://www.frytea.com/technology/projects/ title=📁><span>📁</span></a></li><li><a href=https://travellings.link title=🚇><span>🚇</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.frytea.com/>主页</a>&nbsp;»&nbsp;<a href=https://www.frytea.com/posts/>随笔文集</a></div><h1 class=post-title><a href=https://www.frytea.com/posts/essay/411/>【简记】Linux 计划任务 Crontab</a></h1><div class=post-meta>July 20, 2020&nbsp;·&nbsp;4 分钟&nbsp;·&nbsp;1515 字&nbsp;·&nbsp;Tianlun Song&nbsp;|&nbsp;<a href=https://github.com/songtianlun/songtianlun.github.io/edit/main/content/posts/essay/%e3%80%90%e7%ae%80%e8%ae%b0%e3%80%91Linux-%e8%ae%a1%e5%88%92%e4%bb%bb%e5%8a%a1-Crontab.md rel="noopener noreferrer" target=_blank>PR</a>
&nbsp;| &nbsp;<span id=busuanzi_value_page_pv><i class="fa fa-spinner fa-spin"></i></span>&nbsp;Hits</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#cron-%e7%ae%80%e4%bb%8b aria-label="cron 简介">cron 简介</a></li><li><a href=#cron-%e5%91%bd%e4%bb%a4 aria-label="cron 命令">cron 命令</a></li><li><a href=#linux-crontab-%e6%a0%bc%e5%bc%8f aria-label="Linux Crontab 格式">Linux Crontab 格式</a></li><li><a href=#cron-%e5%ae%9e%e4%be%8b aria-label="cron 实例">cron 实例</a><ul><li><a href=#1%e7%89%b9%e5%ae%9a%e6%97%b6%e9%97%b4%e6%89%a7%e8%a1%8c aria-label=1、特定时间执行>1、特定时间执行</a></li><li><a href=#2-%e5%ae%89%e6%8e%92%e5%a4%9a%e4%b8%aa%e5%ae%9e%e4%be%8b%e6%af%94%e5%a6%82%e4%b8%80%e5%a4%a9%e6%89%a7%e8%a1%8c%e4%b8%a4%e6%ac%a1 aria-label="2、 安排多个实例（比如一天执行两次）">2、 安排多个实例（比如一天执行两次）</a></li><li><a href=#3%e8%ae%a9%e4%bb%bb%e5%8a%a1%e5%8f%aa%e5%9c%a8%e7%89%b9%e5%ae%9a%e6%97%b6%e9%97%b4%e6%89%a7%e8%a1%8c%e6%af%94%e5%a6%82%e4%bb%85%e5%bd%93%e5%b7%a5%e4%bd%9c%e6%97%a5%e6%97%b6%e6%89%a7%e8%a1%8c aria-label=3、让任务只在特定时间执行（比如仅当工作日时执行）>3、让任务只在特定时间执行（比如仅当工作日时执行）</a></li><li><a href=#4-%e5%ae%89%e6%8e%92%e6%af%8f%e5%88%86%e9%92%9f%e9%83%bd%e6%89%a7%e8%a1%8c%e5%ae%9a%e6%97%b6%e4%bb%bb%e5%8a%a1 aria-label="4、 安排每分钟都执行定时任务">4、 安排每分钟都执行定时任务</a></li><li><a href=#5%e5%ae%89%e6%8e%92%e5%90%8e%e5%8f%b0%e6%af%8f%e5%8d%81%e5%88%86%e9%92%9f%e6%89%a7%e8%a1%8c%e5%ae%9a%e6%97%b6%e4%bb%bb%e5%8a%a1 aria-label=5、安排后台每十分钟执行定时任务>5、安排后台每十分钟执行定时任务</a></li><li><a href=#6%e6%af%8f%e4%b8%80%e5%b9%b4%e7%9a%84%e7%ac%ac%e4%b8%80%e5%88%86%e9%92%9f%e6%89%a7%e8%a1%8c%e5%ae%9a%e6%97%b6%e4%bb%bb%e5%8a%a1yearly aria-label=6、每一年的第一分钟执行定时任务（@yearly）>6、每一年的第一分钟执行定时任务（@yearly）</a></li><li><a href=#7%e6%af%8f%e6%9c%88%e6%89%a7%e8%a1%8c%e5%ae%9a%e6%97%b6%e4%bb%bb%e5%8a%a1mothly aria-label=7、每月执行定时任务（@mothly）>7、每月执行定时任务（@mothly）</a></li><li><a href=#8%e6%af%8f%e5%a4%a9%e6%89%a7%e8%a1%8c%e5%ae%9a%e6%97%b6%e4%bb%bb%e5%8a%a1daily aria-label=8、每天执行定时任务（@daily）>8、每天执行定时任务（@daily）</a></li><li><a href=#9%e6%af%8f%e6%ac%a1%e9%87%8d%e5%90%af%e6%97%b6%e6%89%a7%e8%a1%8c%e5%ae%9a%e6%97%b6%e4%bb%bb%e5%8a%a1reboot aria-label=9、每次重启时执行定时任务（@reboot）>9、每次重启时执行定时任务（@reboot）</a></li><li><a href=#10%e5%a6%82%e4%bd%95%e7%94%a8-mail-%e5%85%b3%e9%94%ae%e5%ad%97%e7%a6%81%e6%ad%a2%e9%87%8d%e5%ae%9a%e5%90%91-cron-%e7%9a%84%e9%82%ae%e4%bb%b6 aria-label="10、如何用 mail 关键字禁止/重定向 cron 的邮件">10、如何用 mail 关键字禁止/重定向 cron 的邮件</a></li><li><a href=#11%e5%a6%82%e4%bd%95%e7%b3%bb%e7%a7%92%e6%af%8f%e6%89%a7%e8%a1%8c%e4%b8%80%e4%b8%aa%e5%ae%9a%e6%97%b6%e4%bb%bb%e5%8a%a1 aria-label=11、如何系秒每执行一个定时任务>11、如何系秒每执行一个定时任务</a></li><li><a href=#12cron-%e4%b8%ad%e7%9a%84-path-%e5%8f%98%e9%87%8f aria-label="12、cron 中的 PATH 变量">12、cron 中的 PATH 变量</a></li><li><a href=#13%e4%bb%8e-cron-%e6%96%87%e4%bb%b6%e4%b8%ad%e5%ae%9a%e4%b9%89-cron-%e4%bb%bb%e5%8a%a1 aria-label="13、从 cron 文件中定义 cron 任务">13、从 cron 文件中定义 cron 任务</a></li><li><a href=#14%e6%9f%a5%e7%9c%8b%e6%89%80%e6%9c%89%e7%94%a8%e6%88%b7-cron-%e4%bb%bb%e5%8a%a1 aria-label="14、查看所有用户 cron 任务">14、查看所有用户 cron 任务</a></li></ul></li><li><a href=#%e5%8f%82%e8%80%83%e6%96%87%e7%8c%ae aria-label=参考文献>参考文献</a></li></ul></div><div><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-7296634171837358 data-ad-slot=9161921641 data-ad-format=auto data-full-width-responsive=true></ins></div><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></details></div><div class=post-content><blockquote style=margin-top:8px><p style=text-align:center;text-indent:0><a href=https://www.frytea.com/posts/essay/411/>本文</a>
首发于
<a href=https://www.frytea.com/>🌱 煎茶</a>，
<a href=/disclaimer/>转载</a> 请注明
<a href=https://www.frytea.com/posts/essay/411/>来源</a>。</p></blockquote><h2 id=cron-简介>cron 简介<a hidden class=anchor aria-hidden=true href=#cron-简介>#</a></h2><p>cron 是 UNIX, SOLARIS，LINUX 下的一个十分有用的工具。通过 cron 脚本能使计划任务定期地在系统后台自动运行。</p><h2 id=cron-命令>cron 命令<a hidden class=anchor aria-hidden=true href=#cron-命令>#</a></h2><p><code>crontab -e</code>  – 编辑该用户的 crontab，当指定 crontab 不存在时新建。
<code>crontab -l</code> – 列出该用户的 crontab。
<code>crontab -r</code> – 删除该用户的 crontab。
<code>crontab -u&lt;用户名称></code> – 指定要设定 crontab 的用户名称。</p><p>重启命令：</p><pre><code>/etc/init.d/crond restart // 以路径方式重启
service crond restart // 以服务的方式重启
</code></pre><h2 id=linux-crontab-格式>Linux Crontab 格式<a hidden class=anchor aria-hidden=true href=#linux-crontab-格式>#</a></h2><p><a href=https://www.notion.so/6feba2913a7842d29ac0798efdef2f1f>Crontab 字段与允许的值 (Linux Crontab)</a></p><h2 id=cron-实例>cron 实例<a hidden class=anchor aria-hidden=true href=#cron-实例>#</a></h2><h3 id=1特定时间执行>1、特定时间执行<a hidden class=anchor aria-hidden=true href=#1特定时间执行>#</a></h3><p>cron 的基本用法是在特定的时间执行一项任务，如下是 6 月 10 上午 8:30 执行 Full backup shell script。 要注意的是时间字段采用的是 24 小时制，如果是下午 8 点，则改写为 20 点</p><p><code>30 08 10 06 * /home/ramesh/full-backup</code></p><p>30 – 第 30 分钟
08 – 早上 8 点
10 – 10 号
06 – 第 6 个月 (6 月)
* – 一周的任何一天</p><h3 id=2-安排多个实例比如一天执行两次>2、 安排多个实例（比如一天执行两次）<a hidden class=anchor aria-hidden=true href=#2-安排多个实例比如一天执行两次>#</a></h3><p>下面的增量备份脚本每天执行两次。</p><p>每天于 11:00, 16:00 执行，逗号两侧的时间都会执行。</p><p><code>00 11,16 * * * /home/ramesh/bin/incremental-backup</code>
00 – 第 0 分钟 (每小时开时)
11,16 – 早上 11 点与下午 4 点
* – 每天
* – 每个月
* – 一周的任何一天</p><h3 id=3让任务只在特定时间执行比如仅当工作日时执行>3、让任务只在特定时间执行（比如仅当工作日时执行）<a hidden class=anchor aria-hidden=true href=#3让任务只在特定时间执行比如仅当工作日时执行>#</a></h3><p>下面这个例子是每天 9:00-16:00 检查数据库状态（包括周六）</p><p><code>00 09-18 * * * /home/ramesh/bin/check-db-status</code>
00 – 第 0 分钟 (每小时开时)
09-18 – 9 点, 10 点, 11 点, 12 点, 下午 1 点, 下午 2 点, 下午 3 点, 下午 4 点, 下午 5 点, 下午 6 点
* – 每天
* – 每个月
* – 一周的任何一天
如果只想工作日执行此操作</p><p><code>00 09-18 * * 1-5 /home/ramesh/bin/check-db-status</code>
00 – 第 0 分钟 (每小时开时)
09-18 – 9 点, 10 点, 11 点, 12 点, 下午 1 点, 下午 2 点, 下午 3 点, 下午 4 点, 下午 5 点, 下午 6 点
* – 每天
* – 每个月
1-5 – 周一, 周二, 周三, 周四和周五 (工作日)</p><h3 id=4-安排每分钟都执行定时任务>4、 安排每分钟都执行定时任务<a hidden class=anchor aria-hidden=true href=#4-安排每分钟都执行定时任务>#</a></h3><p>理论情况下，没有每分钟都要执行的 shell，但下面这个例子，让我们更好的了解 crontab</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>* * * * * 命令
</code></pre></div><ul><li><code>*</code> 代表着所有可能取到的值，除了直接用 * 外，下面的几个例子也较为常用</li><li>当指定 <code>*/5</code> 在分钟字段，代表每五分钟。</li><li>当指定 <code>0-10/2</code> 在分钟字段，代表在前十分钟的每两分钟</li></ul><p>上面的例子对于其它四个字段同样试用</p><h3 id=5安排后台每十分钟执行定时任务>5、安排后台每十分钟执行定时任务<a hidden class=anchor aria-hidden=true href=#5安排后台每十分钟执行定时任务>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>*/10 * * * * /home/ramesh/check-disk-space
</code></pre></div><p>有一些特殊的例子，可以用关键字替代上述五个字段 <code>– reboot, midnight, yearly, hourly</code></p><p><a href=https://www.notion.so/aa3919510fab4449a9119b9366eb592a>Table: Cron special keywords and its meaning</a></p><h3 id=6每一年的第一分钟执行定时任务yearly>6、每一年的第一分钟执行定时任务（@yearly）<a hidden class=anchor aria-hidden=true href=#6每一年的第一分钟执行定时任务yearly>#</a></h3><p>下面的例子将在每一年的 1 月 1 日 0:00 执行</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>@yearly /home/ramesh/red-hat/bin/annual-maintenance
</code></pre></div><h3 id=7每月执行定时任务mothly>7、每月执行定时任务（@mothly）<a hidden class=anchor aria-hidden=true href=#7每月执行定时任务mothly>#</a></h3><p>下面的例子将在每月 1 日 0:00 执行</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>@monthly /home/ramesh/suse/bin/tape-backup
</code></pre></div><h3 id=8每天执行定时任务daily>8、每天执行定时任务（@daily）<a hidden class=anchor aria-hidden=true href=#8每天执行定时任务daily>#</a></h3><p>下面的例子将在每天 0:00 执行</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>@daily /home/ramesh/arch-linux/bin/cleanup-logs <span style=color:#e6db74>&#34;day started&#34;</span>
</code></pre></div><h3 id=9每次重启时执行定时任务reboot>9、每次重启时执行定时任务（@reboot）<a hidden class=anchor aria-hidden=true href=#9每次重启时执行定时任务reboot>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>@reboot CMD
</code></pre></div><h3 id=10如何用-mail-关键字禁止重定向-cron-的邮件>10、如何用 mail 关键字禁止/重定向 cron 的邮件<a hidden class=anchor aria-hidden=true href=#10如何用-mail-关键字禁止重定向-cron-的邮件>#</a></h3><p>默认情况下，crontab 将向布置定时任务的管理员发送邮件，如果想重定向此用户，添加并更新 MAIL</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ramesh@dev-db$ crontab -l
MAIL<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;ramesh&#34;</span>

@yearly /home/ramesh/annual-maintenance
*/10 * * * * /home/ramesh/check-disk-space
</code></pre></div><p>如果不想任何人接收，则直接将 MAIL 置空</p><h3 id=11如何系秒每执行一个定时任务>11、如何系秒每执行一个定时任务<a hidden class=anchor aria-hidden=true href=#11如何系秒每执行一个定时任务>#</a></h3><p>无法安排每秒执行，因为最小处理单元是分钟，另一方面，没有什么理由让我们每秒都执行一任务</p><h3 id=12cron-中的-path-变量>12、cron 中的 PATH 变量<a hidden class=anchor aria-hidden=true href=#12cron-中的-path-变量>#</a></h3><p>上面的例子都是用绝对的路径</p><p>如果你想用相对的路径，设置环境变量可以在 crontab 增加</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ramesh@dev-db$ crontab -l

PATH<span style=color:#f92672>=</span>/bin:/sbin:/usr/bin:/usr/sbin:/home/ramesh

@yearly annual-maintenance
*/10 * * * * check-disk-space
</code></pre></div><h3 id=13从-cron-文件中定义-cron-任务>13、从 cron 文件中定义 cron 任务<a hidden class=anchor aria-hidden=true href=#13从-cron-文件中定义-cron-任务>#</a></h3><p>除了直接编辑外，你也可以先在一个文件中编辑好任务，再导入</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ramesh@dev-db$ crontab -l
no crontab <span style=color:#66d9ef>for</span> ramesh

$ cat cron-file.txt
@yearly /home/ramesh/annual-maintenance
*/10 * * * * /home/ramesh/check-disk-space

ramesh@dev-db$ crontab cron-file.txt

ramesh@dev-db$ crontab -l
@yearly /home/ramesh/annual-maintenance

*/10 * * * * /home/ramesh/check-disk-space
</code></pre></div><p>应用时要注意，此操作会删除原有的cron任务</p><h3 id=14查看所有用户-cron-任务>14、查看所有用户 cron 任务<a hidden class=anchor aria-hidden=true href=#14查看所有用户-cron-任务>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ cat /etc/passwd | cut -f <span style=color:#ae81ff>1</span> -d : |xargs -I <span style=color:#f92672>{}</span> crontab -l -u <span style=color:#f92672>{}</span>
<span style=color:#ae81ff>30</span> <span style=color:#ae81ff>08</span> <span style=color:#ae81ff>10</span> <span style=color:#ae81ff>06</span> * sar <span style=color:#ae81ff>1</span> <span style=color:#ae81ff>10</span> &gt; /root/sysstat/data.txt
<span style=color:#ae81ff>30</span> <span style=color:#ae81ff>6</span> */10 * * ls
no crontab <span style=color:#66d9ef>for</span> bin
no crontab <span style=color:#66d9ef>for</span> daemon
no crontab <span style=color:#66d9ef>for</span> adm
no crontab <span style=color:#66d9ef>for</span> lp
no crontab <span style=color:#66d9ef>for</span> sync
no crontab <span style=color:#66d9ef>for</span> shutdown
no crontab <span style=color:#66d9ef>for</span> halt
no crontab <span style=color:#66d9ef>for</span> mail
no crontab <span style=color:#66d9ef>for</span> operator
no crontab <span style=color:#66d9ef>for</span> games
no crontab <span style=color:#66d9ef>for</span> ftp
no crontab <span style=color:#66d9ef>for</span> nobody
no crontab <span style=color:#66d9ef>for</span> systemd-network
no crontab <span style=color:#66d9ef>for</span> dbus
no crontab <span style=color:#66d9ef>for</span> polkitd
no crontab <span style=color:#66d9ef>for</span> sshd
no crontab <span style=color:#66d9ef>for</span> postfix
no crontab <span style=color:#66d9ef>for</span> chrony
no crontab <span style=color:#66d9ef>for</span> ntp
no crontab <span style=color:#66d9ef>for</span> tcpdump
no crontab <span style=color:#66d9ef>for</span> nscd
</code></pre></div><h2 id=参考文献>参考文献<a hidden class=anchor aria-hidden=true href=#参考文献>#</a></h2><ul><li><a href=https://blog.csdn.net/richerg85/article/details/23442411>Linux 计划任务之crontab</a></li><li><a href=http://www.ipmay.com/index.php/articles-detail/59.html>Linux查看当前存在的计划任务命令是什么？</a></li><li><a href=https://blog.csdn.net/mlzhu007/article/details/81662091>查看所有用户的crontab任务</a></li><li><a href=https://blog.csdn.net/renyp8799/article/details/50717944>Linux crontab 命令详解(含配置文件路径）</a></li><li><a href=https://blog.csdn.net/richerg85/article/details/17887879>linux计划任务之crontab</a></li></ul><div class=post-meta></hr>注：本作品采用<a rel=license target=view_window href=http://creativecommons.org/licenses/by-nc-sa/4.0/> 知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议 </a>进行许可。</div></div><footer class=post-footer><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share 【简记】Linux 计划任务 Crontab on twitter" href="https://twitter.com/intent/tweet/?text=%e3%80%90%e7%ae%80%e8%ae%b0%e3%80%91Linux%20%e8%ae%a1%e5%88%92%e4%bb%bb%e5%8a%a1%20Crontab&url=https%3a%2f%2fwww.frytea.com%2fposts%2fessay%2f411%2f&hashtags="><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 【简记】Linux 计划任务 Crontab on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwww.frytea.com%2fposts%2fessay%2f411%2f&title=%e3%80%90%e7%ae%80%e8%ae%b0%e3%80%91Linux%20%e8%ae%a1%e5%88%92%e4%bb%bb%e5%8a%a1%20Crontab&summary=%e3%80%90%e7%ae%80%e8%ae%b0%e3%80%91Linux%20%e8%ae%a1%e5%88%92%e4%bb%bb%e5%8a%a1%20Crontab&source=https%3a%2f%2fwww.frytea.com%2fposts%2fessay%2f411%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 【简记】Linux 计划任务 Crontab on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.frytea.com%2fposts%2fessay%2f411%2f&title=%e3%80%90%e7%ae%80%e8%ae%b0%e3%80%91Linux%20%e8%ae%a1%e5%88%92%e4%bb%bb%e5%8a%a1%20Crontab"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 【简记】Linux 计划任务 Crontab on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.frytea.com%2fposts%2fessay%2f411%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 【简记】Linux 计划任务 Crontab on whatsapp" href="https://api.whatsapp.com/send?text=%e3%80%90%e7%ae%80%e8%ae%b0%e3%80%91Linux%20%e8%ae%a1%e5%88%92%e4%bb%bb%e5%8a%a1%20Crontab%20-%20https%3a%2f%2fwww.frytea.com%2fposts%2fessay%2f411%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 【简记】Linux 计划任务 Crontab on telegram" href="https://telegram.me/share/url?text=%e3%80%90%e7%ae%80%e8%ae%b0%e3%80%91Linux%20%e8%ae%a1%e5%88%92%e4%bb%bb%e5%8a%a1%20Crontab&url=https%3a%2f%2fwww.frytea.com%2fposts%2fessay%2f411%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div><nav class=paginav><a class=prev href=https://www.frytea.com/posts/essay/413/><span class=title>« 上一页</span><br><span>Windows 开机自启VMware虚拟机</span></a>
<a class=next href=https://www.frytea.com/posts/essay/410/><span class=title>下一页 »</span><br><span>VS Code 免密登录Linux服务器</span></a></nav></footer><div id=vcomments style="background-color:var(--theme);margin-top:15px;padding:20px;border-radius:var(--radius);box-shadow:0 0 10px grey"></div><script src=//cdn1.lncld.net/static/js/3.0.4/av-min.js></script><script src=//unpkg.com/valine/dist/Valine.min.js></script><script type=text/javascript>new Valine({el:'#vcomments',appId:'mhm2sAPpC3cW2VJ15fpGGDPb-gzGzoHsz',appKey:'nx1gknfuCi4dsFHwG7cAbqUL',notify:'false',verify:'false',avatar:'Tianlun Song',placeholder:'说点什么吧...',visitor:'true'})</script></article></main><footer class=footer><span>Copyright &copy; 2022 • <a href=https://www.frytea.com/>Frytea</a></span>
<span>• <a href=http://beian.miit.gov.cn/ target=view_window>粤 ICP 备 19144283 号</a></span><div><span><a href=/about/>关于</a>
• <a href=/disclaimer/>免责声明</a>
• <a href=/sitemap.xml target=view_window>站点地图</a>
• <a href=https://www.foreverblog.cn/go.html target=view_window>虫洞</a>
• PV <span id=busuanzi_value_site_pv><i class="fa fa-spinner fa-spin"></i></span></span></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script><meta name=”apple-mobile-web-app-capable” content="”yes”"><script>'serviceWorker'in navigator&&window.addEventListener('load',()=>{navigator.serviceWorker.register('/service-worker.js')})</script></body></html>