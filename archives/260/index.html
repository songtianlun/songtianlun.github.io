<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ã€æŒç»­é›†æˆã€‘Androidä½¿ç”¨Github Actionè‡ªåŠ¨æ‰“åŒ…å¹¶å‘å¸ƒFir.imå†…æµ‹ | Frytea</title><meta name=keywords content="android"><meta name=description content="!!! Photo by Mesut Kaya on Unsplash !!! ä¸ºä»€ä¹ˆå°é¢å›¾æ˜¯ä¸€å¼ æ—…æ¸¸çš„ç…§ç‰‡ï¼Ÿå› ä¸ºä½¿ç”¨ CI/CD ç­‰å·¥å…·é«˜æ•ˆçš„å®Œæˆå·¥ä½œï¼Œå°±å¯ä»¥å‡ºå»ç©äº†ï¼ å‰è¨€ GitHub Actions æ˜¯ GitHub å®˜æ–¹æä¾›å¹¶å…è´¹æä¾›ç»™å¼€æºä»“åº“ä½¿ç”¨çš„"><meta name=author content="Tianlun Song"><link rel=canonical href=https://www.frytea.com/archives/260/><meta name=yandex-verification content="73b1a797f62c0e98"><meta name=baidu-site-verification content="code-gnOrbP1RyC"><meta name=baidu_union_verify content="4c552c344295cb984c46ebe74962b067"><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/satouriko/LxgwWenKai_Webfonts@v1.101/dist/LXGWWenKai-Light.css><link crossorigin=anonymous href=/assets/css/stylesheet.min.c5e9b9a30a68c57670e00490fcbe42331248183e26454c2aabee667e9e16f616.css integrity="sha256-xem5owpoxXZw4ASQ/L5CMxJIGD4mRUwqq+5mfp4W9hY=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://www.frytea.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.frytea.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.frytea.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.frytea.com/apple-touch-icon.png><link rel=mask-icon href=https://www.frytea.com/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.85.0"><link rel=manifest href=/manifest.json><script type=text/javascript>function downloadJSAtOnload(){var a=document.createElement("script");a.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7296634171837358",document.body.appendChild(a)}window.addEventListener?window.addEventListener("load",downloadJSAtOnload,!1):window.attachEvent?window.attachEvent("onload",downloadJSAtOnload):window.onload=downloadJSAtOnload</script><script async defer data-website-id=3d947a98-2774-46b0-805f-fe2e4877a1d7 src=https://umami.frytea.com/script.js></script><script>var _paq=window._paq=window._paq||[];_paq.push(['trackPageView']),_paq.push(['enableLinkTracking']),function(){var b="//analytics.skybyte.me/",c,a,d;_paq.push(['setTrackerUrl',b+'matomo.php']),_paq.push(['setSiteId','4']),c=document,a=c.createElement('script'),d=c.getElementsByTagName('script')[0],a.async=!0,a.src=b+'matomo.js',d.parentNode.insertBefore(a,d)}()</script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><link rel=stylesheet href=/libs/font-awesome-4.7.0/css/font-awesome.min.css><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script src=https://lf6-cdn-tos.bytecdntp.com/cdn/expire-4-w/mermaid/8.14.0/mermaid.min.js crossorigin=anonymous></script><script>const config={startOnLoad:!0,theme:'forest',themeVariables:{lineColor:"#fafafa"},flowchart:{useMaxWidth:!1,htmlLabels:!0}};mermaid.initialize(config),window.onload=()=>{window.mermaid.init(void 0,document.querySelectorAll('.language-mermaid'))}</script><script>var _hmt=_hmt||[];(function(){var a=document.createElement("script"),b;a.src="https://hm.baidu.com/hm.js?c49e2f5be5e009382be07455c33b1394",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZM7RBGQSG"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-XZM7RBGQSG',{anonymize_ip:!1})}</script><meta property="og:title" content="ã€æŒç»­é›†æˆã€‘Androidä½¿ç”¨Github Actionè‡ªåŠ¨æ‰“åŒ…å¹¶å‘å¸ƒFir.imå†…æµ‹"><meta property="og:description" content="!!! Photo by Mesut Kaya on Unsplash !!! ä¸ºä»€ä¹ˆå°é¢å›¾æ˜¯ä¸€å¼ æ—…æ¸¸çš„ç…§ç‰‡ï¼Ÿå› ä¸ºä½¿ç”¨ CI/CD ç­‰å·¥å…·é«˜æ•ˆçš„å®Œæˆå·¥ä½œï¼Œå°±å¯ä»¥å‡ºå»ç©äº†ï¼ å‰è¨€ GitHub Actions æ˜¯ GitHub å®˜æ–¹æä¾›å¹¶å…è´¹æä¾›ç»™å¼€æºä»“åº“ä½¿ç”¨çš„"><meta property="og:type" content="article"><meta property="og:url" content="https://www.frytea.com/archives/260/"><meta property="og:image" content="https://www.frytea.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="archives"><meta property="article:published_time" content="2019-11-17T21:36:00+00:00"><meta property="article:modified_time" content="2019-11-17T21:36:00+00:00"><meta property="og:site_name" content="Frytea"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.frytea.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="ã€æŒç»­é›†æˆã€‘Androidä½¿ç”¨Github Actionè‡ªåŠ¨æ‰“åŒ…å¹¶å‘å¸ƒFir.imå†…æµ‹"><meta name=twitter:description content="!!! Photo by Mesut Kaya on Unsplash !!! ä¸ºä»€ä¹ˆå°é¢å›¾æ˜¯ä¸€å¼ æ—…æ¸¸çš„ç…§ç‰‡ï¼Ÿå› ä¸ºä½¿ç”¨ CI/CD ç­‰å·¥å…·é«˜æ•ˆçš„å®Œæˆå·¥ä½œï¼Œå°±å¯ä»¥å‡ºå»ç©äº†ï¼ å‰è¨€ GitHub Actions æ˜¯ GitHub å®˜æ–¹æä¾›å¹¶å…è´¹æä¾›ç»™å¼€æºä»“åº“ä½¿ç”¨çš„"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Archives","item":"https://www.frytea.com/archives/"},{"@type":"ListItem","position":2,"name":"ã€æŒç»­é›†æˆã€‘Androidä½¿ç”¨Github Actionè‡ªåŠ¨æ‰“åŒ…å¹¶å‘å¸ƒFir.imå†…æµ‹","item":"https://www.frytea.com/archives/260/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"ã€æŒç»­é›†æˆã€‘Androidä½¿ç”¨Github Actionè‡ªåŠ¨æ‰“åŒ…å¹¶å‘å¸ƒFir.imå†…æµ‹","name":"ã€æŒç»­é›†æˆã€‘Androidä½¿ç”¨Github Actionè‡ªåŠ¨æ‰“åŒ…å¹¶å‘å¸ƒFir.imå†…æµ‹","description":"!!! Photo by Mesut Kaya on Unsplash !!! ä¸ºä»€ä¹ˆå°é¢å›¾æ˜¯ä¸€å¼ æ—…æ¸¸çš„ç…§ç‰‡ï¼Ÿå› ä¸ºä½¿ç”¨ CI/CD ç­‰å·¥å…·é«˜æ•ˆçš„å®Œæˆå·¥ä½œï¼Œå°±å¯ä»¥å‡ºå»ç©äº†ï¼ å‰è¨€ GitHub Actions æ˜¯ GitHub å®˜æ–¹æä¾›å¹¶å…è´¹æä¾›ç»™å¼€æºä»“åº“ä½¿ç”¨çš„","keywords":["android"],"articleBody":"!!!\n Photo by Mesut Kaya on Unsplash \r!!!\rä¸ºä»€ä¹ˆå°é¢å›¾æ˜¯ä¸€å¼ æ—…æ¸¸çš„ç…§ç‰‡ï¼Ÿå› ä¸ºä½¿ç”¨ CI/CD ç­‰å·¥å…·é«˜æ•ˆçš„å®Œæˆå·¥ä½œï¼Œå°±å¯ä»¥å‡ºå»ç©äº†ï¼\nå‰è¨€ GitHub Actions æ˜¯ GitHub å®˜æ–¹æä¾›å¹¶å…è´¹æä¾›ç»™å¼€æºä»“åº“ä½¿ç”¨çš„æŒç»­é›†æˆæœåŠ¡ï¼Œåœ¨è¿›å…¥æœ¬æ–‡ä¸»é¢˜ä¹‹å‰ï¼Œå…ˆè®²è®²ä»€ä¹ˆæ˜¯æŒç»­é›†æˆ (CI/CD) ã€‚\næŒç»­é›†æˆï¼ˆCI/CDï¼‰ æ ¹æ® WIkiPedia å¼•ç”¨è‡ªWhat is CI/CD - all you need to know çš„è¯´æ³•ï¼š\n In software engineering, CI/CD or CICD generally refers to the combined practices of continuous integration and continuous delivery (aka continuous deployment).\n ç®€å•æ¥è¯´å°±æ˜¯æŒ‡\"æŒç»­é›†æˆå’ŒæŒç»­äº¤ä»˜\"ï¼Œæ›´ç”ŸåŠ¨çš„è¡¨è¿°å¯ä»¥å¼•ç”¨è‡ªçº¢å¸½å®˜ç½‘ã€Šä»€ä¹ˆæ˜¯ CI/CDï¼Ÿã€‹ä¸€æ–‡ä¸­çš„æè¿°ï¼š\n CI/CD æ˜¯ä¸€ç§é€šè¿‡åœ¨åº”ç”¨å¼€å‘é˜¶æ®µå¼•å…¥è‡ªåŠ¨åŒ–æ¥é¢‘ç¹å‘å®¢æˆ·äº¤ä»˜åº”ç”¨çš„æ–¹æ³•ã€‚CI/CD çš„æ ¸å¿ƒæ¦‚å¿µæ˜¯æŒç»­é›†æˆã€æŒç»­äº¤ä»˜å’ŒæŒç»­éƒ¨ç½²ã€‚ä½œä¸ºä¸€ä¸ªé¢å‘å¼€å‘å’Œè¿è¥å›¢é˜Ÿçš„è§£å†³æ–¹æ¡ˆï¼ŒCI/CD ä¸»è¦é’ˆå¯¹åœ¨é›†æˆæ–°ä»£ç æ—¶æ‰€å¼•å‘çš„é—®é¢˜ï¼ˆäº¦ç§°ï¼šâ€œé›†æˆåœ°ç‹±â€ï¼‰ã€‚\n  å…·ä½“è€Œè¨€ï¼ŒCI/CD åœ¨æ•´ä¸ªåº”ç”¨ç”Ÿå‘½å‘¨æœŸå†…ï¼ˆä»é›†æˆå’Œæµ‹è¯•é˜¶æ®µï¼Œåˆ°äº¤ä»˜å’Œéƒ¨ç½²ï¼‰å¼•å…¥äº†æŒç»­è‡ªåŠ¨åŒ–å’ŒæŒç»­ç›‘æ§ã€‚è¿™äº›å…³è”çš„äº‹åŠ¡é€šå¸¸è¢«ç»Ÿç§°ä¸ºâ€œCI/CD ç®¡é“â€ï¼Œç”±å¼€å‘å’Œè¿ç»´å›¢é˜Ÿä»¥æ•æ·æ–¹å¼ååŒæ”¯æŒã€‚\n é€šä¿—æ¥è¯´ï¼ŒæŒç»­é›†æˆæ˜¯é¢å¯¹å¼€å‘å›¢é˜Ÿä¸åŒäººå‘˜é’ˆå¯¹åŒä¸€è½¯ä»¶å¼€å‘äº§å“ä¸åŒéƒ¨åˆ†ä»£ç çš„é›†æˆã€æŒç»­äº¤ä»˜ã€éƒ¨ç½²é—®é¢˜çš„ä¸€å¥—è§£å†³æ–¹æ¡ˆã€‚ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨æ²¡æœ‰æŒç»­é›†æˆç³»ç»Ÿä¹‹å‰ï¼Œå›¢é˜Ÿåˆä½œè¿›è¡Œè½¯ä»¶å¼€å‘ï¼Œå°±éœ€è¦æœ‰äººä¸“é—¨è´Ÿè´£ä»£ç çš„æ•´åˆã€ç¼–è¯‘ã€éƒ¨ç½²ï¼Œè€Œæœ‰äº†æŒç»­éƒ¨ç½²ç³»ç»Ÿä¹‹åï¼Œå›¢é˜Ÿæˆå‘˜åªéœ€å°†è‡ªå·±çš„ä»£ç æäº¤è‡³å…¬å…±ä»£ç ä»“åº“ï¼Œç³»ç»Ÿæ¥æ”¶åˆ°ä»£ç æ¨é€è¯·æ±‚åå°±ä¼šè‡ªåŠ¨çš„æ‰§è¡Œä¸€ç³»åˆ—å®ç°çº¦å®šå¥½çš„å·¥ä½œæµç¨‹ï¼Œä¸å†éœ€è¦æœ‰äººä¸“é—¨è´Ÿè´£è¿™ä¸€å·¥ä½œï¼Œä»£ç æäº¤è€…ä¹Ÿå¯ä»¥å®æ—¶çš„çœ‹åˆ°è‡ªå·±çš„ä»£ç åœ¨æ•´ä¸ªç³»ç»Ÿä¸­çš„è¿è¡ŒçŠ¶å†µï¼Œæå¤§çš„æé«˜äº†å¼€å‘æ•ˆç‡ã€‚\nç›®å‰æä¾›CI/CDæœåŠ¡çš„æœ‰å¾ˆå¤šå®¶ï¼š\n GitHub Actions Travis-CI CircleCI Jenkins GitLab Bamboo  å…¶ä¸­ Teavis-CI å’Œ CircleCI å¯¹å¼€æºäº§å“æ¯”è¾ƒå‹å¥½ï¼Œåœ¨ GitHub Action ä¹‹å‰ï¼Œå®ƒä»¬å‡ ä¹æ˜¯å¼€æºäº§å“å¿…å¤‡çš„ CI/CD çš„å·¥å…·ï¼Œå¼€æºä»£ç ä»“åº“å¸¸è§çš„è¿™ä¸ªç»¿è‰²çš„ â€œpassingâ€ å°±æ˜¯ Travis-CI å¾ˆç»å…¸çš„ä¸€ä¸ªéƒ¨ç½²çŠ¶æ€å¾½æ ‡ï¼Œè¿™ä¸€æŠ¹ç»¿ä¸çŸ¥é“å¸¦ç»™å¤šå°‘äººå¤šå°‘å¿«ä¹ï¼ˆç¼–è¯‘ä¸é€šè¿‡çš„è‹¦æ‡‚å¾—äººè‡ªç„¶ä¼šæ‡‚ï¼‰ã€‚\n\nè€Œ Jenkins å’Œ GitLab æ˜¯å¼€æºå¯è‡ªä¸»éƒ¨ç½²çš„ï¼Œ Jenkins ä½¿ç”¨ Javaï¼Œå¯ä»¥éƒ¨ç½²åœ¨ç§æœ‰çš„æœåŠ¡å™¨ä¸Šï¼Œè‡³äº GitLab è™½å¤©ç„¶å¸¦æœ‰ CI/CD ï¼Œä½†ä¸€äº›æ“ä½œå¿…é¡»ä¾èµ– Jenkins æ‰èƒ½å®Œæˆã€‚æœ¬äººå¯¹äº Bamboo çš„äº†è§£ä¸å¤šï¼Œå¶ç„¶è¿›å…¥å®˜ç½‘å‘ç°ä¹Ÿæ˜¯ä¸€ä¸ª CI/CD å·¥å…·ï¼Œé‚è®°å½•ã€‚\nCI/CD å·¥å…·å¯ä»¥åšå¾ˆå¤šäº‹æƒ…ï¼Œå¤§æ¦‚çš„æ“ä½œé€»è¾‘å°±æ˜¯ï¼š\n è§¦å‘æ¡ä»¶ ç¼–è¯‘åŠå‰åå·¥ä½œ ç»“æŸ  ç»™ä¸€ä¸ªè§¦å‘è‡ªåŠ¨åŒ–éƒ¨ç½²çš„æ¡ä»¶ï¼Œæ¯”å¦‚æäº¤ä»£ç åç”±ä»£ç å‚è€ƒä½¿ç”¨ WebHook å‘æœåŠ¡å‘é€ä¸€ä¸ªè¯·æ±‚ä»è€Œè§¦å‘æ„å»ºï¼›è§¦å‘åå°±æ˜¯å¼€å‘è€…çš„å¤©ä¸‹å•¦ï¼ŒCI/CD æ˜¯ä¸€ä¸ªå¿ å®çš„å°ç²¾çµï¼Œå®ƒå¯¹äºæ‚¨ç»™å®ƒçš„æŒ‡ä»¤ç»å¯¹æœä»ï¼Œå› æ­¤ä»è¿™é‡Œå°±å¯ä»¥æŒ‡å®šéœ€è¦è‡ªåŠ¨æ‰§è¡Œçš„æ“ä½œäº†ï¼Œæ¯”å¦‚ï¼šç¯å¢ƒé…ç½®ã€ç¼–è¯‘ã€å“åº”å‡½æ•°ã€å‘é€çŠ¶æ€é‚®ä»¶ç­‰ç­‰ã€‚\nGitHub Action è™½ä¸ºåèµ·ä¹‹ç§€ï¼Œä½†å®ƒçš„å‡ºç°è¿˜æ˜¯è®©æ­¤å‰çš„ CI/CD æœåŠ¡æä¾›è€…æäº†ä¸€æŠŠæ±—ã€‚å› ä¸º GitHub æœ¬èº«å°±æ˜¯å…¨çƒæœ€å¤§ä»£ç æ‰˜ç®¡ä»“åº“ï¼Œè€Œä¸Šæ–‡æåˆ°çš„ Travis-CI ç­‰å¤šæ˜¯è¦é’ˆå¯¹ GitHub ä»“åº“å†…çš„ä»£ç æä¾›æœåŠ¡ï¼Œè€Œç°åœ¨ GitHub è‡ªèº«æä¾›äº†åˆ«å®¶ä¾èµ–å®ƒå®ç°çš„åŠŸèƒ½ã€‚\nGitHub Action GitHub Action æä¾›çš„ CI/CD æŒç»­éƒ¨ç½²ç¯å¢ƒå¾ˆæ˜¯å¸å¼•æˆ‘ï¼Œæ ¹æ®å®˜ç½‘æè¿°:\n Each virtual machine has the same hardware resources available.\n 2-core CPU 7 GB of RAM memory 14 GB of SSD disk space  Virtual environment\n Windows Server 2019 Ubuntu 18.04 Ubuntu 16.04 macOS X Catalina 10.15\tmacos-latest   è¿™æ ·ä¸€ä¸ªé…ç½®çš„ CI/CD ç¯å¢ƒå¯¹ç°åœ¨çš„æˆ‘æ¥è¯´å·²ç»æ˜¯è±ªåé˜µå®¹äº†ï¼Œè¯•æƒ³ä½¿ç”¨ GitHub Action å°±æ„å‘³ç€æœ‰ä¸€å° 2C 7G çš„ç”µè„‘ä¸“é—¨ä¸ºæˆ‘çš„ä»£ç å®Œæˆç¼–è¯‘å·¥ä½œï¼Œæ­¤å¤–è¿™å°ç”µè„‘è¿˜æ˜¯åŒæ—¶æ”¯æŒ Windows, Linux, Mac OS ç³»ç»Ÿçš„ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘å¯ä»¥åœ¨è¿™å°ç”µè„‘ä¸Šå®Œæˆç°åœ¨é’ˆå¯¹æ‰€æœ‰ä¸»æµå¹³å°ä»£ç çš„ç¼–è¯‘å·¥ä½œï¼Œæ˜¯ä¸æ˜¯æŒºçˆ½çš„ï¼Ÿæ›´è¯¦ç»†çš„ç¯å¢ƒæ”¯æŒè¯´æ˜åœ¨ GitHub å®˜ç½‘ ä¸­çš„è¿™ç¯‡æ–‡ç« å¯ä»¥çœ‹åˆ° Software installed on GitHub-hosted runners.\næ›´å¤šå…³äº GitHUb Action çš„è¯´æ˜å¯ä»¥åœ¨å…¶å®˜ç½‘æ‰¾åˆ°è¯¦ç»†æè¿°ï¼Œåœ¨æ­¤ä¸å†èµ˜è¿°ï¼Œè‡³äºåœ°å€åœ¨æ–‡ç« ä¸€å¼€å§‹å°±æœ‰ç»™å‡ºã€‚ä¸‹é¢å°±æ¥è®°å½•ä¸€ä¸ªä½¿ç”¨ Github Action çš„å…·ä½“æ“ä½œï¼šä»£ç æäº¤åè§¦å‘ = ç¼–è¯‘å¹¶æ‰“åŒ…ç”Ÿæˆ APK å®‰è£…åŒ… = æäº¤åˆ° Fir.im åº”ç”¨å†…æµ‹åˆ†å‘å¹³å°ã€‚\nPackage Andrpid apk å…ˆæ¥åˆ†æä¸€ä¸‹éœ€æ±‚ï¼Œæ ¹æ® CI/CD çš„æ€æƒ³ï¼Œå°†éœ€è¦å®Œæˆçš„å·¥ä½œæµç¨‹åŒ–ï¼Œå»ºç«‹ä¸€æ¡æµæ°´çº¿ã€‚æˆ‘éœ€è¦å®Œæˆçš„å·¥ç»„æœ‰ï¼š\n å°† Android ç¨‹åºæºä»£ç ç¼–è¯‘æ‰“åŒ…ä¸º apk å®‰è£…åŒ…å¹¶ç­¾å å°†ç¼–è¯‘é€šè¿‡å¹¶ç­¾è¿‡åçš„ apk å®‰è£…åŒ…ä¸Šä¼ è‡³ fir.im å†…æµ‹åº”ç”¨åˆ†å‘å¹³å°  æ˜ç¡®éœ€æ±‚ä¸‹é¢å°±å¯ä»¥å¼€å·¥äº†ã€‚GitHub Action çš„ä½¿ç”¨éå¸¸ç®€å•ï¼Œåœ¨ä»£ç ä»“åº“ä¸­é€‰æ‹© Action é€‰é¡¹å¡è¿›å…¥ï¼Œæˆ–ç›´æ¥åœ¨æ ¹ç›®å½•ä¸‹å»ºç«‹æ–‡ä»¶å¤¹ .github/workflows å¹¶åœ¨å…¶ä¸­æ–°å»ºä¸€ä¸ª *.ymlçš„æ–‡ä»¶å³å¯ï¼Œæ­¤æ–‡ä»¶å°±æ˜¯æŒ‡å®šä½ éœ€è¦ Action å¸®ä½ å®Œæˆçš„å·¥ä½œã€‚GitHub MarkPlace ä¸­æä¾›äº†ä¸Šåƒç§ç¤¾åŒºå¼€å‘è€…è´¡çŒ®çš„æ¨¡ç‰ˆå¯ä»¥æ ¹æ®éœ€æ±‚æ‹¿æ¥ä½¿ç”¨ã€‚\nPackage GitHub ä¸º Android Apk æ‰“åŒ…æä¾›äº†ä¸€ä¸ªæ¨¡ç‰ˆï¼Œæ‰“å¼€ä¹‹åæ–‡ä»¶å†…å®¹å¤§æ¦‚æ˜¯è¿™æ ·å­ï¼š\nname: Android CI on: [push] jobs: build: runs-on: ubuntu-latest steps: - uses: actions/checkout@v1 - name: set up JDK 1.8 uses: actions/setup-java@v1 with: java-version: 1.8 - name: Build with Gradle run: ./gradlew build æ¨¡ç‰ˆåˆ›å»ºä¼šè‡ªåŠ¨åŒ–åœ¨ä»“åº“ .github/workflowsæ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª android.yml æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶åˆ¶å®šçš„å·¥ä½œæµå°±å·²ç»å¯ä»¥å®Œæˆ Android Apk çš„æ‰“åŒ…å·¥ä½œjï¼Œä½†æ˜¯æˆ‘ä¸å…‰è¦å®Œæˆæ‰“åŒ…ï¼Œè¿˜è¦ä¸Šä¼  fir.im ï¼Œä¸‹é¢å°±å¼€å§‹åŸºäºè¿™ä¸ªæ¨¡ç‰ˆè¿›è¡Œä¿®æ”¹ã€‚\næ‰§è¡Œåˆ°æ–‡ä»¶ç»“æŸå°±å®Œæˆäº†æ‰“åŒ…å·¥ä½œï¼Œä¸‹é¢å°†æ‰“åŒ…çš„æˆæœæäº¤åˆ° fir.imã€‚\ninstall fir-cli ã€Œfir.imã€æ˜¯å›½å†…é¦–å®¶ä¸ºç§»åŠ¨å¼€å‘è€…æä¾› App å…è´¹æ‰˜ç®¡åˆ†å‘æœåŠ¡çš„å¹³å°ï¼Œä¸ºç§»åŠ¨å¼€å‘è€…æä¾›æé€Ÿæµ‹è¯•å‘å¸ƒã€å´©æºƒæ”¶é›†åˆ†æã€ç”¨æˆ·åé¦ˆæ”¶é›†ç­‰ä¸€ç³»åˆ—å¼€å‘æµ‹è¯•æ•ˆç‡å·¥å…·æœåŠ¡ï¼Œèƒ½å¤Ÿè®©å¼€å‘è€…æ›´ä¸“æ³¨äºäº§å“å¼€å‘ä¸ä¼˜åŒ–ã€‚è€Œ fir-cliæ˜¯ fir.im æä¾›çš„ä¸€ä¸ªå¯ä»¥é€šè¿‡æŒ‡ä»¤æŸ¥çœ‹, ä¸Šä¼ , iOS/Android åº”ç”¨çš„å·¥å…·ï¼Œæƒ³è¦åœ¨ CI/CD ç¯å¢ƒä¸­å°†åº”ç”¨æäº¤åˆ° fir.im å°±éœ€è¦å®‰è£…è¿™ä¸ªå·¥å…·ã€‚ fir-cli ä½¿ç”¨ Ruby æ„å»º, æ— éœ€ç¼–è¯‘, åªè¦å®‰è£…ç›¸åº” gem å³å¯.\n$ ruby -v #  2.6.1\r$ gem install fir-cli\rå› æ­¤æˆ‘ä»¬éœ€è¦å‡†å¤‡ä¸€ä¸ª Ruby ç¯å¢ƒï¼Œåœ¨ .yml æ–‡ä»¶æœ«å°¾æ·»åŠ ä¸‹åˆ—å†…å®¹ï¼š\n- uses: actions/cache@preview\rid: cache\rwith:\rpath: ~/local/rubies\rkey: ruby-2.6.5 - uses: clupprich/ruby-build-action@master\rid: ruby\rwith:\rruby-version: 2.6.5\rfiles: app/build/outputs/apk/release/app-release.apk\rå‚è€ƒæ¨¡ç‰ˆåœ¨è¿™é‡Œï¼š GitHUb/Marketplace Actions Setup Ruby environment with ruby-buildã€‚\nUpload to fir.im æ‰§è¡Œåˆ°è¿™é‡Œå°±å®Œæˆäº† fir.im è¿è¡Œç¯å¢ƒçš„å‡†å¤‡ï¼Œä¸‹é¢å°±å¼€å§‹ä¸Šä¼ ï¼š\n- name: install fir.im run: gem install fir-cli - name: Upload to Fir.im run: fir login ${{ secrets.FIRTOKEN }} - run: fir publish app/build/outputs/apk/release/app-release.apk å…¶ä¸­ FIRTOKEN éœ€è¦åœ¨ä»£ç ä»“åº“ä¸­è®¾ç½®ï¼Œå³ fir.im è´¦æˆ·ä¸­æä¾›çš„ tokenã€‚\næ¥ä¸‹æ¥æäº¤ï¼Œè§¦å‘æ„å»ºï¼ŒGitHub Action å°±ä¼šå®ŒæˆæŒ‡å®šçš„å·¥ä½œã€‚\nGitHub Actionç°åœ¨ä¹Ÿæä¾›äº†ç±»ä¼¼äºä¸Šæ–‡æåˆ°çš„æ„å»ºçŠ¶æ€å¾½æ ‡ï¼ŒMarkDown ä½¿ç”¨æ ¼å¼å¦‚ä¸‹äºŒé€‰ä¸€ï¼š\nhttps://github.com///workflows//badge.svg\rhttps://github.com///workflows//badge.svg\rä¾‹å¦‚æˆ‘æƒ³è¦è°ƒç”¨ songtianlun ä¸­ Plan Assistant ä»£ç ä»“åº“ä¸­çš„ Android CI å·¥ä½œæµæ„å»ºçŠ¶æ€å°±å¯ä»¥é€šè¿‡ https://github.com/songtianlun/PlanAssistant/workflows/Android%20CI/badge.svgçœ‹åˆ°ä¸‹å›¾æ‰€ç¤ºæ•ˆæœï¼š\næœ€ååªéœ€è¦ä¸‹é¢è¿™ä¸ªç½‘å€ï¼Œå°±å¯ä»¥ä¸‹è½½åˆ°æˆ‘çš„ Android ç¨‹åº PlanAssistant æœ€æ–°å†…æµ‹ç‰ˆæœ¬äº†ã€‚è€Œè¿™ä¸€åˆ‡çš„å·¥ä½œåªéœ€æˆ‘è¿›è¡Œä¸€æ¬¡ä»£ç æäº¤ï¼Œå…¶ä»–çš„ GitHub Action å°±å¯ä»¥å¸®æˆ‘å®Œæˆï¼Œä¸ªäººä»¥ä¸ºæŒºç¥å¥‡çš„ã€‚\nhttps://fir.im/xm19\nEnd ç»ˆäºå®Œæˆæœ¬æ–‡ï¼Œå¯¹ CI/CD ä¸€ç›´å¾ˆæ„Ÿå…´è¶£ï¼Œç›®å‰åœ¨åŠ æ‹¿å¤§ä¸€å°ç§æœ‰æœåŠ¡å™¨éƒ¨ç½²è‡ªå·±çš„ Jenkins å¹¶ä½¿ç”¨äº†å‡ ä¸ªæœˆäº†ï¼ˆè¦é—®ä¸ºä»€ä¹ˆæ˜¯åŠ æ‹¿å¤§ï¼Œè¿˜ä¸æ˜¯å› ä¸ºä¾¿å®œï¼Œæ— å¥ˆå¿å—é«˜å»¶è¿Ÿäº«å—å¥½è®¡ç®—åŠ›ï¼‰ï¼Œç°åœ¨GitHub æä¾›äº†è¿™ä¹ˆå¥½çš„å¹³å°å¯¹äºç›®å‰æ¯«æ— æ”¶å…¥çš„æˆ‘ç®€ç›´çŠ¹å¦‚ä¹…æ—±ç”˜éœ–ï¼ˆä¸‹ä¸ªæœˆç»ˆäºä¸ç”¨å†æ‰¿å—ä¸è´µä½†è¿˜æœ‰ç‚¹è´µçš„ç»­è´¹è´¹ç”¨ï¼‰ã€‚è€Œç°åœ¨ç»ˆäºæŠ½ç©ºç ”ç©¶é€šäº†ä½¿ç”¨ GitHub Action æ›¿ä»£ Jenkins çš„æ–¹æ³•ã€‚Jenkins å¯ç§æœ‰éƒ¨ç½²ï¼Œå› è€Œå¯¹äºç§å¯†æ€§è¦æ±‚è¾ƒé«˜çš„æ„å»ºå¾ˆå‹å¥½ï¼Œå¼€æºäº§å“è¿˜æä¾›äº†å¾ˆæ–¹ä¾¿ç¾è§‚çš„å®¢æˆ·ç«¯ï¼Œè¿™å°±æ˜¯å¼€æºçš„å¥½å¤„ã€‚è€Œ GitHub è¢« Microsoft æ”¶è´­ä»¥åè²Œä¼¼å…¶è®¡ç®—åŠ›æé«˜äº†ä¸€å¤§æˆªï¼Œè™½ç„¶ç°åœ¨ä¸»è¦æœåŠ¡è¿˜æ˜¯éƒ¨ç½²åœ¨ Awazon Cloud Services ï¼Œå›½å†…è®¿é—®éœ€è¦å¿å— AWS å›½é™…ç‰ˆçš„é«˜å»¶è¿Ÿï¼Œä½†å…¶å­˜åœ¨æ„ä¹‰ä¸è¨€è€Œå–»ã€‚å¦‚æœéœ€è¦ç§æœ‰éƒ¨ç½²çš„ä»£ç ä»“åº“æ›¿ä»£å“æœ‰ GitLabã€Gitesç­‰å¼€æºäº§å“å¯ç§æœ‰éƒ¨ç½²ï¼Œè¿˜æœ‰å›½å†…çš„ Giteaã€Codingã€DevCloud ç­‰ä»£ç ä»“åº“æœåŠ¡ï¼Œæ€»æ˜¯å¯ä»¥æ»¡è¶³éœ€æ±‚ã€‚è€Œ CI/CD åœ¨å½“å‰è¿™ä¸ªäº’è”ç½‘èŠ‚å¥è¶Šæ¥è¶Šå¿«çš„æ—¶ä»£ä¸€å®šä¼šæˆä¸ºè½¯ä»¶äº§å“çš„å¿…éœ€å“ï¼Œæ€»çš„æ¥è¯´æŠ˜è…¾èµ·æ¥è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ã€‚\næ²¡æƒ³åˆ°å†™äº†è¿™ä¹ˆä¹…ï¼Œæ›´å¤šè¯¦ç»†çš„ä¿¡æ¯è¿˜å¯ä»¥åœ¨ç›¸å…³æ–‡çŒ®ä¸­é˜…è¯»ï¼ŒGitHub Action çš„ä½¿ç”¨å®æµ‹åœ¨ Google ä½¿ç”¨ English æ£€ç´¢å¯ä»¥æ‰¾åˆ°æ›´æœ‰æ„ä¹‰çš„ç­”æ¡ˆï¼Œå¯¹äºæˆ‘æ¥è¯´è¿™ä¹Ÿæ˜¯ä¸€ä¸ªéš¾å¾—çš„æé«˜è‹±è¯­çš„é€”å¾„äº†ã€‚\nç›¸å…³æ–‡çŒ®  CI/CD - WikiPedia ä»€ä¹ˆæ˜¯ CI/CDï¼Ÿ CI/CD for Flutter Apps Using GitHub Actions GitHub Actions on Android project Fir.im - ç™¾åº¦ç™¾ç§‘ GitHub/FIRHQ/fir-cli/doc/install.md GitHub/Marketplace Actions Setup Ruby environment with ruby-build GitHub Help/GitHub Actions Automating your workflow Getting started Configuring a workflow Action Example - actions/setup-node  ","wordCount":"3011","inLanguage":"zh","datePublished":"2019-11-17T21:36:00Z","dateModified":"2019-11-17T21:36:00Z","author":{"@type":"Person","name":"Tianlun Song"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.frytea.com/archives/260/"},"publisher":{"@type":"Organization","name":"Frytea","logo":{"@type":"ImageObject","url":"https://www.frytea.com/favicon.ico"}}}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=https://www.frytea.com/ accesskey=h title="ğŸ¡ Frytea (Alt + H)">ğŸ¡ Frytea</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://www.frytea.com/tags/ title="ğŸ·ï¸ æ ‡ç­¾"><span>ğŸ·ï¸ æ ‡ç­¾</span></a></li><li><a href=https://www.frytea.com/search/ title="ğŸ” ç´¢å¼• (Alt + /)" accesskey=/><span>ğŸ” ç´¢å¼•</span></a></li><li><a href=https://www.frytea.com/friends title="ğŸ§‘â€ğŸ¤â€ğŸ§‘ å‹é“¾"><span>ğŸ§‘â€ğŸ¤â€ğŸ§‘ å‹é“¾</span></a></li><li><a href=https://www.travellings.cn/go.html title=ğŸš‡><span>ğŸš‡</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.frytea.com/>ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href=https://www.frytea.com/archives/>Archives</a></div><h1 class=post-title><a href=https://www.frytea.com/archives/260/>ã€æŒç»­é›†æˆã€‘Androidä½¿ç”¨Github Actionè‡ªåŠ¨æ‰“åŒ…å¹¶å‘å¸ƒFir.imå†…æµ‹</a></h1><div class=post-meta>November 17, 2019&nbsp;Â·&nbsp;7 åˆ†é’Ÿ&nbsp;Â·&nbsp;3011 å­—&nbsp;Â·&nbsp;Tianlun Song&nbsp;|&nbsp;<a href=https://github.com/songtianlun/songtianlun.github.io/edit/main/content/archives/%e3%80%90%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e3%80%91Android%e4%bd%bf%e7%94%a8Github-Action%e8%87%aa%e5%8a%a8%e6%89%93%e5%8c%85%e5%b9%b6%e5%8f%91%e5%b8%83Fir.im%e5%86%85%e6%b5%8b.md rel="noopener noreferrer" target=_blank>PR</a>
<span>| <span class=waline-pageview-count data-path=/archives/260/><i class="fa fa-spinner fa-spin"></i></span> Hits</span></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>ç›®å½•</span></summary><div class=inner><ul><li><a href=#%e5%89%8d%e8%a8%80 aria-label=å‰è¨€>å‰è¨€</a></li><li><a href=#%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90cicd aria-label=æŒç»­é›†æˆï¼ˆCI/CDï¼‰>æŒç»­é›†æˆï¼ˆCI/CDï¼‰</a></li><li><a href=#github-action aria-label="GitHub Action">GitHub Action</a></li><li><a href=#package-andrpid-apk aria-label="Package Andrpid apk">Package Andrpid apk</a><ul><li><a href=#package aria-label=Package>Package</a></li><li><a href=#install-fir-cli aria-label="install fir-cli">install fir-cli</a></li><li><a href=#upload-to-firim aria-label="Upload to fir.im">Upload to fir.im</a></li></ul></li><li><a href=#end aria-label=End>End</a></li><li><a href=#%e7%9b%b8%e5%85%b3%e6%96%87%e7%8c%ae aria-label=ç›¸å…³æ–‡çŒ®>ç›¸å…³æ–‡çŒ®</a></li></ul></div><div><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-7296634171837358 data-ad-slot=9161921641 data-ad-format=auto data-full-width-responsive=true></ins></div><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></details></div><div class=post-content><blockquote style=margin-top:8px><p style=text-align:center;text-indent:0><a href=https://www.frytea.com/archives/260/>æœ¬æ–‡</a>
é¦–å‘äº
<a href=https://www.frytea.com/>ğŸŒ± ç…èŒ¶</a>ï¼Œ
<a href=/disclaimer/>è½¬è½½</a> è¯·æ³¨æ˜
<a href=https://www.frytea.com/archives/260/>æ¥æº</a>ã€‚</p></blockquote><p><img loading=lazy src=https://blog.frytea.com/usr/uploads/2019/11/832379560.jpeg#shadow alt=B8A09718-BB0F-4896-82E9-332323220F15.jpeg></p><p>!!!</p><center>Photo by Mesut Kaya on Unsplash</center>
!!!<p>ä¸ºä»€ä¹ˆå°é¢å›¾æ˜¯ä¸€å¼ æ—…æ¸¸çš„ç…§ç‰‡ï¼Ÿå› ä¸ºä½¿ç”¨ CI/CD ç­‰å·¥å…·é«˜æ•ˆçš„å®Œæˆå·¥ä½œï¼Œå°±å¯ä»¥å‡ºå»ç©äº†ï¼</p><h2 id=å‰è¨€>å‰è¨€<a hidden class=anchor aria-hidden=true href=#å‰è¨€>#</a></h2><p><a href=https://github.com/features/actions>GitHub Actions</a> æ˜¯ <a href=https://github.com>GitHub</a> å®˜æ–¹æä¾›å¹¶å…è´¹æä¾›ç»™å¼€æºä»“åº“ä½¿ç”¨çš„æŒç»­é›†æˆæœåŠ¡ï¼Œåœ¨è¿›å…¥æœ¬æ–‡ä¸»é¢˜ä¹‹å‰ï¼Œå…ˆè®²è®²ä»€ä¹ˆæ˜¯æŒç»­é›†æˆ (CI/CD) ã€‚</p><h2 id=æŒç»­é›†æˆcicd>æŒç»­é›†æˆï¼ˆCI/CDï¼‰<a hidden class=anchor aria-hidden=true href=#æŒç»­é›†æˆcicd>#</a></h2><p>æ ¹æ® WIkiPedia å¼•ç”¨è‡ª<a href=https://codilime.com/what-is-ci-cd-all-you-need-to-know/>What is CI/CD - all you need to know</a> çš„è¯´æ³•ï¼š</p><blockquote><p>In software engineering, CI/CD or CICD generally refers to the combined practices of continuous integration and continuous delivery (aka continuous deployment).</p></blockquote><p>ç®€å•æ¥è¯´å°±æ˜¯æŒ‡"æŒç»­é›†æˆå’ŒæŒç»­äº¤ä»˜"ï¼Œæ›´ç”ŸåŠ¨çš„è¡¨è¿°å¯ä»¥å¼•ç”¨è‡ªçº¢å¸½å®˜ç½‘<a href=https://www.redhat.com/zh/topics/devops/what-is-ci-cd>ã€Šä»€ä¹ˆæ˜¯ CI/CDï¼Ÿã€‹</a>ä¸€æ–‡ä¸­çš„æè¿°ï¼š</p><blockquote><p>CI/CD æ˜¯ä¸€ç§é€šè¿‡åœ¨åº”ç”¨å¼€å‘é˜¶æ®µå¼•å…¥è‡ªåŠ¨åŒ–æ¥é¢‘ç¹å‘å®¢æˆ·äº¤ä»˜åº”ç”¨çš„æ–¹æ³•ã€‚CI/CD çš„æ ¸å¿ƒæ¦‚å¿µæ˜¯æŒç»­é›†æˆã€æŒç»­äº¤ä»˜å’ŒæŒç»­éƒ¨ç½²ã€‚ä½œä¸ºä¸€ä¸ªé¢å‘å¼€å‘å’Œè¿è¥å›¢é˜Ÿçš„è§£å†³æ–¹æ¡ˆï¼ŒCI/CD ä¸»è¦é’ˆå¯¹åœ¨é›†æˆæ–°ä»£ç æ—¶æ‰€å¼•å‘çš„é—®é¢˜ï¼ˆäº¦ç§°ï¼šâ€œé›†æˆåœ°ç‹±â€ï¼‰ã€‚</p></blockquote><blockquote><p>å…·ä½“è€Œè¨€ï¼ŒCI/CD åœ¨æ•´ä¸ªåº”ç”¨ç”Ÿå‘½å‘¨æœŸå†…ï¼ˆä»é›†æˆå’Œæµ‹è¯•é˜¶æ®µï¼Œåˆ°äº¤ä»˜å’Œéƒ¨ç½²ï¼‰å¼•å…¥äº†æŒç»­è‡ªåŠ¨åŒ–å’ŒæŒç»­ç›‘æ§ã€‚è¿™äº›å…³è”çš„äº‹åŠ¡é€šå¸¸è¢«ç»Ÿç§°ä¸ºâ€œCI/CD ç®¡é“â€ï¼Œç”±å¼€å‘å’Œè¿ç»´å›¢é˜Ÿä»¥æ•æ·æ–¹å¼ååŒæ”¯æŒã€‚</p></blockquote><p>é€šä¿—æ¥è¯´ï¼ŒæŒç»­é›†æˆæ˜¯é¢å¯¹å¼€å‘å›¢é˜Ÿä¸åŒäººå‘˜é’ˆå¯¹åŒä¸€è½¯ä»¶å¼€å‘äº§å“ä¸åŒéƒ¨åˆ†ä»£ç çš„é›†æˆã€æŒç»­äº¤ä»˜ã€éƒ¨ç½²é—®é¢˜çš„ä¸€å¥—è§£å†³æ–¹æ¡ˆã€‚ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨æ²¡æœ‰æŒç»­é›†æˆç³»ç»Ÿä¹‹å‰ï¼Œå›¢é˜Ÿåˆä½œè¿›è¡Œè½¯ä»¶å¼€å‘ï¼Œå°±éœ€è¦æœ‰äººä¸“é—¨è´Ÿè´£ä»£ç çš„æ•´åˆã€ç¼–è¯‘ã€éƒ¨ç½²ï¼Œè€Œæœ‰äº†æŒç»­éƒ¨ç½²ç³»ç»Ÿä¹‹åï¼Œå›¢é˜Ÿæˆå‘˜åªéœ€å°†è‡ªå·±çš„ä»£ç æäº¤è‡³å…¬å…±ä»£ç ä»“åº“ï¼Œç³»ç»Ÿæ¥æ”¶åˆ°ä»£ç æ¨é€è¯·æ±‚åå°±ä¼šè‡ªåŠ¨çš„æ‰§è¡Œä¸€ç³»åˆ—å®ç°çº¦å®šå¥½çš„å·¥ä½œæµç¨‹ï¼Œä¸å†éœ€è¦æœ‰äººä¸“é—¨è´Ÿè´£è¿™ä¸€å·¥ä½œï¼Œä»£ç æäº¤è€…ä¹Ÿå¯ä»¥å®æ—¶çš„çœ‹åˆ°è‡ªå·±çš„ä»£ç åœ¨æ•´ä¸ªç³»ç»Ÿä¸­çš„è¿è¡ŒçŠ¶å†µï¼Œæå¤§çš„æé«˜äº†å¼€å‘æ•ˆç‡ã€‚</p><p>ç›®å‰æä¾›CI/CDæœåŠ¡çš„æœ‰å¾ˆå¤šå®¶ï¼š</p><ul><li><a href=https://github.com/features/actions>GitHub Actions</a></li><li><a href=https://travis-ci.org/>Travis-CI</a></li><li><a href=https://circleci.com/>CircleCI</a></li><li><a href=https://jenkins.io/>Jenkins</a></li><li><a href=https://gitlab.com/>GitLab</a></li><li><a href=https://www.atlassian.com/zh/software/bamboo>Bamboo</a></li></ul><p>å…¶ä¸­ Teavis-CI å’Œ CircleCI å¯¹å¼€æºäº§å“æ¯”è¾ƒå‹å¥½ï¼Œåœ¨ GitHub Action ä¹‹å‰ï¼Œå®ƒä»¬å‡ ä¹æ˜¯å¼€æºäº§å“å¿…å¤‡çš„ CI/CD çš„å·¥å…·ï¼Œå¼€æºä»£ç ä»“åº“å¸¸è§çš„è¿™ä¸ªç»¿è‰²çš„ &ldquo;passing&rdquo; å°±æ˜¯ Travis-CI å¾ˆç»å…¸çš„ä¸€ä¸ªéƒ¨ç½²çŠ¶æ€å¾½æ ‡ï¼Œè¿™ä¸€æŠ¹ç»¿ä¸çŸ¥é“å¸¦ç»™å¤šå°‘äººå¤šå°‘å¿«ä¹ï¼ˆç¼–è¯‘ä¸é€šè¿‡çš„è‹¦æ‡‚å¾—äººè‡ªç„¶ä¼šæ‡‚ï¼‰ã€‚</p><p><a href=https://travis-ci.org/songtianlun/PlanAssistant><img loading=lazy src="https://travis-ci.org/songtianlun/PlanAssistant.svg?branch=master" alt="Build Status"></a></p><p>è€Œ Jenkins å’Œ GitLab æ˜¯å¼€æºå¯è‡ªä¸»éƒ¨ç½²çš„ï¼Œ Jenkins ä½¿ç”¨ Javaï¼Œå¯ä»¥éƒ¨ç½²åœ¨ç§æœ‰çš„æœåŠ¡å™¨ä¸Šï¼Œè‡³äº GitLab è™½å¤©ç„¶å¸¦æœ‰ CI/CD ï¼Œä½†ä¸€äº›æ“ä½œå¿…é¡»ä¾èµ– Jenkins æ‰èƒ½å®Œæˆã€‚æœ¬äººå¯¹äº Bamboo çš„äº†è§£ä¸å¤šï¼Œå¶ç„¶è¿›å…¥å®˜ç½‘å‘ç°ä¹Ÿæ˜¯ä¸€ä¸ª CI/CD å·¥å…·ï¼Œé‚è®°å½•ã€‚</p><p>CI/CD å·¥å…·å¯ä»¥åšå¾ˆå¤šäº‹æƒ…ï¼Œå¤§æ¦‚çš„æ“ä½œé€»è¾‘å°±æ˜¯ï¼š</p><ol><li>è§¦å‘æ¡ä»¶</li><li>ç¼–è¯‘åŠå‰åå·¥ä½œ</li><li>ç»“æŸ</li></ol><p>ç»™ä¸€ä¸ªè§¦å‘è‡ªåŠ¨åŒ–éƒ¨ç½²çš„æ¡ä»¶ï¼Œæ¯”å¦‚æäº¤ä»£ç åç”±ä»£ç å‚è€ƒä½¿ç”¨ WebHook å‘æœåŠ¡å‘é€ä¸€ä¸ªè¯·æ±‚ä»è€Œè§¦å‘æ„å»ºï¼›è§¦å‘åå°±æ˜¯å¼€å‘è€…çš„å¤©ä¸‹å•¦ï¼ŒCI/CD æ˜¯ä¸€ä¸ªå¿ å®çš„å°ç²¾çµï¼Œå®ƒå¯¹äºæ‚¨ç»™å®ƒçš„æŒ‡ä»¤ç»å¯¹æœä»ï¼Œå› æ­¤ä»è¿™é‡Œå°±å¯ä»¥æŒ‡å®šéœ€è¦è‡ªåŠ¨æ‰§è¡Œçš„æ“ä½œäº†ï¼Œæ¯”å¦‚ï¼šç¯å¢ƒé…ç½®ã€ç¼–è¯‘ã€å“åº”å‡½æ•°ã€å‘é€çŠ¶æ€é‚®ä»¶ç­‰ç­‰ã€‚</p><p>GitHub Action è™½ä¸ºåèµ·ä¹‹ç§€ï¼Œä½†å®ƒçš„å‡ºç°è¿˜æ˜¯è®©æ­¤å‰çš„ CI/CD æœåŠ¡æä¾›è€…æäº†ä¸€æŠŠæ±—ã€‚å› ä¸º GitHub æœ¬èº«å°±æ˜¯å…¨çƒæœ€å¤§ä»£ç æ‰˜ç®¡ä»“åº“ï¼Œè€Œä¸Šæ–‡æåˆ°çš„ Travis-CI ç­‰å¤šæ˜¯è¦é’ˆå¯¹ GitHub ä»“åº“å†…çš„ä»£ç æä¾›æœåŠ¡ï¼Œè€Œç°åœ¨ GitHub è‡ªèº«æä¾›äº†åˆ«å®¶ä¾èµ–å®ƒå®ç°çš„åŠŸèƒ½ã€‚</p><h2 id=github-action>GitHub Action<a hidden class=anchor aria-hidden=true href=#github-action>#</a></h2><p>GitHub Action æä¾›çš„ CI/CD æŒç»­éƒ¨ç½²ç¯å¢ƒå¾ˆæ˜¯å¸å¼•æˆ‘ï¼Œæ ¹æ®å®˜ç½‘æè¿°:</p><blockquote><p>Each virtual machine has the same hardware resources available.</p><ul><li>2-core CPU</li><li>7 GB of RAM memory</li><li>14 GB of SSD disk space</li></ul><p>Virtual environment</p><ul><li>Windows Server 2019</li><li>Ubuntu 18.04</li><li>Ubuntu 16.04</li><li>macOS X Catalina 10.15 macos-latest</li></ul></blockquote><p>è¿™æ ·ä¸€ä¸ªé…ç½®çš„ CI/CD ç¯å¢ƒå¯¹ç°åœ¨çš„æˆ‘æ¥è¯´å·²ç»æ˜¯è±ªåé˜µå®¹äº†ï¼Œè¯•æƒ³ä½¿ç”¨ GitHub Action å°±æ„å‘³ç€æœ‰ä¸€å° 2C 7G çš„ç”µè„‘ä¸“é—¨ä¸ºæˆ‘çš„ä»£ç å®Œæˆç¼–è¯‘å·¥ä½œï¼Œæ­¤å¤–è¿™å°ç”µè„‘è¿˜æ˜¯åŒæ—¶æ”¯æŒ Windows, Linux, Mac OS ç³»ç»Ÿçš„ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘å¯ä»¥åœ¨è¿™å°ç”µè„‘ä¸Šå®Œæˆç°åœ¨é’ˆå¯¹æ‰€æœ‰ä¸»æµå¹³å°ä»£ç çš„ç¼–è¯‘å·¥ä½œï¼Œæ˜¯ä¸æ˜¯æŒºçˆ½çš„ï¼Ÿæ›´è¯¦ç»†çš„ç¯å¢ƒæ”¯æŒè¯´æ˜åœ¨ GitHub å®˜ç½‘ ä¸­çš„è¿™ç¯‡æ–‡ç« å¯ä»¥çœ‹åˆ° <a href=https://help.github.com/en/actions/automating-your-workflow-with-github-actions/software-installed-on-github-hosted-runners>Software installed on GitHub-hosted runners</a>.</p><p>æ›´å¤šå…³äº GitHUb Action çš„è¯´æ˜å¯ä»¥åœ¨å…¶å®˜ç½‘æ‰¾åˆ°è¯¦ç»†æè¿°ï¼Œåœ¨æ­¤ä¸å†èµ˜è¿°ï¼Œè‡³äºåœ°å€åœ¨æ–‡ç« ä¸€å¼€å§‹å°±æœ‰ç»™å‡ºã€‚ä¸‹é¢å°±æ¥è®°å½•ä¸€ä¸ªä½¿ç”¨ Github Action çš„å…·ä½“æ“ä½œï¼š<strong>ä»£ç æäº¤åè§¦å‘ => ç¼–è¯‘å¹¶æ‰“åŒ…ç”Ÿæˆ APK å®‰è£…åŒ… => æäº¤åˆ° <a href=https://fir.im>Fir.im</a> åº”ç”¨å†…æµ‹åˆ†å‘å¹³å°</strong>ã€‚</p><h2 id=package-andrpid-apk>Package Andrpid apk<a hidden class=anchor aria-hidden=true href=#package-andrpid-apk>#</a></h2><p>å…ˆæ¥åˆ†æä¸€ä¸‹éœ€æ±‚ï¼Œæ ¹æ® CI/CD çš„æ€æƒ³ï¼Œå°†éœ€è¦å®Œæˆçš„å·¥ä½œæµç¨‹åŒ–ï¼Œå»ºç«‹ä¸€æ¡æµæ°´çº¿ã€‚æˆ‘éœ€è¦å®Œæˆçš„å·¥ç»„æœ‰ï¼š</p><ol><li>å°† Android ç¨‹åºæºä»£ç ç¼–è¯‘æ‰“åŒ…ä¸º apk å®‰è£…åŒ…å¹¶ç­¾å</li><li>å°†ç¼–è¯‘é€šè¿‡å¹¶ç­¾è¿‡åçš„ apk å®‰è£…åŒ…ä¸Šä¼ è‡³ fir.im å†…æµ‹åº”ç”¨åˆ†å‘å¹³å°</li></ol><p>æ˜ç¡®éœ€æ±‚ä¸‹é¢å°±å¯ä»¥å¼€å·¥äº†ã€‚GitHub Action çš„ä½¿ç”¨éå¸¸ç®€å•ï¼Œåœ¨ä»£ç ä»“åº“ä¸­é€‰æ‹© Action é€‰é¡¹å¡è¿›å…¥ï¼Œæˆ–ç›´æ¥åœ¨æ ¹ç›®å½•ä¸‹å»ºç«‹æ–‡ä»¶å¤¹ <code>.github/workflows</code> å¹¶åœ¨å…¶ä¸­æ–°å»ºä¸€ä¸ª <code>*.yml</code>çš„æ–‡ä»¶å³å¯ï¼Œæ­¤æ–‡ä»¶å°±æ˜¯æŒ‡å®šä½ éœ€è¦ Action å¸®ä½ å®Œæˆçš„å·¥ä½œã€‚GitHub MarkPlace ä¸­æä¾›äº†ä¸Šåƒç§ç¤¾åŒºå¼€å‘è€…è´¡çŒ®çš„æ¨¡ç‰ˆå¯ä»¥æ ¹æ®éœ€æ±‚æ‹¿æ¥ä½¿ç”¨ã€‚</p><p><img loading=lazy src=https://blog.frytea.com/usr/uploads/2019/11/3083364585.png#shadow alt=AD787804-4BFB-44F6-B3EB-31E5DD316695.png></p><h3 id=package>Package<a hidden class=anchor aria-hidden=true href=#package>#</a></h3><p>GitHub ä¸º Android Apk æ‰“åŒ…æä¾›äº†ä¸€ä¸ªæ¨¡ç‰ˆï¼Œæ‰“å¼€ä¹‹åæ–‡ä»¶å†…å®¹å¤§æ¦‚æ˜¯è¿™æ ·å­ï¼š</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=color:#f92672>name</span>: <span style=color:#ae81ff>Android CI</span>

<span style=color:#f92672>on</span>: [<span style=color:#ae81ff>push]</span>

<span style=color:#f92672>jobs</span>:
  <span style=color:#f92672>build</span>:

    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-latest</span>

    <span style=color:#f92672>steps</span>:
    - <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v1</span>
    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>set up JDK 1.8</span>
      <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/setup-java@v1</span>
      <span style=color:#f92672>with</span>:
        <span style=color:#f92672>java-version</span>: <span style=color:#ae81ff>1.8</span>
    - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Build with Gradle</span>
      <span style=color:#f92672>run</span>: <span style=color:#ae81ff>./gradlew build</span>

</code></pre></div><p>æ¨¡ç‰ˆåˆ›å»ºä¼šè‡ªåŠ¨åŒ–åœ¨ä»“åº“ <code>.github/workflows</code>æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª <code>android.yml</code> æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶åˆ¶å®šçš„å·¥ä½œæµå°±å·²ç»å¯ä»¥å®Œæˆ Android Apk çš„æ‰“åŒ…å·¥ä½œjï¼Œä½†æ˜¯æˆ‘ä¸å…‰è¦å®Œæˆæ‰“åŒ…ï¼Œè¿˜è¦ä¸Šä¼  fir.im ï¼Œä¸‹é¢å°±å¼€å§‹åŸºäºè¿™ä¸ªæ¨¡ç‰ˆè¿›è¡Œä¿®æ”¹ã€‚</p><p>æ‰§è¡Œåˆ°æ–‡ä»¶ç»“æŸå°±å®Œæˆäº†æ‰“åŒ…å·¥ä½œï¼Œä¸‹é¢å°†æ‰“åŒ…çš„æˆæœæäº¤åˆ° fir.imã€‚</p><h3 id=install-fir-cli>install fir-cli<a hidden class=anchor aria-hidden=true href=#install-fir-cli>#</a></h3><p>ã€Œ<a href=https://fir.im>fir.im</a>ã€æ˜¯å›½å†…é¦–å®¶ä¸ºç§»åŠ¨å¼€å‘è€…æä¾› App å…è´¹æ‰˜ç®¡åˆ†å‘æœåŠ¡çš„å¹³å°ï¼Œä¸ºç§»åŠ¨å¼€å‘è€…æä¾›æé€Ÿæµ‹è¯•å‘å¸ƒã€å´©æºƒæ”¶é›†åˆ†æã€ç”¨æˆ·åé¦ˆæ”¶é›†ç­‰ä¸€ç³»åˆ—å¼€å‘æµ‹è¯•æ•ˆç‡å·¥å…·æœåŠ¡ï¼Œèƒ½å¤Ÿè®©å¼€å‘è€…æ›´ä¸“æ³¨äºäº§å“å¼€å‘ä¸ä¼˜åŒ–ã€‚è€Œ <a href=https://github.com/FIRHQ/fir-cli/blob/master/README.md>fir-cli</a>æ˜¯ fir.im æä¾›çš„ä¸€ä¸ªå¯ä»¥é€šè¿‡æŒ‡ä»¤æŸ¥çœ‹, ä¸Šä¼ , iOS/Android åº”ç”¨çš„å·¥å…·ï¼Œæƒ³è¦åœ¨ CI/CD ç¯å¢ƒä¸­å°†åº”ç”¨æäº¤åˆ° fir.im å°±éœ€è¦å®‰è£…è¿™ä¸ªå·¥å…·ã€‚ fir-cli ä½¿ç”¨ Ruby æ„å»º, æ— éœ€ç¼–è¯‘, åªè¦å®‰è£…ç›¸åº” gem å³å¯.</p><pre><code>$ ruby -v # &gt; 2.6.1
$ gem install fir-cli
</code></pre><p>å› æ­¤æˆ‘ä»¬éœ€è¦å‡†å¤‡ä¸€ä¸ª Ruby ç¯å¢ƒï¼Œåœ¨ <code>.yml</code> æ–‡ä»¶æœ«å°¾æ·»åŠ ä¸‹åˆ—å†…å®¹ï¼š</p><pre><code>- uses: actions/cache@preview
      id: cache
      with:
        path: ~/local/rubies
        key: ruby-2.6.5    
    - uses: clupprich/ruby-build-action@master
      id: ruby
      with:
        ruby-version: 2.6.5
        files: app/build/outputs/apk/release/app-release.apk
</code></pre><p>å‚è€ƒæ¨¡ç‰ˆåœ¨è¿™é‡Œï¼š <a href=https://github.com/marketplace/actions/setup-ruby-environment-with-ruby-build>GitHUb/Marketplace Actions Setup Ruby environment with ruby-build</a>ã€‚</p><h3 id=upload-to-firim>Upload to fir.im<a hidden class=anchor aria-hidden=true href=#upload-to-firim>#</a></h3><p>æ‰§è¡Œåˆ°è¿™é‡Œå°±å®Œæˆäº† fir.im è¿è¡Œç¯å¢ƒçš„å‡†å¤‡ï¼Œä¸‹é¢å°±å¼€å§‹ä¸Šä¼ ï¼š</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml>- <span style=color:#f92672>name</span>: <span style=color:#ae81ff>install fir.im</span>
      <span style=color:#f92672>run</span>: <span style=color:#ae81ff>gem install fir-cli</span>
- <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Upload to Fir.im</span>
      <span style=color:#f92672>run</span>: <span style=color:#ae81ff>fir login ${{ secrets.FIRTOKEN }}</span>
- <span style=color:#f92672>run</span>: <span style=color:#ae81ff>fir publish app/build/outputs/apk/release/app-release.apk</span>
</code></pre></div><p>å…¶ä¸­ <code>FIRTOKEN</code> éœ€è¦åœ¨ä»£ç ä»“åº“ä¸­è®¾ç½®ï¼Œå³ fir.im è´¦æˆ·ä¸­æä¾›çš„ tokenã€‚</p><p><img loading=lazy src=https://blog.frytea.com/usr/uploads/2019/11/1945647668.jpeg#shadow alt=C490731D-1496-453F-B9FB-A25F84320D2A.jpeg></p><p>æ¥ä¸‹æ¥æäº¤ï¼Œè§¦å‘æ„å»ºï¼ŒGitHub Action å°±ä¼šå®ŒæˆæŒ‡å®šçš„å·¥ä½œã€‚</p><p><img loading=lazy src=https://blog.frytea.com/usr/uploads/2019/11/1705409283.png#shadow alt=0B5D9692-D80D-492B-90CF-40DE21B28687.png></p><p>GitHub Actionç°åœ¨ä¹Ÿæä¾›äº†ç±»ä¼¼äºä¸Šæ–‡æåˆ°çš„æ„å»ºçŠ¶æ€å¾½æ ‡ï¼ŒMarkDown ä½¿ç”¨æ ¼å¼å¦‚ä¸‹äºŒé€‰ä¸€ï¼š</p><pre><code>https://github.com/&lt;OWNER&gt;/&lt;REPOSITORY&gt;/workflows/&lt;WORKFLOW_NAME&gt;/badge.svg

https://github.com/&lt;OWNER&gt;/&lt;REPOSITORY&gt;/workflows/&lt;WORKFLOW_FILE_PATH&gt;/badge.svg
</code></pre><p>ä¾‹å¦‚æˆ‘æƒ³è¦è°ƒç”¨ <code>songtianlun</code> ä¸­ <code>Plan Assistant</code> ä»£ç ä»“åº“ä¸­çš„ <code>Android CI</code> å·¥ä½œæµæ„å»ºçŠ¶æ€å°±å¯ä»¥é€šè¿‡ <code>https://github.com/songtianlun/PlanAssistant/workflows/Android%20CI/badge.svg</code>çœ‹åˆ°ä¸‹å›¾æ‰€ç¤ºæ•ˆæœï¼š</p><p><img loading=lazy src=https://github.com/songtianlun/PlanAssistant/workflows/Android%20CI/badge.svg alt></p><p>æœ€ååªéœ€è¦ä¸‹é¢è¿™ä¸ªç½‘å€ï¼Œå°±å¯ä»¥ä¸‹è½½åˆ°æˆ‘çš„ Android ç¨‹åº PlanAssistant æœ€æ–°å†…æµ‹ç‰ˆæœ¬äº†ã€‚è€Œè¿™ä¸€åˆ‡çš„å·¥ä½œåªéœ€æˆ‘è¿›è¡Œä¸€æ¬¡ä»£ç æäº¤ï¼Œå…¶ä»–çš„ GitHub Action å°±å¯ä»¥å¸®æˆ‘å®Œæˆï¼Œä¸ªäººä»¥ä¸ºæŒºç¥å¥‡çš„ã€‚</p><p><a href=https://fir.im/xm19>https://fir.im/xm19</a></p><h2 id=end>End<a hidden class=anchor aria-hidden=true href=#end>#</a></h2><p>ç»ˆäºå®Œæˆæœ¬æ–‡ï¼Œå¯¹ CI/CD ä¸€ç›´å¾ˆæ„Ÿå…´è¶£ï¼Œç›®å‰åœ¨åŠ æ‹¿å¤§ä¸€å°ç§æœ‰æœåŠ¡å™¨éƒ¨ç½²è‡ªå·±çš„ Jenkins å¹¶ä½¿ç”¨äº†å‡ ä¸ªæœˆäº†ï¼ˆè¦é—®ä¸ºä»€ä¹ˆæ˜¯åŠ æ‹¿å¤§ï¼Œè¿˜ä¸æ˜¯å› ä¸ºä¾¿å®œï¼Œæ— å¥ˆå¿å—é«˜å»¶è¿Ÿäº«å—å¥½è®¡ç®—åŠ›ï¼‰ï¼Œç°åœ¨GitHub æä¾›äº†è¿™ä¹ˆå¥½çš„å¹³å°å¯¹äºç›®å‰æ¯«æ— æ”¶å…¥çš„æˆ‘ç®€ç›´çŠ¹å¦‚ä¹…æ—±ç”˜éœ–ï¼ˆä¸‹ä¸ªæœˆç»ˆäºä¸ç”¨å†æ‰¿å—ä¸è´µä½†è¿˜æœ‰ç‚¹è´µçš„ç»­è´¹è´¹ç”¨ï¼‰ã€‚è€Œç°åœ¨ç»ˆäºæŠ½ç©ºç ”ç©¶é€šäº†ä½¿ç”¨ GitHub Action æ›¿ä»£ Jenkins çš„æ–¹æ³•ã€‚Jenkins å¯ç§æœ‰éƒ¨ç½²ï¼Œå› è€Œå¯¹äºç§å¯†æ€§è¦æ±‚è¾ƒé«˜çš„æ„å»ºå¾ˆå‹å¥½ï¼Œå¼€æºäº§å“è¿˜æä¾›äº†å¾ˆæ–¹ä¾¿ç¾è§‚çš„å®¢æˆ·ç«¯ï¼Œè¿™å°±æ˜¯å¼€æºçš„å¥½å¤„ã€‚è€Œ GitHub è¢« Microsoft æ”¶è´­ä»¥åè²Œä¼¼å…¶è®¡ç®—åŠ›æé«˜äº†ä¸€å¤§æˆªï¼Œè™½ç„¶ç°åœ¨ä¸»è¦æœåŠ¡è¿˜æ˜¯éƒ¨ç½²åœ¨ Awazon Cloud Services ï¼Œå›½å†…è®¿é—®éœ€è¦å¿å— AWS å›½é™…ç‰ˆçš„é«˜å»¶è¿Ÿï¼Œä½†å…¶å­˜åœ¨æ„ä¹‰ä¸è¨€è€Œå–»ã€‚å¦‚æœéœ€è¦ç§æœ‰éƒ¨ç½²çš„ä»£ç ä»“åº“æ›¿ä»£å“æœ‰ GitLabã€Gitesç­‰å¼€æºäº§å“å¯ç§æœ‰éƒ¨ç½²ï¼Œè¿˜æœ‰å›½å†…çš„ Giteaã€Codingã€DevCloud ç­‰ä»£ç ä»“åº“æœåŠ¡ï¼Œæ€»æ˜¯å¯ä»¥æ»¡è¶³éœ€æ±‚ã€‚è€Œ CI/CD åœ¨å½“å‰è¿™ä¸ªäº’è”ç½‘èŠ‚å¥è¶Šæ¥è¶Šå¿«çš„æ—¶ä»£ä¸€å®šä¼šæˆä¸ºè½¯ä»¶äº§å“çš„å¿…éœ€å“ï¼Œæ€»çš„æ¥è¯´æŠ˜è…¾èµ·æ¥è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ã€‚</p><p>æ²¡æƒ³åˆ°å†™äº†è¿™ä¹ˆä¹…ï¼Œæ›´å¤šè¯¦ç»†çš„ä¿¡æ¯è¿˜å¯ä»¥åœ¨ç›¸å…³æ–‡çŒ®ä¸­é˜…è¯»ï¼ŒGitHub Action çš„ä½¿ç”¨å®æµ‹åœ¨ Google ä½¿ç”¨ English æ£€ç´¢å¯ä»¥æ‰¾åˆ°æ›´æœ‰æ„ä¹‰çš„ç­”æ¡ˆï¼Œå¯¹äºæˆ‘æ¥è¯´è¿™ä¹Ÿæ˜¯ä¸€ä¸ªéš¾å¾—çš„æé«˜è‹±è¯­çš„é€”å¾„äº†ã€‚</p><h2 id=ç›¸å…³æ–‡çŒ®>ç›¸å…³æ–‡çŒ®<a hidden class=anchor aria-hidden=true href=#ç›¸å…³æ–‡çŒ®>#</a></h2><ul><li><a href=https://en.wikipedia.org/wiki/CI/CD>CI/CD - WikiPedia</a></li><li><a href=https://www.redhat.com/zh/topics/devops/what-is-ci-cd>ä»€ä¹ˆæ˜¯ CI/CDï¼Ÿ</a></li><li><a href=https://medium.com/better-programming/ci-cd-for-flutter-apps-using-github-actions-b833f8f7aac>CI/CD for Flutter Apps Using GitHub Actions</a></li><li><a href=http://vgaidarji.me/blog/2019/01/27/github-actions/>GitHub Actions on Android project</a></li><li><a href=https://baike.baidu.com/item/FIR.im>Fir.im - ç™¾åº¦ç™¾ç§‘</a></li><li><a href=https://github.com/FIRHQ/fir-cli/blob/master/doc/install.md>GitHub/FIRHQ/fir-cli/doc/install.md</a></li><li><a href=https://github.com/marketplace/actions/setup-ruby-environment-with-ruby-build>GitHub/Marketplace Actions Setup Ruby environment with ruby-build</a></li><li><a href=https://help.github.com/en/actions/automating-your-workflow-with-github-actions/configuring-a-workflow#adding-a-workflow-status-badge-to-your-repository>GitHub Help/GitHub Actions Automating your workflow Getting started Configuring a workflow</a></li><li><a href=https://github.com/actions/setup-node>Action Example - actions/setup-node</a></li></ul><div class=post-meta></hr>æ³¨ï¼šæœ¬ä½œå“é‡‡ç”¨<a rel=license target=view_window href=http://creativecommons.org/licenses/by-nc-sa/4.0/> çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®® </a>è¿›è¡Œè®¸å¯ã€‚</div></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.frytea.com/tags/android/>ğŸ· android</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share ã€æŒç»­é›†æˆã€‘Androidä½¿ç”¨Github Actionè‡ªåŠ¨æ‰“åŒ…å¹¶å‘å¸ƒFir.imå†…æµ‹ on twitter" href="https://twitter.com/intent/tweet/?text=%e3%80%90%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e3%80%91Android%e4%bd%bf%e7%94%a8Github%20Action%e8%87%aa%e5%8a%a8%e6%89%93%e5%8c%85%e5%b9%b6%e5%8f%91%e5%b8%83Fir.im%e5%86%85%e6%b5%8b&url=https%3a%2f%2fwww.frytea.com%2farchives%2f260%2f&hashtags=android"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share ã€æŒç»­é›†æˆã€‘Androidä½¿ç”¨Github Actionè‡ªåŠ¨æ‰“åŒ…å¹¶å‘å¸ƒFir.imå†…æµ‹ on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwww.frytea.com%2farchives%2f260%2f&title=%e3%80%90%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e3%80%91Android%e4%bd%bf%e7%94%a8Github%20Action%e8%87%aa%e5%8a%a8%e6%89%93%e5%8c%85%e5%b9%b6%e5%8f%91%e5%b8%83Fir.im%e5%86%85%e6%b5%8b&summary=%e3%80%90%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e3%80%91Android%e4%bd%bf%e7%94%a8Github%20Action%e8%87%aa%e5%8a%a8%e6%89%93%e5%8c%85%e5%b9%b6%e5%8f%91%e5%b8%83Fir.im%e5%86%85%e6%b5%8b&source=https%3a%2f%2fwww.frytea.com%2farchives%2f260%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share ã€æŒç»­é›†æˆã€‘Androidä½¿ç”¨Github Actionè‡ªåŠ¨æ‰“åŒ…å¹¶å‘å¸ƒFir.imå†…æµ‹ on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.frytea.com%2farchives%2f260%2f&title=%e3%80%90%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e3%80%91Android%e4%bd%bf%e7%94%a8Github%20Action%e8%87%aa%e5%8a%a8%e6%89%93%e5%8c%85%e5%b9%b6%e5%8f%91%e5%b8%83Fir.im%e5%86%85%e6%b5%8b"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share ã€æŒç»­é›†æˆã€‘Androidä½¿ç”¨Github Actionè‡ªåŠ¨æ‰“åŒ…å¹¶å‘å¸ƒFir.imå†…æµ‹ on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.frytea.com%2farchives%2f260%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share ã€æŒç»­é›†æˆã€‘Androidä½¿ç”¨Github Actionè‡ªåŠ¨æ‰“åŒ…å¹¶å‘å¸ƒFir.imå†…æµ‹ on whatsapp" href="https://api.whatsapp.com/send?text=%e3%80%90%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e3%80%91Android%e4%bd%bf%e7%94%a8Github%20Action%e8%87%aa%e5%8a%a8%e6%89%93%e5%8c%85%e5%b9%b6%e5%8f%91%e5%b8%83Fir.im%e5%86%85%e6%b5%8b%20-%20https%3a%2f%2fwww.frytea.com%2farchives%2f260%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share ã€æŒç»­é›†æˆã€‘Androidä½¿ç”¨Github Actionè‡ªåŠ¨æ‰“åŒ…å¹¶å‘å¸ƒFir.imå†…æµ‹ on telegram" href="https://telegram.me/share/url?text=%e3%80%90%e6%8c%81%e7%bb%ad%e9%9b%86%e6%88%90%e3%80%91Android%e4%bd%bf%e7%94%a8Github%20Action%e8%87%aa%e5%8a%a8%e6%89%93%e5%8c%85%e5%b9%b6%e5%8f%91%e5%b8%83Fir.im%e5%86%85%e6%b5%8b&url=https%3a%2f%2fwww.frytea.com%2farchives%2f260%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div><nav class=paginav><a class=prev href=https://www.frytea.com/archives/261/><span class=title>Â« ä¸Šä¸€é¡µ</span><br><span>è£¸é‡‘å±æœåŠ¡å™¨kvmè™šæ‹ŸåŒ–å®‰è£…win10</span></a>
<a class=next href=https://www.frytea.com/archives/174/><span class=title>ä¸‹ä¸€é¡µ Â»</span><br><span>[æ‘˜å½•] å“ˆåˆ© Â· æ³¢ç‰¹ ä¸æ··è¡€ç‹å­ï¼ˆ2005ï¼‰</span></a></nav></footer><script src=https://giscus.app/client.js data-repo=songtianlun/songtianlun.github.io data-repo-id=R_kgDOGQ9BVQ data-category=Announcements data-category-id=DIC_kwDOGQ9BVc4CX1qg data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></article></main><footer class=footer><span>Copyright &copy; 2024 â€¢ <a href=https://www.frytea.com/>Frytea</a></span>
<span>â€¢ <a href=http://beian.miit.gov.cn/ target=view_window>ç²¤ ICP å¤‡ 19144283 å·</a></span><div><span><a href=/about/>å…³äº</a>
â€¢ <a href=/disclaimer/>å…è´£å£°æ˜</a>
â€¢ <a href=/sitemap.xml target=view_window>ç«™ç‚¹åœ°å›¾</a>
â€¢ <a href=https://www.foreverblog.cn/go.html target=view_window>è™«æ´</a>
â€¢ PV <span id=busuanzi_value_site_pv><i class="fa fa-spinner fa-spin"></i></span></span></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script><meta name=â€apple-mobile-web-app-capableâ€ content="â€yesâ€"><script>'serviceWorker'in navigator&&window.addEventListener('load',()=>{navigator.serviceWorker.register('/service-worker.js')})</script></body></html>