<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ä½¿ç”¨ LeanCloud äº‘å¼•æ“éƒ¨ç½² React Web åº”ç”¨ | Frytea</title><meta name=keywords content="LeanCloud,web,React"><meta name=description content="æœ€è¿‘åœ¨æ¢ç´¢ KubeSphere å’Œ K8sï¼Œä¸œè¥¿æ¯«æ— ç–‘é—®æ˜¯å¥½ä¸œè¥¿ï¼Œå­¦äº†åœ¨æœªæ¥ä¹Ÿå¾ˆæœ‰ç”¨ï¼Œä½†æ˜¯ç”¨åœ¨ä¸ªäººå¼€å‘ä¸Šå®åœ¨æ˜¯è´¹ç”¨æœ‰ç‚¹é«˜ï¼Œå½“ç„¶ä¹Ÿä¸å¤ªæ•¢ç”¨åœ¨ä¸ªäººå¼€æºé¡¹ç›®ä¸Šï¼Œå› æ­¤æˆ‘å†"><meta name=author content="Tianlun Song"><link rel=canonical href=https://www.frytea.com/archives/603/><meta name=yandex-verification content="73b1a797f62c0e98"><meta name=baidu-site-verification content="code-gnOrbP1RyC"><meta name=baidu_union_verify content="4c552c344295cb984c46ebe74962b067"><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/satouriko/LxgwWenKai_Webfonts@v1.101/dist/LXGWWenKai-Light.css><link crossorigin=anonymous href=/assets/css/stylesheet.min.c5e9b9a30a68c57670e00490fcbe42331248183e26454c2aabee667e9e16f616.css integrity="sha256-xem5owpoxXZw4ASQ/L5CMxJIGD4mRUwqq+5mfp4W9hY=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://www.frytea.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.frytea.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.frytea.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.frytea.com/apple-touch-icon.png><link rel=mask-icon href=https://www.frytea.com/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.85.0"><link rel=manifest href=/manifest.json><script type=text/javascript>function downloadJSAtOnload(){var a=document.createElement("script");a.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7296634171837358",document.body.appendChild(a)}window.addEventListener?window.addEventListener("load",downloadJSAtOnload,!1):window.attachEvent?window.attachEvent("onload",downloadJSAtOnload):window.onload=downloadJSAtOnload</script><script async defer data-website-id=3d947a98-2774-46b0-805f-fe2e4877a1d7 src=https://umami.frytea.com/script.js></script><script>var _paq=window._paq=window._paq||[];_paq.push(['trackPageView']),_paq.push(['enableLinkTracking']),function(){var b="//analytics.skybyte.me/",c,a,d;_paq.push(['setTrackerUrl',b+'matomo.php']),_paq.push(['setSiteId','4']),c=document,a=c.createElement('script'),d=c.getElementsByTagName('script')[0],a.async=!0,a.src=b+'matomo.js',d.parentNode.insertBefore(a,d)}()</script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><link rel=stylesheet href=/libs/font-awesome-4.7.0/css/font-awesome.min.css><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script src=https://lf6-cdn-tos.bytecdntp.com/cdn/expire-4-w/mermaid/8.14.0/mermaid.min.js crossorigin=anonymous></script><script>const config={startOnLoad:!0,theme:'forest',themeVariables:{lineColor:"#fafafa"},flowchart:{useMaxWidth:!1,htmlLabels:!0}};mermaid.initialize(config),window.onload=()=>{window.mermaid.init(void 0,document.querySelectorAll('.language-mermaid'))}</script><script>var _hmt=_hmt||[];(function(){var a=document.createElement("script"),b;a.src="https://hm.baidu.com/hm.js?c49e2f5be5e009382be07455c33b1394",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZM7RBGQSG"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-XZM7RBGQSG',{anonymize_ip:!1})}</script><meta property="og:title" content="ä½¿ç”¨ LeanCloud äº‘å¼•æ“éƒ¨ç½² React Web åº”ç”¨"><meta property="og:description" content="æœ€è¿‘åœ¨æ¢ç´¢ KubeSphere å’Œ K8sï¼Œä¸œè¥¿æ¯«æ— ç–‘é—®æ˜¯å¥½ä¸œè¥¿ï¼Œå­¦äº†åœ¨æœªæ¥ä¹Ÿå¾ˆæœ‰ç”¨ï¼Œä½†æ˜¯ç”¨åœ¨ä¸ªäººå¼€å‘ä¸Šå®åœ¨æ˜¯è´¹ç”¨æœ‰ç‚¹é«˜ï¼Œå½“ç„¶ä¹Ÿä¸å¤ªæ•¢ç”¨åœ¨ä¸ªäººå¼€æºé¡¹ç›®ä¸Šï¼Œå› æ­¤æˆ‘å†"><meta property="og:type" content="article"><meta property="og:url" content="https://www.frytea.com/archives/603/"><meta property="og:image" content="https://www.frytea.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="archives"><meta property="article:published_time" content="2021-12-12T22:48:58+00:00"><meta property="article:modified_time" content="2021-12-12T22:48:58+00:00"><meta property="og:site_name" content="Frytea"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.frytea.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="ä½¿ç”¨ LeanCloud äº‘å¼•æ“éƒ¨ç½² React Web åº”ç”¨"><meta name=twitter:description content="æœ€è¿‘åœ¨æ¢ç´¢ KubeSphere å’Œ K8sï¼Œä¸œè¥¿æ¯«æ— ç–‘é—®æ˜¯å¥½ä¸œè¥¿ï¼Œå­¦äº†åœ¨æœªæ¥ä¹Ÿå¾ˆæœ‰ç”¨ï¼Œä½†æ˜¯ç”¨åœ¨ä¸ªäººå¼€å‘ä¸Šå®åœ¨æ˜¯è´¹ç”¨æœ‰ç‚¹é«˜ï¼Œå½“ç„¶ä¹Ÿä¸å¤ªæ•¢ç”¨åœ¨ä¸ªäººå¼€æºé¡¹ç›®ä¸Šï¼Œå› æ­¤æˆ‘å†"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Archives","item":"https://www.frytea.com/archives/"},{"@type":"ListItem","position":2,"name":"ä½¿ç”¨ LeanCloud äº‘å¼•æ“éƒ¨ç½² React Web åº”ç”¨","item":"https://www.frytea.com/archives/603/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"ä½¿ç”¨ LeanCloud äº‘å¼•æ“éƒ¨ç½² React Web åº”ç”¨","name":"ä½¿ç”¨ LeanCloud äº‘å¼•æ“éƒ¨ç½² React Web åº”ç”¨","description":"æœ€è¿‘åœ¨æ¢ç´¢ KubeSphere å’Œ K8sï¼Œä¸œè¥¿æ¯«æ— ç–‘é—®æ˜¯å¥½ä¸œè¥¿ï¼Œå­¦äº†åœ¨æœªæ¥ä¹Ÿå¾ˆæœ‰ç”¨ï¼Œä½†æ˜¯ç”¨åœ¨ä¸ªäººå¼€å‘ä¸Šå®åœ¨æ˜¯è´¹ç”¨æœ‰ç‚¹é«˜ï¼Œå½“ç„¶ä¹Ÿä¸å¤ªæ•¢ç”¨åœ¨ä¸ªäººå¼€æºé¡¹ç›®ä¸Šï¼Œå› æ­¤æˆ‘å†","keywords":["LeanCloud","web","React"],"articleBody":"æœ€è¿‘åœ¨æ¢ç´¢ KubeSphere å’Œ K8sï¼Œä¸œè¥¿æ¯«æ— ç–‘é—®æ˜¯å¥½ä¸œè¥¿ï¼Œå­¦äº†åœ¨æœªæ¥ä¹Ÿå¾ˆæœ‰ç”¨ï¼Œä½†æ˜¯ç”¨åœ¨ä¸ªäººå¼€å‘ä¸Šå®åœ¨æ˜¯è´¹ç”¨æœ‰ç‚¹é«˜ï¼Œå½“ç„¶ä¹Ÿä¸å¤ªæ•¢ç”¨åœ¨ä¸ªäººå¼€æºé¡¹ç›®ä¸Šï¼Œå› æ­¤æˆ‘å†æ¬¡å¼€å§‹æ¢ç´¢é€‚ç”¨äºä¸ªäººå…¨æ ˆåº”ç”¨æ‰˜ç®¡å¹³å°ã€‚\næä¾›è¿™ç±» PaaS äº‘å¹³å°æœåŠ¡çš„å…¬å¸æœ‰ä¸€äº›ï¼Œæ¯”å¦‚ 2007 å¹´å°±å¼€å§‹å¼€å‘çš„ Herokuï¼Œä¹Ÿæœ‰ Vercel è¿™ç±»ç°ä»£åŒ–çš„ Web åº”ç”¨æ‰˜ç®¡å¹³å°ï¼Œåœ¨å›½å†…åˆ™æœ‰ Leancloud è¿™ç§ BaaS å¹³å°ä¹Ÿå¯å®ç°ç±»ä¼¼åŠŸèƒ½ã€‚\nèƒŒæ™¯èµ„æ–™ ä¹‹å‰åšç§»åŠ¨ç«¯å¼€å‘å°±ä½¿ç”¨è¿‡ Leancloudï¼Œç»å¯¹æ˜¯å›½å†…å°‘æ•°å‡ ä¸ªèƒ½æä¾›ç»™éƒ¨åˆ†å…è´¹èµ„æºåšå¼€å‘å­¦ä¹ ä½¿ç”¨çš„è‰¯å¿ƒå¹³å°äº†ï¼Œä½¿ç”¨å®ƒæ¥åšæ•°æ®æ‰˜ç®¡éå¸¸å¥½ç”¨ï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒè‡ªå·±çš„è½¯ä»¶æ•°æ®åº“æ²¡æœ‰ä¿éšœäº†ã€‚\nåæ¥åšåšå®¢ä»¥åŠä¸€äº›ç®€å•çš„ Web å•é¡µåº”ç”¨ï¼Œç›´æ¥ä½¿ç”¨ Github Pages æœåŠ¡å³å¯å®Œæˆæ‰˜ç®¡ã€‚å½“ç„¶ï¼ŒåŠ¨æ€ç±»å‹ç½‘ç«™æˆ‘åˆ™æ˜¯ä½¿ç”¨è‡ªå·±æ¯”è¾ƒå¹³ä»·çš„æœåŠ¡å™¨å®Œæˆçš„ï¼Œå¦‚ä»Šæˆ‘çš„ä¸¤å° 1C1G æœåŠ¡å™¨éƒ½é•¿å¹´æ‰˜ç®¡ç€10ä¸ªå·¦å³ Web åº”ç”¨ã€‚\næ¯”å¦‚ä¹‹å‰çš„ä¸ªäººè´¢åŠ¡çœ‹æ¿ BJ-PFD ï¼Œä¸ªäººåšå®¢ Fryteaâ€˜s Blogï¼Œéšæœºå£çº¸ç”Ÿæˆå™¨ GRW ç­‰ç­‰ã€‚\nå†å¾€å‰æ¨å‡ å¹´ï¼Œè™šæ‹Ÿä¸»æœºçš„æ¦‚å¿µéå¸¸ç››è¡Œï¼Œä¹Ÿæœ‰ä¸å°‘æä¾›è™šæ‹Ÿä¸»æœºæœåŠ¡çš„å‚å•†ï¼Œä½†æ˜¯å¤§éƒ½é™åˆ¶ç½‘ç«™æ•°é‡ï¼Œå½“æ—¶æˆ‘ä¹Ÿæ­£æ˜¯å› ä¸ºè¿™ä¸ªåŸå› æ‰å¼€å§‹è‡ªå·±æœåŠ¡å™¨ã€‚è‡ªå·±æœåŠ¡å™¨çš„å¥½å¤„åœ¨äºçµæ´»ï¼Œåªè¦èµ„æºå¤Ÿç”¨ï¼Œå‡ ä¹å¯ä»¥éƒ¨ç½²ä»»ä½•æƒ³è¦éƒ¨ç½²çš„æœåŠ¡ï¼Œä¸ªäººå¼€å‘çš„ä½œå“ä¸€èˆ¬æµé‡ä¹Ÿä¸ä¼šç‰¹åˆ«å¤§ï¼Œå®Œå…¨å¤Ÿç”¨ã€‚\nä½†æ˜¯åˆ°ç°åœ¨ï¼Œè‡ªå·±å¼€å‘çš„ä½œå“éœ€è¦ä¸€äº›æŒä¹…åŒ–æ•°æ®äº†ï¼Œè¿™å°±è®©æˆ‘ä¸æ•¢éšä¾¿æ‰¾ä¸ªæœåŠ¡å™¨ä¸€æ‰”ï¼Œå®³æ€•å“ªä¸€å¤©ä¸€ä¸ªä¸å°å¿ƒå°±æ²¡äº†ã€‚\näºæ˜¯ä»Šå¤©æˆ‘æ¢ç´¢å‡ºä¸€ç§å®Œå…¨ä½¿ç”¨ leancloud è¿›è¡Œå…¨æ ˆåº”ç”¨æ‰˜ç®¡çš„æ–¹æ³•ï¼Œåé¢ä¼šè¿›è¡Œè¯¦ç»†ä»‹ç»ã€‚\nå‘å±•çš„è¿‡ç¨‹ ä»»ä½•äº‹ç‰©çš„å‘å±•å’Œå­¦ä¹ è¿‡ç¨‹éƒ½è¦éµå¾ªä¸€å®šè§„å¾‹ï¼Œå¦åˆ™å°±å®¹æ˜“ç©ºè½¬ã€‚è¿™æ˜¯æˆ‘è‡ªå·±åœ¨é•¿æœŸè‡ªå­¦ä¸­æ€»ç»“å‡ºæ¥çš„ï¼Œä¹Ÿè®¸ä¸é€‚ç”¨äºå¤§å¤šæ•°äººï¼Œè‡³å°‘æˆ‘è‡ªå·±æ˜¯è¿™æ ·å­çš„ã€‚\nå­¦ä¹ å’Œå‘å±•éœ€è¦å¾ªåºæ¸è¿›ï¼Œå°±ä»¥è½¯ä»¶å¼€å‘ä¸ºä¾‹ï¼Œå¯ä»¥å…ˆåšä¸ä¾èµ–ç½‘ç»œçš„æœ¬åœ°å°è½¯ä»¶ï¼Œå†åšå‰åç«¯åˆ†ç¦»çš„æŸä¸€ç«¯ï¼Œå†åˆ°å…¨æ ˆã€‚åšè®¡ç®—æœºç³»ç»Ÿå¼€å‘æ—¶ï¼Œåˆ™æ˜¯éœ€è¦è‡ªé¡¶å‘ä¸‹ï¼Œå…ˆäº†è§£æ•´ä½“ç»“æ„ï¼Œå†æ…¢æ…¢çš„å‘åº•å±‚æ˜è¿›ã€‚\nå¦‚æœä¸€ä¸Šæ¥å°±å…¨éƒ¨è´Ÿè´£ï¼Œè¦å­¦çš„é¢é“ºçš„å¤ªå¼€ï¼Œå°±å®¹æ˜“æ”¾å¼ƒã€‚å¿…é¡»å­¦ä¼šå°†ä¸€ä¸ªå¤æ‚çš„ä»»åŠ¡åˆ†è§£ä¸ºä¸€ä¸ªä¸ªå°ä»»åŠ¡ï¼Œå†å»ä¸€ç‚¹ç‚¹å®Œæˆã€‚åˆ†è§£ã€å®Œæˆï¼Œæ¯ä¸€æ­¥éƒ½æ˜¯æŠ€æœ¯æ´»ï¼Œå¿…é¡»æ…¢æ…¢ç§¯ç´¯æ‰è¡Œã€‚\néƒ¨ç½²æ–¹æ³• è¯´äº†è¿™ä¹ˆå¤šï¼Œä»Šå¤©å…ˆæ¥è®²è®²å¦‚ä½•åœ¨ Leancloud çš„äº‘å¼•æ“ä¸­éƒ¨ç½²æˆ‘ä»¬çš„ React å•é¡µåº”ç”¨ï¼Œå¹¶é™„å¸¦ä¸€ä¸ªæ¥å£çš„è½¬å‘ã€‚\nStep1: æºç åŠé¡¹ç›®é¢„å¤‡ åœ¨è¯¥æ­¥éª¤éœ€è¦å®Œæˆ leancloudé¡¹ç›®åˆ›å»ºã€Github é¡¹ç›®åˆ›å»ºã€React é¡¹ç›®åˆ›å»ºã€‚\nå‰ä¸¤ä¸ªåˆ›å»ºè‡ªè¡Œå®Œæˆå³å¯ï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼ŒReact åˆ™ä½¿ç”¨ç°æˆçš„é¡¹ç›®æˆ– create-react-appÂ æ¥åˆ›å»ºé¡¹ç›®ã€‚\nnpx create-react-app react-for-engine --use-npm ä¹‹åå°†åˆ›å»ºå¥½çš„é¡¹ç›®ä¸Šä¼  Github ä»“åº“ä¸­ï¼Œåé¢æ¥é…ç½® Github action è‡ªåŠ¨éƒ¨ç½²è„šæœ¬ä»¥åŠ Leancloud çš„é…ç½®æ–‡ä»¶ã€‚\nStep2: éƒ¨ç½²è„šæœ¬å’Œé…ç½®æ–‡ä»¶ åœ¨è¯¥æ­¥éª¤éœ€å®Œæˆé¡¹ç›®æ‰§è¡Œè„šæœ¬é…ç½®ã€leancloud é…ç½®æ–‡ä»¶é…ç½®ä»¥åŠ Github action éƒ¨ç½²æµç¨‹é…ç½®ã€‚\n é¡¹ç›®è„šæœ¬é¢é…ç½®  è‡³äºæ‰§è¡Œè„šæœ¬ï¼Œç”±äºæˆ‘çš„é¡¹ç›®ä¸­éœ€è¦ç”¨åˆ°ä¸€ä¸ªæ¥å£çš„é‡å†™ï¼Œå› æ­¤ä½¿ç”¨ä¸€ä¸ªç®€å•çš„ node ç¨‹åºæ¥å®Œæˆï¼Œå†…å®¹å¦‚ä¸‹ï¼š\nconst express = require('express'); const path = require('path'); const { createProxyMiddleware } = require('http-proxy-middleware')//åå‘ä»£ç† const app = express(); app.use(express.static(path.join(__dirname, '/build'))); app.use('/api', createProxyMiddleware({ target: 'https://source.unsplash.com', changeOrigin: true, pathRewrite: { //è·¯å¾„æ›¿æ¢ '^/api': '/random', // axios è®¿é—®/api == target + /random } })); app.get('*', function (req, res) { res.sendFile(path.join(__dirname, 'build', 'index.html')); }); const port = process.env.LEANCLOUD_APP_PORT || 3010; app.listen(port); console.log('App is listening on port ' + port); è¿™é‡Œç”¨åˆ°äº† http-proxy-middleware ï¼Œå¦‚æœæ²¡æœ‰å®‰è£…è®°å¾—å®‰è£…ä¸‹ï¼š\nnpm install http-proxy-middleware --save å¦‚æœæ— éœ€å¤„ç†è·¨åŸŸè¯·æ±‚ï¼Œç›´æ¥ä½¿ç”¨ npm run start å³å¯è¿è¡Œçš„è¯åˆ™æ— éœ€ä½¿ç”¨è¯¥è„šæœ¬ã€‚éœ€è¦æ³¨æ„çš„æ˜¯å…¶ä¸­ç›‘å¬ç«¯å£éœ€è¦ä½¿ç”¨ leancloud æä¾›çš„ç¯å¢ƒå˜é‡ LEANCLOUD_APP_PORT æŒ‡å®šçš„ç«¯å£ï¼Œå¦‚æœç”¨é”™äº†åˆ™æ— æ³•æ­£å¸¸è®¿é—®æœåŠ¡ã€‚\nå¦‚æœç›´æ¥ä½¿ç”¨ npm run start å¯åŠ¨çš„è¯åˆ™éœ€ä¿®æ”¹ package.json ä¸­ start éƒ¨åˆ†çš„å£°æ˜ï¼š\n\"start\":\"set PORT=$LEANCLOUD_APP_PORT\u0026\u0026 react-scripts start\",  leancloud é…ç½®æ–‡ä»¶  é¡¹ç›®å‡†å¤‡å¥½åï¼Œéœ€è¦å‘Šè¯‰ leancloud å¦‚ä½•æ‰§è¡Œï¼Œå°±éœ€è¦åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º leanengine.yaml æ¥è¯´æ˜ã€‚\nbuild: npm run build #run: $(npm bin)/serve -c static.json -l ${LEANCLOUD_APP_PORT} run: node app.js ä½œç”¨å¤§æ¦‚ä¸ç”¨æˆ‘è¯´äº†å§ï¼Œç”±äºæˆ‘ä½¿ç”¨äº†ä¸€ä¸ª http-proxy-middleware ç¨‹åºæ¥æ‰§è¡Œé¡¹ç›®ï¼Œåˆ™ç›´æ¥å°†è¯¥ç¨‹åºå‘½åä¸º app.jsï¼Œå¯åŠ¨æ—¶ç›´æ¥æ‰§è¡Œå³å¯ã€‚\n Github action éƒ¨ç½²è„šæœ¬  å¯¹äº github ä»“åº“çš„æäº¤æ— æ³•ç›´æ¥è§¦å‘ leancloud æ„å»ºï¼Œå› æ­¤éœ€è¦æäº¤æ—¶å‘å‡ºä¸€ä¸ª webhooks æ¥è§¦å‘ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ workflowÂ .github/workflows/main.yml:\n# Controls when the action will run. Triggers the workflow on push request for the master branch\ron:\rpush:\rbranches: [ master ]\rjobs:\rdeploy:\rruns-on: ubuntu-latest\rsteps:\r- name: Deploy to LeanEngine\ruses: enflo/curl-action@v1.2\rwith:\rcurl: -X POST https://cn-n1-console-api.leancloud.cn/1.1/engine/groups/web/production/version?gitTag=${{ github.sha }}\u0026token=${{ secrets.DEPLOY_TOKEN }}\rè®°å¾—åœ¨ github ä»“åº“ä¸­å°† leancloud éƒ¨ç½²åå°æä¾›çš„ DEPLOY_TOKEN å£°æ˜åœ¨ github ä¸­ï¼Œæ–¹å¯å®Œæˆè§¦å‘ã€‚\nStep3: éƒ¨ç½²å’Œåç»­ å®Œæˆä¸Šé¢çš„æµç¨‹ï¼Œå¼€å¯ github ä»“åº“ä¸­çš„ action å¼€å…³ï¼Œæäº¤ä¸Šé¢çš„æ”¹åŠ¨ï¼Œå¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œå³å¯è§¦å‘éƒ¨ç½²ã€‚\nå¯¹äº†ï¼Œåœ¨æœ€åï¼Œè¿˜éœ€è¦åœ¨ leancloud ç»‘å®šä¸€ä¸ªå¤‡æ¡ˆè¿‡çš„åŸŸåï¼Œæ‰èƒ½æ­£å¸¸è®¿é—®æœåŠ¡ã€‚\næ€»ç»“ è‡³æ­¤ï¼Œç®€å•çš„ Leancloud éƒ¨ç½² react å•é¡µåº”ç”¨çš„æ–¹æ³•ä»‹ç»å®Œæ¯•ï¼Œç”±äº Leancloud æ˜¯ä¸€ä¸ª BaaS å¹³å°ï¼Œå¯ç›´æ¥å½“ä½œç®€å•åç«¯å’Œæ•°æ®å­˜å‚¨æœåŠ¡å™¨æ¥ä½¿ç”¨ï¼Œåšå¼€å‘æµ‹è¯•ä½¿ç”¨å¾ˆå¥½ï¼Œç­‰åæœŸæœ‰æµé‡äº†å†å‡çº§ä»˜è´¹å¥—é¤å³å¯è·å–æ›´å¥½çš„æœåŠ¡ä½“éªŒã€‚\næ€»ä¹‹ï¼Œè¿™æ ·ä¸€ä¸ªè¾…åŠ©å¿«é€Ÿå¼€å‘çš„å¹³å°å¯¹äºå¼€å‘è€…æ¥è®²å¥½å¤„å¤šå¤šï¼Œæ— éœ€å…³æ³¨æ›´å¤šæŠ€æœ¯ç»†èŠ‚å³å¯å°†è‡ªå·±çš„è§„åˆ’å®ç°ï¼Œå¿«é€Ÿä¸Šçº¿ï¼Œå¦‚æœæ•ˆæœå¯ä»¥ï¼Œå†å»è€ƒè™‘å‡çº§å’Œæ”¹é€ å³å¯ï¼Œé¿å…äº†å‰æœŸèµ„æºçš„æµªè´¹ã€‚\næœ€åï¼Œè¿˜æ˜¯å¸Œæœ›å„ä½çæƒœè¿™æ ·çš„å¥½èµ„æºï¼Œå¥½å¥½ä½¿ç”¨ï¼Œæœªæ¥å¯èƒ½çš„æƒ…å†µä¸‹éƒ½æ˜¯ç”¨ä»˜è´¹å¥—é¤ï¼Œåªæœ‰æœ‰åˆ©å¯å›¾äº†ï¼Œé‚£äº›çœŸå¿ƒæ„¿æ„åšå¥½æœåŠ¡çš„äººä»¬æ‰èƒ½æä¾›æ›´å¥½çš„æœåŠ¡ã€‚\nå‚è€ƒæ–‡çŒ®  åœ¨äº‘å¼•æ“ä¸Šéƒ¨ç½² React å•é¡µåº”ç”¨ By Leancloud Heroku By Wikipedia  ","wordCount":"1951","inLanguage":"zh","datePublished":"2021-12-12T22:48:58Z","dateModified":"2021-12-12T22:48:58Z","author":{"@type":"Person","name":"Tianlun Song"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.frytea.com/archives/603/"},"publisher":{"@type":"Organization","name":"Frytea","logo":{"@type":"ImageObject","url":"https://www.frytea.com/favicon.ico"}}}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=https://www.frytea.com/ accesskey=h title="ğŸ¡ Frytea (Alt + H)">ğŸ¡ Frytea</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://www.frytea.com/tags/ title="ğŸ·ï¸ æ ‡ç­¾"><span>ğŸ·ï¸ æ ‡ç­¾</span></a></li><li><a href=https://www.frytea.com/search/ title="ğŸ” ç´¢å¼• (Alt + /)" accesskey=/><span>ğŸ” ç´¢å¼•</span></a></li><li><a href=https://www.frytea.com/friends title="ğŸ§‘â€ğŸ¤â€ğŸ§‘ å‹é“¾"><span>ğŸ§‘â€ğŸ¤â€ğŸ§‘ å‹é“¾</span></a></li><li><a href=https://www.travellings.cn/go.html title=ğŸš‡><span>ğŸš‡</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.frytea.com/>ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href=https://www.frytea.com/archives/>Archives</a></div><h1 class=post-title><a href=https://www.frytea.com/archives/603/>ä½¿ç”¨ LeanCloud äº‘å¼•æ“éƒ¨ç½² React Web åº”ç”¨</a></h1><div class=post-meta>December 12, 2021&nbsp;Â·&nbsp;4 åˆ†é’Ÿ&nbsp;Â·&nbsp;1951 å­—&nbsp;Â·&nbsp;Tianlun Song&nbsp;|&nbsp;<a href=https://github.com/songtianlun/songtianlun.github.io/edit/main/content/archives/%e4%bd%bf%e7%94%a8-LeanCloud-%e4%ba%91%e5%bc%95%e6%93%8e%e9%83%a8%e7%bd%b2-React-Web-%e5%ba%94%e7%94%a8.md rel="noopener noreferrer" target=_blank>PR</a>
<span>| <span class=waline-pageview-count data-path=/archives/603/><i class="fa fa-spinner fa-spin"></i></span> Hits</span></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>ç›®å½•</span></summary><div class=inner><ul><li><a href=#%e8%83%8c%e6%99%af%e8%b5%84%e6%96%99 aria-label=èƒŒæ™¯èµ„æ–™>èƒŒæ™¯èµ„æ–™</a></li><li><a href=#%e5%8f%91%e5%b1%95%e7%9a%84%e8%bf%87%e7%a8%8b aria-label=å‘å±•çš„è¿‡ç¨‹>å‘å±•çš„è¿‡ç¨‹</a></li><li><a href=#%e9%83%a8%e7%bd%b2%e6%96%b9%e6%b3%95 aria-label=éƒ¨ç½²æ–¹æ³•>éƒ¨ç½²æ–¹æ³•</a><ul><li><a href=#step1-%e6%ba%90%e7%a0%81%e5%8f%8a%e9%a1%b9%e7%9b%ae%e9%a2%84%e5%a4%87 aria-label="Step1: æºç åŠé¡¹ç›®é¢„å¤‡">Step1: æºç åŠé¡¹ç›®é¢„å¤‡</a></li><li><a href=#step2-%e9%83%a8%e7%bd%b2%e8%84%9a%e6%9c%ac%e5%92%8c%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6 aria-label="Step2: éƒ¨ç½²è„šæœ¬å’Œé…ç½®æ–‡ä»¶">Step2: éƒ¨ç½²è„šæœ¬å’Œé…ç½®æ–‡ä»¶</a></li><li><a href=#step3-%e9%83%a8%e7%bd%b2%e5%92%8c%e5%90%8e%e7%bb%ad aria-label="Step3: éƒ¨ç½²å’Œåç»­">Step3: éƒ¨ç½²å’Œåç»­</a></li></ul></li><li><a href=#%e6%80%bb%e7%bb%93 aria-label=æ€»ç»“>æ€»ç»“</a></li><li><a href=#%e5%8f%82%e8%80%83%e6%96%87%e7%8c%ae aria-label=å‚è€ƒæ–‡çŒ®>å‚è€ƒæ–‡çŒ®</a></li></ul></div><div><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-7296634171837358 data-ad-slot=9161921641 data-ad-format=auto data-full-width-responsive=true></ins></div><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></details></div><div class=post-content><blockquote style=margin-top:8px><p style=text-align:center;text-indent:0><a href=https://www.frytea.com/archives/603/>æœ¬æ–‡</a>
é¦–å‘äº
<a href=https://www.frytea.com/>ğŸŒ± ç…èŒ¶</a>ï¼Œ
<a href=/disclaimer/>è½¬è½½</a> è¯·æ³¨æ˜
<a href=https://www.frytea.com/archives/603/>æ¥æº</a>ã€‚</p></blockquote><p>æœ€è¿‘åœ¨æ¢ç´¢ <a href=https://kubesphere.com.cn>KubeSphere</a> å’Œ <a href=https://kubernetes.io>K8s</a>ï¼Œä¸œè¥¿æ¯«æ— ç–‘é—®æ˜¯å¥½ä¸œè¥¿ï¼Œå­¦äº†åœ¨æœªæ¥ä¹Ÿå¾ˆæœ‰ç”¨ï¼Œä½†æ˜¯ç”¨åœ¨ä¸ªäººå¼€å‘ä¸Šå®åœ¨æ˜¯è´¹ç”¨æœ‰ç‚¹é«˜ï¼Œå½“ç„¶ä¹Ÿä¸å¤ªæ•¢ç”¨åœ¨ä¸ªäººå¼€æºé¡¹ç›®ä¸Šï¼Œå› æ­¤æˆ‘å†æ¬¡å¼€å§‹æ¢ç´¢é€‚ç”¨äºä¸ªäººå…¨æ ˆåº”ç”¨æ‰˜ç®¡å¹³å°ã€‚</p><p>æä¾›è¿™ç±» PaaS äº‘å¹³å°æœåŠ¡çš„å…¬å¸æœ‰ä¸€äº›ï¼Œæ¯”å¦‚ 2007 å¹´å°±å¼€å§‹å¼€å‘çš„ <a href=https://heroku.com>Heroku</a>ï¼Œä¹Ÿæœ‰ <a href=https://vercel.com/>Vercel</a> è¿™ç±»ç°ä»£åŒ–çš„ Web åº”ç”¨æ‰˜ç®¡å¹³å°ï¼Œåœ¨å›½å†…åˆ™æœ‰ <a href=https://www.leancloud.cn>Leancloud</a> è¿™ç§ BaaS å¹³å°ä¹Ÿå¯å®ç°ç±»ä¼¼åŠŸèƒ½ã€‚</p><h2 id=èƒŒæ™¯èµ„æ–™>èƒŒæ™¯èµ„æ–™<a hidden class=anchor aria-hidden=true href=#èƒŒæ™¯èµ„æ–™>#</a></h2><p>ä¹‹å‰åšç§»åŠ¨ç«¯å¼€å‘å°±ä½¿ç”¨è¿‡ Leancloudï¼Œç»å¯¹æ˜¯å›½å†…å°‘æ•°å‡ ä¸ªèƒ½æä¾›ç»™éƒ¨åˆ†å…è´¹èµ„æºåšå¼€å‘å­¦ä¹ ä½¿ç”¨çš„è‰¯å¿ƒå¹³å°äº†ï¼Œä½¿ç”¨å®ƒæ¥åšæ•°æ®æ‰˜ç®¡éå¸¸å¥½ç”¨ï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒè‡ªå·±çš„è½¯ä»¶æ•°æ®åº“æ²¡æœ‰ä¿éšœäº†ã€‚</p><p>åæ¥åšåšå®¢ä»¥åŠä¸€äº›ç®€å•çš„ Web å•é¡µåº”ç”¨ï¼Œç›´æ¥ä½¿ç”¨ Github Pages æœåŠ¡å³å¯å®Œæˆæ‰˜ç®¡ã€‚å½“ç„¶ï¼ŒåŠ¨æ€ç±»å‹ç½‘ç«™æˆ‘åˆ™æ˜¯ä½¿ç”¨è‡ªå·±æ¯”è¾ƒå¹³ä»·çš„æœåŠ¡å™¨å®Œæˆçš„ï¼Œå¦‚ä»Šæˆ‘çš„ä¸¤å° 1C1G æœåŠ¡å™¨éƒ½é•¿å¹´æ‰˜ç®¡ç€10ä¸ªå·¦å³ Web åº”ç”¨ã€‚</p><p>æ¯”å¦‚ä¹‹å‰çš„ä¸ªäººè´¢åŠ¡çœ‹æ¿ <a href=https://bjpfd.frytea.com>BJ-PFD</a> ï¼Œä¸ªäººåšå®¢ <a href=https://blog.frytea.com>Fryteaâ€˜s Blog</a>ï¼Œéšæœºå£çº¸ç”Ÿæˆå™¨ <a href=https://wallpaper.frytea.com>GRW</a> ç­‰ç­‰ã€‚</p><p>å†å¾€å‰æ¨å‡ å¹´ï¼Œè™šæ‹Ÿä¸»æœºçš„æ¦‚å¿µéå¸¸ç››è¡Œï¼Œä¹Ÿæœ‰ä¸å°‘æä¾›è™šæ‹Ÿä¸»æœºæœåŠ¡çš„å‚å•†ï¼Œä½†æ˜¯å¤§éƒ½é™åˆ¶ç½‘ç«™æ•°é‡ï¼Œå½“æ—¶æˆ‘ä¹Ÿæ­£æ˜¯å› ä¸ºè¿™ä¸ªåŸå› æ‰å¼€å§‹è‡ªå·±æœåŠ¡å™¨ã€‚è‡ªå·±æœåŠ¡å™¨çš„å¥½å¤„åœ¨äºçµæ´»ï¼Œåªè¦èµ„æºå¤Ÿç”¨ï¼Œå‡ ä¹å¯ä»¥éƒ¨ç½²ä»»ä½•æƒ³è¦éƒ¨ç½²çš„æœåŠ¡ï¼Œä¸ªäººå¼€å‘çš„ä½œå“ä¸€èˆ¬æµé‡ä¹Ÿä¸ä¼šç‰¹åˆ«å¤§ï¼Œå®Œå…¨å¤Ÿç”¨ã€‚</p><p>ä½†æ˜¯åˆ°ç°åœ¨ï¼Œè‡ªå·±å¼€å‘çš„ä½œå“éœ€è¦ä¸€äº›æŒä¹…åŒ–æ•°æ®äº†ï¼Œè¿™å°±è®©æˆ‘ä¸æ•¢éšä¾¿æ‰¾ä¸ªæœåŠ¡å™¨ä¸€æ‰”ï¼Œå®³æ€•å“ªä¸€å¤©ä¸€ä¸ªä¸å°å¿ƒå°±æ²¡äº†ã€‚</p><p>äºæ˜¯ä»Šå¤©æˆ‘æ¢ç´¢å‡ºä¸€ç§å®Œå…¨ä½¿ç”¨ leancloud è¿›è¡Œå…¨æ ˆåº”ç”¨æ‰˜ç®¡çš„æ–¹æ³•ï¼Œåé¢ä¼šè¿›è¡Œè¯¦ç»†ä»‹ç»ã€‚</p><h2 id=å‘å±•çš„è¿‡ç¨‹>å‘å±•çš„è¿‡ç¨‹<a hidden class=anchor aria-hidden=true href=#å‘å±•çš„è¿‡ç¨‹>#</a></h2><p>ä»»ä½•äº‹ç‰©çš„å‘å±•å’Œå­¦ä¹ è¿‡ç¨‹éƒ½è¦éµå¾ªä¸€å®šè§„å¾‹ï¼Œå¦åˆ™å°±å®¹æ˜“ç©ºè½¬ã€‚è¿™æ˜¯æˆ‘è‡ªå·±åœ¨é•¿æœŸè‡ªå­¦ä¸­æ€»ç»“å‡ºæ¥çš„ï¼Œä¹Ÿè®¸ä¸é€‚ç”¨äºå¤§å¤šæ•°äººï¼Œè‡³å°‘æˆ‘è‡ªå·±æ˜¯è¿™æ ·å­çš„ã€‚</p><p>å­¦ä¹ å’Œå‘å±•éœ€è¦å¾ªåºæ¸è¿›ï¼Œå°±ä»¥è½¯ä»¶å¼€å‘ä¸ºä¾‹ï¼Œå¯ä»¥å…ˆåšä¸ä¾èµ–ç½‘ç»œçš„æœ¬åœ°å°è½¯ä»¶ï¼Œå†åšå‰åç«¯åˆ†ç¦»çš„æŸä¸€ç«¯ï¼Œå†åˆ°å…¨æ ˆã€‚åšè®¡ç®—æœºç³»ç»Ÿå¼€å‘æ—¶ï¼Œåˆ™æ˜¯éœ€è¦è‡ªé¡¶å‘ä¸‹ï¼Œå…ˆäº†è§£æ•´ä½“ç»“æ„ï¼Œå†æ…¢æ…¢çš„å‘åº•å±‚æ˜è¿›ã€‚</p><p>å¦‚æœä¸€ä¸Šæ¥å°±å…¨éƒ¨è´Ÿè´£ï¼Œè¦å­¦çš„é¢é“ºçš„å¤ªå¼€ï¼Œå°±å®¹æ˜“æ”¾å¼ƒã€‚å¿…é¡»å­¦ä¼šå°†ä¸€ä¸ªå¤æ‚çš„ä»»åŠ¡åˆ†è§£ä¸ºä¸€ä¸ªä¸ªå°ä»»åŠ¡ï¼Œå†å»ä¸€ç‚¹ç‚¹å®Œæˆã€‚åˆ†è§£ã€å®Œæˆï¼Œæ¯ä¸€æ­¥éƒ½æ˜¯æŠ€æœ¯æ´»ï¼Œå¿…é¡»æ…¢æ…¢ç§¯ç´¯æ‰è¡Œã€‚</p><h2 id=éƒ¨ç½²æ–¹æ³•>éƒ¨ç½²æ–¹æ³•<a hidden class=anchor aria-hidden=true href=#éƒ¨ç½²æ–¹æ³•>#</a></h2><p>è¯´äº†è¿™ä¹ˆå¤šï¼Œä»Šå¤©å…ˆæ¥è®²è®²å¦‚ä½•åœ¨ Leancloud çš„äº‘å¼•æ“ä¸­éƒ¨ç½²æˆ‘ä»¬çš„ React å•é¡µåº”ç”¨ï¼Œå¹¶é™„å¸¦ä¸€ä¸ªæ¥å£çš„è½¬å‘ã€‚</p><h3 id=step1-æºç åŠé¡¹ç›®é¢„å¤‡>Step1: æºç åŠé¡¹ç›®é¢„å¤‡<a hidden class=anchor aria-hidden=true href=#step1-æºç åŠé¡¹ç›®é¢„å¤‡>#</a></h3><p>åœ¨è¯¥æ­¥éª¤éœ€è¦å®Œæˆ leancloudé¡¹ç›®åˆ›å»ºã€Github é¡¹ç›®åˆ›å»ºã€React é¡¹ç›®åˆ›å»ºã€‚</p><p>å‰ä¸¤ä¸ªåˆ›å»ºè‡ªè¡Œå®Œæˆå³å¯ï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼ŒReact åˆ™ä½¿ç”¨ç°æˆçš„é¡¹ç›®æˆ– <a href=https://create-react-app.dev/>create-react-app</a>Â æ¥åˆ›å»ºé¡¹ç›®ã€‚</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>npx create-react-app react-for-engine --use-npm
</code></pre></div><p>ä¹‹åå°†åˆ›å»ºå¥½çš„é¡¹ç›®ä¸Šä¼  Github ä»“åº“ä¸­ï¼Œåé¢æ¥é…ç½® Github action è‡ªåŠ¨éƒ¨ç½²è„šæœ¬ä»¥åŠ Leancloud çš„é…ç½®æ–‡ä»¶ã€‚</p><h3 id=step2-éƒ¨ç½²è„šæœ¬å’Œé…ç½®æ–‡ä»¶>Step2: éƒ¨ç½²è„šæœ¬å’Œé…ç½®æ–‡ä»¶<a hidden class=anchor aria-hidden=true href=#step2-éƒ¨ç½²è„šæœ¬å’Œé…ç½®æ–‡ä»¶>#</a></h3><p>åœ¨è¯¥æ­¥éª¤éœ€å®Œæˆé¡¹ç›®æ‰§è¡Œè„šæœ¬é…ç½®ã€leancloud é…ç½®æ–‡ä»¶é…ç½®ä»¥åŠ Github action éƒ¨ç½²æµç¨‹é…ç½®ã€‚</p><ul><li>é¡¹ç›®è„šæœ¬é¢é…ç½®</li></ul><p>è‡³äºæ‰§è¡Œè„šæœ¬ï¼Œç”±äºæˆ‘çš„é¡¹ç›®ä¸­éœ€è¦ç”¨åˆ°ä¸€ä¸ªæ¥å£çš„é‡å†™ï¼Œå› æ­¤ä½¿ç”¨ä¸€ä¸ªç®€å•çš„ node ç¨‹åºæ¥å®Œæˆï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>const express <span style=color:#f92672>=</span> require<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;express&#39;</span><span style=color:#f92672>)</span>;
const path <span style=color:#f92672>=</span> require<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;path&#39;</span><span style=color:#f92672>)</span>;
const <span style=color:#f92672>{</span> createProxyMiddleware <span style=color:#f92672>}</span> <span style=color:#f92672>=</span> require<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;http-proxy-middleware&#39;</span><span style=color:#f92672>)</span>//åå‘ä»£ç†
const app <span style=color:#f92672>=</span> express<span style=color:#f92672>()</span>;

app.use<span style=color:#f92672>(</span>express.static<span style=color:#f92672>(</span>path.join<span style=color:#f92672>(</span>__dirname, <span style=color:#e6db74>&#39;/build&#39;</span><span style=color:#f92672>)))</span>;
app.use<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;/api&#39;</span>, createProxyMiddleware<span style=color:#f92672>({</span>
    target: <span style=color:#e6db74>&#39;https://source.unsplash.com&#39;</span>,
    changeOrigin: true,
    pathRewrite: <span style=color:#f92672>{</span> //è·¯å¾„æ›¿æ¢
        <span style=color:#e6db74>&#39;^/api&#39;</span>: <span style=color:#e6db74>&#39;/random&#39;</span>, // axios è®¿é—®/api <span style=color:#f92672>==</span> target + /random
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}))</span>;

app.get<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;*&#39;</span>, <span style=color:#66d9ef>function</span> <span style=color:#f92672>(</span>req, res<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
    res.sendFile<span style=color:#f92672>(</span>path.join<span style=color:#f92672>(</span>__dirname, <span style=color:#e6db74>&#39;build&#39;</span>, <span style=color:#e6db74>&#39;index.html&#39;</span><span style=color:#f92672>))</span>;
<span style=color:#f92672>})</span>;

const port <span style=color:#f92672>=</span> process.env.LEANCLOUD_APP_PORT <span style=color:#f92672>||</span> 3010;
app.listen<span style=color:#f92672>(</span>port<span style=color:#f92672>)</span>;

console.log<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;App is listening on port &#39;</span> + port<span style=color:#f92672>)</span>;
</code></pre></div><p>è¿™é‡Œç”¨åˆ°äº† <code>http-proxy-middleware</code> ï¼Œå¦‚æœæ²¡æœ‰å®‰è£…è®°å¾—å®‰è£…ä¸‹ï¼š</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>npm install http-proxy-middleware --save
</code></pre></div><p>å¦‚æœæ— éœ€å¤„ç†è·¨åŸŸè¯·æ±‚ï¼Œç›´æ¥ä½¿ç”¨ <code>npm run start</code> å³å¯è¿è¡Œçš„è¯åˆ™æ— éœ€ä½¿ç”¨è¯¥è„šæœ¬ã€‚éœ€è¦æ³¨æ„çš„æ˜¯å…¶ä¸­ç›‘å¬ç«¯å£éœ€è¦ä½¿ç”¨ leancloud æä¾›çš„ç¯å¢ƒå˜é‡ <code>LEANCLOUD_APP_PORT</code> æŒ‡å®šçš„ç«¯å£ï¼Œå¦‚æœç”¨é”™äº†åˆ™æ— æ³•æ­£å¸¸è®¿é—®æœåŠ¡ã€‚</p><p>å¦‚æœç›´æ¥ä½¿ç”¨ <code>npm run start</code> å¯åŠ¨çš„è¯åˆ™éœ€ä¿®æ”¹ <code>package.json</code> ä¸­ <code>start</code> éƒ¨åˆ†çš„å£°æ˜ï¼š</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#e6db74>&#34;start&#34;</span>:<span style=color:#e6db74>&#34;set PORT=</span>$LEANCLOUD_APP_PORT<span style=color:#e6db74> &amp;&amp; react-scripts start&#34;</span>,
</code></pre></div><ul><li>leancloud é…ç½®æ–‡ä»¶</li></ul><p>é¡¹ç›®å‡†å¤‡å¥½åï¼Œéœ€è¦å‘Šè¯‰ leancloud å¦‚ä½•æ‰§è¡Œï¼Œå°±éœ€è¦åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»º <code>leanengine.yaml</code> æ¥è¯´æ˜ã€‚</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>build: npm run build
<span style=color:#75715e>#run: $(npm bin)/serve -c static.json -l ${LEANCLOUD_APP_PORT}</span>
run: node app.js
</code></pre></div><p>ä½œç”¨å¤§æ¦‚ä¸ç”¨æˆ‘è¯´äº†å§ï¼Œç”±äºæˆ‘ä½¿ç”¨äº†ä¸€ä¸ª <code>http-proxy-middleware</code> ç¨‹åºæ¥æ‰§è¡Œé¡¹ç›®ï¼Œåˆ™ç›´æ¥å°†è¯¥ç¨‹åºå‘½åä¸º <code>app.js</code>ï¼Œå¯åŠ¨æ—¶ç›´æ¥æ‰§è¡Œå³å¯ã€‚</p><ul><li>Github action éƒ¨ç½²è„šæœ¬</li></ul><p>å¯¹äº github ä»“åº“çš„æäº¤æ— æ³•ç›´æ¥è§¦å‘ leancloud æ„å»ºï¼Œå› æ­¤éœ€è¦æäº¤æ—¶å‘å‡ºä¸€ä¸ª <code>webhooks</code> æ¥è§¦å‘ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ workflowÂ <code>.github/workflows/main.yml</code>:</p><pre><code># Controls when the action will run. Triggers the workflow on push request for the master branch
on:
Â Â push:
Â Â Â Â branches: [ master ]

jobs:
Â Â deploy:
Â Â Â Â runs-on: ubuntu-latest
Â Â Â Â steps:
Â Â Â Â - name: Deploy to LeanEngine
Â Â Â Â Â Â uses: enflo/curl-action@v1.2
Â Â Â Â Â Â with:
Â Â Â Â Â Â Â Â curl: -X POST https://cn-n1-console-api.leancloud.cn/1.1/engine/groups/web/production/version?gitTag=${{ github.sha }}&amp;token=${{ secrets.DEPLOY_TOKEN }}
</code></pre><p>è®°å¾—åœ¨ github ä»“åº“ä¸­å°† leancloud éƒ¨ç½²åå°æä¾›çš„ <code>DEPLOY_TOKEN</code> å£°æ˜åœ¨ github ä¸­ï¼Œæ–¹å¯å®Œæˆè§¦å‘ã€‚</p><h3 id=step3-éƒ¨ç½²å’Œåç»­>Step3: éƒ¨ç½²å’Œåç»­<a hidden class=anchor aria-hidden=true href=#step3-éƒ¨ç½²å’Œåç»­>#</a></h3><p>å®Œæˆä¸Šé¢çš„æµç¨‹ï¼Œå¼€å¯ github ä»“åº“ä¸­çš„ action å¼€å…³ï¼Œæäº¤ä¸Šé¢çš„æ”¹åŠ¨ï¼Œå¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œå³å¯è§¦å‘éƒ¨ç½²ã€‚</p><p>å¯¹äº†ï¼Œåœ¨æœ€åï¼Œè¿˜éœ€è¦åœ¨ leancloud ç»‘å®šä¸€ä¸ªå¤‡æ¡ˆè¿‡çš„åŸŸåï¼Œæ‰èƒ½æ­£å¸¸è®¿é—®æœåŠ¡ã€‚</p><h2 id=æ€»ç»“>æ€»ç»“<a hidden class=anchor aria-hidden=true href=#æ€»ç»“>#</a></h2><p>è‡³æ­¤ï¼Œç®€å•çš„ Leancloud éƒ¨ç½² react å•é¡µåº”ç”¨çš„æ–¹æ³•ä»‹ç»å®Œæ¯•ï¼Œç”±äº Leancloud æ˜¯ä¸€ä¸ª BaaS å¹³å°ï¼Œå¯ç›´æ¥å½“ä½œç®€å•åç«¯å’Œæ•°æ®å­˜å‚¨æœåŠ¡å™¨æ¥ä½¿ç”¨ï¼Œåšå¼€å‘æµ‹è¯•ä½¿ç”¨å¾ˆå¥½ï¼Œç­‰åæœŸæœ‰æµé‡äº†å†å‡çº§ä»˜è´¹å¥—é¤å³å¯è·å–æ›´å¥½çš„æœåŠ¡ä½“éªŒã€‚</p><p>æ€»ä¹‹ï¼Œè¿™æ ·ä¸€ä¸ªè¾…åŠ©å¿«é€Ÿå¼€å‘çš„å¹³å°å¯¹äºå¼€å‘è€…æ¥è®²å¥½å¤„å¤šå¤šï¼Œæ— éœ€å…³æ³¨æ›´å¤šæŠ€æœ¯ç»†èŠ‚å³å¯å°†è‡ªå·±çš„è§„åˆ’å®ç°ï¼Œå¿«é€Ÿä¸Šçº¿ï¼Œå¦‚æœæ•ˆæœå¯ä»¥ï¼Œå†å»è€ƒè™‘å‡çº§å’Œæ”¹é€ å³å¯ï¼Œé¿å…äº†å‰æœŸèµ„æºçš„æµªè´¹ã€‚</p><p>æœ€åï¼Œè¿˜æ˜¯å¸Œæœ›å„ä½çæƒœè¿™æ ·çš„å¥½èµ„æºï¼Œå¥½å¥½ä½¿ç”¨ï¼Œæœªæ¥å¯èƒ½çš„æƒ…å†µä¸‹éƒ½æ˜¯ç”¨ä»˜è´¹å¥—é¤ï¼Œåªæœ‰æœ‰åˆ©å¯å›¾äº†ï¼Œé‚£äº›çœŸå¿ƒæ„¿æ„åšå¥½æœåŠ¡çš„äººä»¬æ‰èƒ½æä¾›æ›´å¥½çš„æœåŠ¡ã€‚</p><h2 id=å‚è€ƒæ–‡çŒ®>å‚è€ƒæ–‡çŒ®<a hidden class=anchor aria-hidden=true href=#å‚è€ƒæ–‡çŒ®>#</a></h2><ul><li><strong><a href=https://leancloudblog.com/deploy-react-spa-on-leanengine/>åœ¨äº‘å¼•æ“ä¸Šéƒ¨ç½² React å•é¡µåº”ç”¨ By Leancloud</a></strong></li><li><a href=https://zh.wikipedia.org/wiki/Heroku>Heroku By Wikipedia</a></li></ul><div class=post-meta></hr>æ³¨ï¼šæœ¬ä½œå“é‡‡ç”¨<a rel=license target=view_window href=http://creativecommons.org/licenses/by-nc-sa/4.0/> çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®® </a>è¿›è¡Œè®¸å¯ã€‚</div></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.frytea.com/tags/leancloud/>ğŸ· LeanCloud</a></li><li><a href=https://www.frytea.com/tags/web/>ğŸ· web</a></li><li><a href=https://www.frytea.com/tags/react/>ğŸ· React</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share ä½¿ç”¨ LeanCloud äº‘å¼•æ“éƒ¨ç½² React Web åº”ç”¨ on twitter" href="https://twitter.com/intent/tweet/?text=%e4%bd%bf%e7%94%a8%20LeanCloud%20%e4%ba%91%e5%bc%95%e6%93%8e%e9%83%a8%e7%bd%b2%20React%20Web%20%e5%ba%94%e7%94%a8&url=https%3a%2f%2fwww.frytea.com%2farchives%2f603%2f&hashtags=LeanCloud%2cweb%2cReact"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share ä½¿ç”¨ LeanCloud äº‘å¼•æ“éƒ¨ç½² React Web åº”ç”¨ on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwww.frytea.com%2farchives%2f603%2f&title=%e4%bd%bf%e7%94%a8%20LeanCloud%20%e4%ba%91%e5%bc%95%e6%93%8e%e9%83%a8%e7%bd%b2%20React%20Web%20%e5%ba%94%e7%94%a8&summary=%e4%bd%bf%e7%94%a8%20LeanCloud%20%e4%ba%91%e5%bc%95%e6%93%8e%e9%83%a8%e7%bd%b2%20React%20Web%20%e5%ba%94%e7%94%a8&source=https%3a%2f%2fwww.frytea.com%2farchives%2f603%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share ä½¿ç”¨ LeanCloud äº‘å¼•æ“éƒ¨ç½² React Web åº”ç”¨ on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.frytea.com%2farchives%2f603%2f&title=%e4%bd%bf%e7%94%a8%20LeanCloud%20%e4%ba%91%e5%bc%95%e6%93%8e%e9%83%a8%e7%bd%b2%20React%20Web%20%e5%ba%94%e7%94%a8"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share ä½¿ç”¨ LeanCloud äº‘å¼•æ“éƒ¨ç½² React Web åº”ç”¨ on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.frytea.com%2farchives%2f603%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share ä½¿ç”¨ LeanCloud äº‘å¼•æ“éƒ¨ç½² React Web åº”ç”¨ on whatsapp" href="https://api.whatsapp.com/send?text=%e4%bd%bf%e7%94%a8%20LeanCloud%20%e4%ba%91%e5%bc%95%e6%93%8e%e9%83%a8%e7%bd%b2%20React%20Web%20%e5%ba%94%e7%94%a8%20-%20https%3a%2f%2fwww.frytea.com%2farchives%2f603%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share ä½¿ç”¨ LeanCloud äº‘å¼•æ“éƒ¨ç½² React Web åº”ç”¨ on telegram" href="https://telegram.me/share/url?text=%e4%bd%bf%e7%94%a8%20LeanCloud%20%e4%ba%91%e5%bc%95%e6%93%8e%e9%83%a8%e7%bd%b2%20React%20Web%20%e5%ba%94%e7%94%a8&url=https%3a%2f%2fwww.frytea.com%2farchives%2f603%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div><nav class=paginav><a class=prev href=https://www.frytea.com/archives/604/><span class=title>Â« ä¸Šä¸€é¡µ</span><br><span>Git ä¿®æ”¹æäº¤è¿‡çš„é‚®ç®±å’Œç”¨æˆ·å</span></a>
<a class=next href=https://www.frytea.com/archives/wiki/deploy-react-app-using-leancloud/><span class=title>ä¸‹ä¸€é¡µ Â»</span><br><span>ä½¿ç”¨ LeanCloud äº‘å¼•æ“éƒ¨ç½² React Web åº”ç”¨</span></a></nav></footer><script src=https://giscus.app/client.js data-repo=songtianlun/songtianlun.github.io data-repo-id=R_kgDOGQ9BVQ data-category=Announcements data-category-id=DIC_kwDOGQ9BVc4CX1qg data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></article></main><footer class=footer><span>Copyright &copy; 2024 â€¢ <a href=https://www.frytea.com/>Frytea</a></span>
<span>â€¢ <a href=http://beian.miit.gov.cn/ target=view_window>ç²¤ ICP å¤‡ 19144283 å·</a></span><div><span><a href=/about/>å…³äº</a>
â€¢ <a href=/disclaimer/>å…è´£å£°æ˜</a>
â€¢ <a href=/sitemap.xml target=view_window>ç«™ç‚¹åœ°å›¾</a>
â€¢ <a href=https://www.foreverblog.cn/go.html target=view_window>è™«æ´</a>
â€¢ PV <span id=busuanzi_value_site_pv><i class="fa fa-spinner fa-spin"></i></span></span></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script><meta name=â€apple-mobile-web-app-capableâ€ content="â€yesâ€"><script>'serviceWorker'in navigator&&window.addEventListener('load',()=>{navigator.serviceWorker.register('/service-worker.js')})</script></body></html>