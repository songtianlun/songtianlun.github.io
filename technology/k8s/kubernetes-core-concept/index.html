<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>kubernetes 核心技术概念 | Frytea</title><meta name=keywords content="linux,docker,k8s,kubernetes,vps,云原生"><meta name=description content="汇集 k8s 核心概念，帮助理解"><meta name=author content="Tianlun Song"><link rel=canonical href=https://www.frytea.com/technology/k8s/kubernetes-core-concept/><meta name=yandex-verification content="73b1a797f62c0e98"><meta name=baidu-site-verification content="code-gnOrbP1RyC"><meta name=baidu_union_verify content="4c552c344295cb984c46ebe74962b067"><link crossorigin=anonymous href=/assets/css/stylesheet.min.d6915a40438ada26eb4bbe6b06836e00e13b20f99d6d3252319dd3a6cc407661.css integrity="sha256-1pFaQEOK2ibrS75rBoNuAOE7IPmdbTJSMZ3TpsxAdmE=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://www.frytea.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.frytea.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.frytea.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.frytea.com/apple-touch-icon.png><link rel=mask-icon href=https://www.frytea.com/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.85.0"><link rel=manifest href=/manifest.json><script src=https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js></script><script src=https://cdn.jsdelivr.net/npm/meting@2.0.1/dist/Meting.min.js></script><script type=text/javascript>function downloadJSAtOnload(){var a=document.createElement("script");a.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7296634171837358",document.body.appendChild(a)}window.addEventListener?window.addEventListener("load",downloadJSAtOnload,!1):window.attachEvent?window.attachEvent("onload",downloadJSAtOnload):window.onload=downloadJSAtOnload</script><script async defer data-website-id=3d947a98-2774-46b0-805f-fe2e4877a1d7 src=https://umami.frytea.com/umami.js></script><script async defer data-website-id=460b58e0-655d-42d7-926c-7a44aeb5730f src=https://frytea-umami.onrender.com/umami.js></script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script>var _hmt=_hmt||[];(function(){var a=document.createElement("script"),b;a.src="https://hm.baidu.com/hm.js?c49e2f5be5e009382be07455c33b1394",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-136094326-1','auto'),ga('send','pageview'))</script><meta property="og:title" content="kubernetes 核心技术概念"><meta property="og:description" content="汇集 k8s 核心概念，帮助理解"><meta property="og:type" content="article"><meta property="og:url" content="https://www.frytea.com/technology/k8s/kubernetes-core-concept/"><meta property="og:image" content="https://www.frytea.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="technology"><meta property="article:published_time" content="2022-02-04T13:04:34+08:00"><meta property="article:modified_time" content="2022-02-04T13:04:34+08:00"><meta property="og:site_name" content="Frytea"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.frytea.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="kubernetes 核心技术概念"><meta name=twitter:description content="汇集 k8s 核心概念，帮助理解"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"技术文集","item":"https://www.frytea.com/technology/"},{"@type":"ListItem","position":2,"name":"kubernetes 核心技术概念","item":"https://www.frytea.com/technology/k8s/kubernetes-core-concept/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"kubernetes 核心技术概念","name":"kubernetes 核心技术概念","description":"汇集 k8s 核心概念，帮助理解","keywords":["linux","docker","k8s","kubernetes","vps","云原生"],"articleBody":"复制控制器（ Replication Controller，RC ） RC 是 K8s 集群中保证 Pod 高可用的 API对象 。通过监控运行中的Pod来保证集群中运行指定数目的Pod副本。\n指定的数目可以是多个也可以是1个；少于指定数目，RC就会启动运行新的Pod副本；多于指定数目，RC就会杀死多余的Pod副本。即使在指定数目为1的情况下，通过RC运行Pod也比直接运行Pod更明智，因为RC也可以发挥它高可用的能力，保证永远有1个Pod在运行。RC是K8s较早期的技术概念，只适用于长期伺服型的业务类型，比如控制小机器人提供高可用的Web服务。\n副本集（ Replica Set，RS ） RS 是新一代 RC ，提供同样的高可用能力，区别主要在于 RS 后来居上，能支持更多种类的匹配模式。副本集对象一般不单独使用，而是作为 Deployment 的理想状态参数使用。\n部署( Deployment ) 部署表示用户对 K8s 集群的一次更新操作。部署是一个比 RS 应用模式更广的 API对象 ，可以是创建一个新的服务，更新一个新的服务，也可以是滚动升级一个服务。\n滚动升级一个服务，实际是创建一个新的 RS ，然后逐渐将新 RS 中副本数增加到理想状态，将旧 RS 中的副本数减小到 0 的复合操作；这样一个复合操作用一个 RS 是不太好描述的，所以用一个更通用的 Deployment 来描述。\n服务（ Service ） RC 、 RS 和 Deployment 只是保证了支撑服务的微服务 Pod 的数量，但是没有解决如何访问这些服务的问题。\n一个Pod只是一个运行服务的实例，随时可能在一个节点上停止，在另一个节点以一个新的IP启动一个新的Pod，因此不能以确定的IP和端口号提供服务。\n要稳定地提供服务需要服务发现和负载均衡能力。服务发现完成的工作，是针对客户端访问的服务，找到对应的的后端服务实例。\n在K8s集群中，客户端需要访问的服务就是 Service 对象。每个Service会对应一个集群内部有效的虚拟IP，集群内部通过虚拟IP访问一个服务。在K8s集群中微服务的负载均衡是由 Kube-proxy 实现的。 Kube-proxy 是 K8s 集群内部的负载均衡器。它是一个分布式代理服务器，在K8s的每个节点上都有一个；这一设计体现了它的伸缩性优势，需要访问服务的节点越多，提供负载均衡能力的 Kube-proxy 就越多，高可用节点也随之增多。\n与之相比，我们平时在服务器端做个反向代理做负载均衡，还要进一步解决反向代理的负载均衡和高可用问题。\n任务（ Job ） Job 是 K8s 用来控制批处理型任务的API对象。\n批处理业务与长期伺服业务的主要区别是批处理业务的运行有头有尾，而长期伺服业务在用户不停止的情况下永远运行。\nJob 管理的 Pod 根据用户的设置把任务成功完成就自动退出了。\n成功完成的标志根据不同的 spec.completions 策略而不同：\n 单Pod型任务有一个Pod成功就标志完成； 定数成功型任务保证有N个任务全部成功； 工作队列型任务根据应用确认的全局成功而标志成功。  后台支撑服务集（ DaemonSet ） 长期伺服型和批处理型服务的核心在业务应用，可能有些节点运行多个同类业务的Pod，有些节点上又没有这类 Pod 运行；而后台支撑型服务的核心关注点在 K8s 集群中的节点（物理机或虚拟机），要保证每个节点上都有一个此类Pod运行。节点可能是所有集群节点也可能是通过 nodeSelector 选定的一些特定节点。\n典型的后台支撑型服务包括存储，日志和监控等在每个节点上支持K8s集群运行的服务。\n有状态服务集（ PetSet ） RC 和 RS 主要是控制提供无状态服务的，其所控制的Pod的名字是随机设置的，一个Pod出故障了就被丢弃掉，在另一个地方重启一个新的 Pod ，名字变了、名字和启动在哪儿都不重要，重要的只是 Pod 总数；而 PetSet 是用来控制有状态服务， PetSet 中的每个 Pod 的名字都是事先确定的，不能更改。 PetSet 中 Pod 的名字的作用，是关联与该 Pod 对应的状态。\n对于 RC 和 RS 中的 Pod ，一般不挂载存储或者挂载共享存储，保存的是所有 Pod 共享的状态， Pod 像流水线产品一样没有分别（这似乎也确实意味着失去了人性特征）；对于 PetSet 中的 Pod ，每个 Pod 挂载自己独立的存储，如果一个 Pod 出现故障，从其他节点启动一个同样名字的 Pod ，要挂载上原来 Pod 的存储继续以它的状态提供服务。\n适合于 PetSet 的业务包括数据库服务 MySQL 和 PostgreSQL ，集群化管理服务 Zookeeper 、 etcd 等有状态服务。 PetSet 的另一种典型应用场景是作为一种比普通容器更稳定可靠的模拟虚拟机的机制。\n传统的虚拟机正是一种有状态的宠物，运维人员需要不断地维护它，容器刚开始流行时，我们用容器来模拟虚拟机使用，所有状态都保存在容器里，而这已被证明是非常不安全、不可靠的。使用 PetSet ， Pod 仍然可以通过漂移到不同节点提供高可用，而存储也可以通过外挂的存储来提供高可靠性， PetSet 做的只是将确定的 Pod 与确定的存储关联起来保证状态的连续性。 PetSet 还只在Alpha阶段，后面的设计如何演变，我们还要继续观察。\n集群联邦（ Federation ） K8s在1.3版本里发布了beta版的Federation功能。\n在云计算环境中，服务的作用距离范围从近到远一般可以有：同主机（ Host ， Node ）、跨主机同可用区（ Available Zone ）、跨可用区同地区（ Region ）、跨地区同服务商（ Cloud Service Provider ）、跨云平台。\nK8s的设计定位是单一集群在同一个地域内，因为同一个地区的网络性能才能满足K8s的调度和计算存储连接要求。而联合集群服务就是为提供跨Region跨服务商K8s集群服务而设计的。\n每个 K8s Federation 有自己的分布式存储、 API Server 和 Controller Manager 。用户可以通过 Federation 的 API Server 注册该 Federation 的成员 K8s Cluster 。当用户通过 Federation 的 API Server 创建、更改 API 对象时， Federation API Server 会在自己所有注册的子 K8s Cluster 都创建一份对应的 API 对象。在提供业务请求服务时， K8s Federation 会先在自己的各个 子Cluster 之间做负载均衡，而对于发送到某个具体 K8s Cluster 的业务请求，会依照这个 K8s Cluster 独立提供服务时一样的调度模式去做 K8s Cluster 内部的负载均衡。而 Cluster 之间的负载均衡是通过域名服务的负载均衡来实现的。\n所有的设计都尽量不影响K8s Cluster现有的工作机制，这样对于每个子K8s集群来说，并不需要更外层的有一个K8s Federation，也就是意味着所有现有的K8s代码和机制不需要因为Federation功能有任何变化。\n存储卷（ Volume ） K8s 集群中的存储卷跟 Docker 的存储卷有些类似，只不过 Docker 的存储卷作用范围为一个容器，而 K8s 的存储卷的生命周期和作用范围是一个 Pod 。\n每个 Pod 中声明的存储卷由 Pod 中的所有容器共享。 K8s 支持非常多的存储卷类型，特别的，支持多种公有云平台的存储，包括AWS，Google和Azure云；支持多种分布式存储包括 GlusterFS 和 Ceph ；也支持较容易使用的主机本地目录 hostPath 和 NFS 。 K8s 还支持使用 Persistent Volume Claim 即 PVC 这种逻辑存储，使用这种存储，使得存储的使用者可以忽略后台的实际存储技术（例如AWS，Google或GlusterFS和Ceph），而将有关存储实际技术的配置交给存储管理员通过 Persistent Volume 来配置。\n持久存储卷（ Persistent Volume，PV ）和持久存储卷声明（ Persistent Volume Claim，PVC ） PV 和 PVC 使得 K8s 集群具备了存储的逻辑抽象能力，使得在配置Pod的逻辑里可以忽略对实际后台存储技术的配置，而把这项配置的工作交给PV的配置者，即集群的管理者。\n存储的 PV 和 PVC 的这种关系，跟计算的 Node 和 Pod 的关系是非常类似的：\n PV 和 Node 是资源的提供者，根据集群的基础设施变化而变化，由 K8s 集群管理员配置； PVC 和 Pod 是资源的使用者，根据业务服务的需求变化而变化，由 K8s 集群的使用者即服务的管理员来配置。  节点（ Node ） K8s 集群中的计算能力由 Node 提供，最初 Node 称为服务节点 Minion ，后来改名为 Node 。\nK8s 集群中的 Node 也就等同于 Mesos 集群中的 Slave 节点，是所有 Pod 运行所在的工作主机，可以是物理机也可以是虚拟机。\n不论是物理机还是虚拟机，工作主机的统一特征是上面要运行 kubelet 管理节点上运行的容器。\n密钥对象（ Secret ） Secret 是用来保存和传递密码、密钥、认证凭证这些敏感信息的对象。使用 Secret 的好处是可以避免把敏感信息明文写在配置文件里。在 K8s 集群中配置和使用服务不可避免的要用到各种敏感信息实现登录、认证等功能，例如访问AWS存储的用户名密码。\n为了避免将类似的敏感信息明文写在所有需要使用的配置文件中，可以将这些信息存入一个 Secret 对象，而在配置文件中通过 Secret 对象引用这些敏感信息。这种方式的好处包括：意图明确，避免重复，减少暴漏机会。\n用户帐户（ User Account ）和服务帐户（ Service Account ） 顾名思义， 用户帐户为人提供账户标识 ，而服务账户为计算机进程和 K8s 集群中运行的 Pod 提供账户标识。\n用户帐户和服务帐户的一个区别是作用范围；用户帐户对应的是人的身份，人的身份与服务的namespace 无关，所以:\n 用户账户是跨namespace的 服务帐户对应的是一个运行中程序的身份，与特定namespace是相关的。  名字空间（Namespace） 名字空间为 K8s 集群提供虚拟的隔离作用， K8s 集群初始有两个名字空间，分别是 默认名字空间 default 和 系统名字空间 kube-system ，除此以外，管理员可以可以创建新的名字空间满足需要。\n访问授权（Role-based Access Control，RBAC） K8s在1.3版本中发布了alpha版的基于角色的访问控制（ Role-based Access Control，RBAC ）的授权模式。相对于基于属性的访问控制（ Attribute-based Access Control，ABAC ），RBAC主要是引入了角色（ Role ）和角色绑定（ RoleBinding ）的抽象概念。\n在 ABAC 中， K8s 集群中的访问策略只能跟用户直接关联；\n而在 RBAC 中，访问策略可以跟某个角色关联，具体的用户在跟一个或多个角色相关联。\n显然， RBAC 像其他新功能一样，每次引入新功能，都会引入新的 API 对象，从而引入新的概念抽象，而这一新的概念抽象一定会使集群服务管理和使用更容易扩展和重用。\n参考文献  Kubernetes 文档/概念/概述 By K8s k8s yaml格式的Pod配置文件  ","wordCount":"3736","inLanguage":"zh","datePublished":"2022-02-04T13:04:34+08:00","dateModified":"2022-02-04T13:04:34+08:00","author":{"@type":"Person","name":"Tianlun Song"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.frytea.com/technology/k8s/kubernetes-core-concept/"},"publisher":{"@type":"Organization","name":"Frytea","logo":{"@type":"ImageObject","url":"https://www.frytea.com/favicon.ico"}}}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=https://www.frytea.com/ accesskey=h title="🏡 Frytea (Alt + H)">🏡 Frytea</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://www.frytea.com/categories/ title=🗂><span>🗂</span></a></li><li><a href=https://www.frytea.com/tags/ title=🏷️><span>🏷️</span></a></li><li><a href=https://www.frytea.com/search/ title="🔍 (Alt + /)" accesskey=/><span>🔍</span></a></li><li><a href=https://www.frytea.com/posts/ title=🖋><span>🖋</span></a></li><li><a href=https://www.frytea.com/technology/ title=🛠><span>🛠</span></a></li><li><a href=https://www.frytea.com/technology/app-list/ title=⚖️><span>⚖️</span></a></li><li><a href=https://www.frytea.com/technology/projects/ title=📁><span>📁</span></a></li><li><a href=https://travellings.link title=🚇><span>🚇</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.frytea.com/>主页</a>&nbsp;»&nbsp;<a href=https://www.frytea.com/technology/>技术文集</a></div><h1 class=post-title><a href=https://www.frytea.com/technology/k8s/kubernetes-core-concept/>kubernetes 核心技术概念</a></h1><div class=post-description>汇集 k8s 核心概念，帮助理解</div><div class=post-meta>February 4, 2022&nbsp;·&nbsp;8 分钟&nbsp;·&nbsp;3736 字&nbsp;·&nbsp;Tianlun Song&nbsp;|&nbsp;<a href=https://github.com/songtianlun/songtianlun.github.io/edit/main/content/technology/k8s/kubernetes-core-concept.md rel="noopener noreferrer" target=_blank>PR</a>
&nbsp;| &nbsp;<span id=busuanzi_value_page_pv><i class="fa fa-spinner fa-spin"></i></span>&nbsp;Hits</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#%e5%a4%8d%e5%88%b6%e6%8e%a7%e5%88%b6%e5%99%a8-replication-controllerrc- aria-label="复制控制器（ Replication Controller，RC ）">复制控制器（ <code>Replication Controller，RC</code> ）</a></li><li><a href=#%e5%89%af%e6%9c%ac%e9%9b%86-replica-setrs- aria-label="副本集（ Replica Set，RS ）">副本集（ <code>Replica Set，RS</code> ）</a></li><li><a href=#%e9%83%a8%e7%bd%b2-deployment- aria-label="部署( Deployment )">部署( <code>Deployment</code> )</a></li><li><a href=#%e6%9c%8d%e5%8a%a1-service- aria-label="服务（ Service ）">服务（ <code>Service</code> ）</a></li><li><a href=#%e4%bb%bb%e5%8a%a1-job- aria-label="任务（ Job ）">任务（ <code>Job</code> ）</a></li><li><a href=#%e5%90%8e%e5%8f%b0%e6%94%af%e6%92%91%e6%9c%8d%e5%8a%a1%e9%9b%86-daemonset- aria-label="后台支撑服务集（ DaemonSet ）">后台支撑服务集（ <code>DaemonSet</code> ）</a></li><li><a href=#%e6%9c%89%e7%8a%b6%e6%80%81%e6%9c%8d%e5%8a%a1%e9%9b%86-petset- aria-label="有状态服务集（ PetSet ）">有状态服务集（ <code>PetSet</code> ）</a></li><li><a href=#%e9%9b%86%e7%be%a4%e8%81%94%e9%82%a6-federation- aria-label="集群联邦（ Federation ）">集群联邦（ <code>Federation</code> ）</a></li><li><a href=#%e5%ad%98%e5%82%a8%e5%8d%b7-volume- aria-label="存储卷（ Volume ）">存储卷（ <code>Volume</code> ）</a></li><li><a href=#%e6%8c%81%e4%b9%85%e5%ad%98%e5%82%a8%e5%8d%b7-persistent-volumepv-%e5%92%8c%e6%8c%81%e4%b9%85%e5%ad%98%e5%82%a8%e5%8d%b7%e5%a3%b0%e6%98%8e-persistent-volume-claimpvc- aria-label="持久存储卷（ Persistent Volume，PV ）和持久存储卷声明（ Persistent Volume Claim，PVC ）">持久存储卷（ <code>Persistent Volume，PV</code> ）和持久存储卷声明（ <code>Persistent Volume Claim，PVC</code> ）</a></li><li><a href=#%e8%8a%82%e7%82%b9-node- aria-label="节点（ Node ）">节点（ <code>Node</code> ）</a></li><li><a href=#%e5%af%86%e9%92%a5%e5%af%b9%e8%b1%a1-secret- aria-label="密钥对象（ Secret ）">密钥对象（ <code>Secret</code> ）</a></li><li><a href=#%e7%94%a8%e6%88%b7%e5%b8%90%e6%88%b7-user-account-%e5%92%8c%e6%9c%8d%e5%8a%a1%e5%b8%90%e6%88%b7-service-account- aria-label="用户帐户（ User Account ）和服务帐户（ Service Account ）">用户帐户（ <code>User Account</code> ）和服务帐户（ <code>Service Account</code> ）</a></li><li><a href=#%e5%90%8d%e5%ad%97%e7%a9%ba%e9%97%b4namespace aria-label=名字空间（Namespace）>名字空间（Namespace）</a></li><li><a href=#%e8%ae%bf%e9%97%ae%e6%8e%88%e6%9d%83role-based-access-controlrbac aria-label="访问授权（Role-based Access Control，RBAC）">访问授权（<code>Role-based Access Control，RBAC</code>）</a></li><li><a href=#%e5%8f%82%e8%80%83%e6%96%87%e7%8c%ae aria-label=参考文献>参考文献</a></li></ul></div><div><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-7296634171837358 data-ad-slot=9161921641 data-ad-format=auto data-full-width-responsive=true></ins></div><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></details></div><div class=post-content><blockquote style=margin-top:8px><p style=text-align:center;text-indent:0><a href=https://www.frytea.com/technology/k8s/kubernetes-core-concept/>本文</a>
首发于
<a href=https://www.frytea.com/>🌱 煎茶</a>，
<a href=/disclaimer/>转载</a> 请注明
<a href=https://www.frytea.com/technology/k8s/kubernetes-core-concept/>来源</a>。</p></blockquote><h2 id=复制控制器-replication-controllerrc->复制控制器（ <code>Replication Controller，RC</code> ）<a hidden class=anchor aria-hidden=true href=#复制控制器-replication-controllerrc->#</a></h2><p><code>RC</code> 是 <code>K8s</code> 集群中保证 <code>Pod</code> 高可用的 <code>API对象</code> 。通过监控运行中的Pod来保证集群中运行指定数目的Pod副本。</p><p>指定的数目可以是多个也可以是1个；少于指定数目，RC就会启动运行新的Pod副本；多于指定数目，RC就会杀死多余的Pod副本。即使在指定数目为1的情况下，通过RC运行Pod也比直接运行Pod更明智，因为RC也可以发挥它高可用的能力，保证永远有1个Pod在运行。RC是K8s较早期的技术概念，只<strong>适用于长期伺服型的业务类型</strong>，比如控制小机器人提供高可用的Web服务。</p><h2 id=副本集-replica-setrs->副本集（ <code>Replica Set，RS</code> ）<a hidden class=anchor aria-hidden=true href=#副本集-replica-setrs->#</a></h2><p><code>RS</code> 是新一代 <code>RC</code> ，提供同样的高可用能力，区别主要在于 <code>RS</code> 后来居上，能支持更多种类的匹配模式。副本集对象一般不单独使用，而是作为 <code>Deployment</code> 的<strong>理想状态参数</strong>使用。</p><h2 id=部署-deployment->部署( <code>Deployment</code> )<a hidden class=anchor aria-hidden=true href=#部署-deployment->#</a></h2><p>部署表示用户对 <code>K8s</code> 集群的一次<strong>更新操作</strong>。部署是一个比 <code>RS</code> 应用模式更广的 <code>API对象</code> ，可以是<strong>创建一个新的服务，更新一个新的服务，也可以是滚动升级一个服务</strong>。</p><p>滚动升级一个服务，实际是创建一个新的 <code>RS</code> ，然后逐渐将新 <code>RS</code> 中副本数增加到理想状态，将旧 <code>RS</code> 中的副本数减小到 <code>0</code> 的复合操作；这样一个复合操作用一个 <code>RS</code> 是不太好描述的，所以用一个更通用的 <code>Deployment</code> 来描述。</p><h2 id=服务-service->服务（ <code>Service</code> ）<a hidden class=anchor aria-hidden=true href=#服务-service->#</a></h2><p><code>RC</code> 、 <code>RS</code> 和 <code>Deployment</code> 只是<strong>保证了支撑服务的微服务 <code>Pod</code> 的数量</strong>，但是没有解决如何访问这些服务的问题。</p><p><strong>一个Pod只是一个运行服务的实例</strong>，随时可能在一个节点上停止，在另一个节点以一个新的IP启动一个新的Pod，<strong>因此不能以确定的IP和端口号提供服务</strong>。</p><p>要稳定地提供服务需要服务发现和负载均衡能力。服务发现完成的工作，是针对客户端访问的服务，找到对应的的后端服务实例。</p><p>在K8s集群中，<strong>客户端需要访问的服务就是 <code>Service</code> 对象</strong>。每个Service会对应一个集群内部有效的虚拟IP，集群内部通过虚拟IP访问一个服务。在K8s集群中微服务的负载均衡是由 <code>Kube-proxy</code> 实现的。 <code>Kube-proxy</code> 是 <code>K8s</code> 集群内部的负载均衡器。它是一个<strong>分布式代理服务器</strong>，在K8s的每个节点上都有一个；这一设计体现了它的<strong>伸缩性优势</strong>，需要访问服务的节点越多，提供负载均衡能力的 <code>Kube-proxy</code> 就越多，高可用节点也随之增多。</p><p>与之相比，我们平时在服务器端做个反向代理做负载均衡，还要进一步解决反向代理的负载均衡和高可用问题。</p><h2 id=任务-job->任务（ <code>Job</code> ）<a hidden class=anchor aria-hidden=true href=#任务-job->#</a></h2><p><code>Job</code> 是 <code>K8s</code> 用来控制批处理型任务的API对象。</p><p>批处理业务与长期伺服业务的主要区别是<strong>批处理业务</strong>的运行<strong>有头有尾</strong>，而<strong>长期伺服业务</strong>在用户不停止的情况下<strong>永远运行</strong>。</p><p><code>Job</code> 管理的 <code>Pod</code> 根据用户的设置把任务成功完成就自动退出了。</p><p>成功完成的标志根据不同的 <code>spec.completions</code> 策略而不同：</p><ul><li><strong>单Pod型</strong>任务有一个Pod成功就标志完成；</li><li><strong>定数成功型</strong>任务保证有<strong>N个任务全部成功</strong>；</li><li><strong>工作队列型</strong>任务<strong>根据应用确认的全局成功</strong>而标志成功。</li></ul><h2 id=后台支撑服务集-daemonset->后台支撑服务集（ <code>DaemonSet</code> ）<a hidden class=anchor aria-hidden=true href=#后台支撑服务集-daemonset->#</a></h2><p>长期伺服型和批处理型服务的核心在业务应用，可能有些节点运行多个同类业务的Pod，有些节点上又没有这类 <code>Pod</code> 运行；而<strong>后台支撑型服务</strong>的核心关注点在 <code>K8s</code> 集群中的节点（物理机或虚拟机），要<strong>保证每个节点上都有一个此类Pod运行</strong>。节点可能是所有集群节点也可能是通过 <code>nodeSelector</code> 选定的一些特定节点。</p><p>典型的后台支撑型服务包括<strong>存储，日志和监控</strong>等在每个节点上支持K8s集群运行的服务。</p><h2 id=有状态服务集-petset->有状态服务集（ <code>PetSet</code> ）<a hidden class=anchor aria-hidden=true href=#有状态服务集-petset->#</a></h2><p><code>RC</code> 和 <code>RS</code> 主要是控制提供无状态服务的，其所控制的Pod的名字是随机设置的，一个Pod出故障了就被丢弃掉，在另一个地方重启一个新的 <code>Pod</code> ，名字变了、名字和启动在哪儿都不重要，重要的只是 <code>Pod</code> 总数；而 <code>PetSet</code> 是<strong>用来控制有状态服务</strong>， <code>PetSet</code> 中的每个 <code>Pod</code> 的名字都是事先确定的，不能更改。 <code>PetSet</code> 中 <code>Pod</code> 的名字的作用，是<strong>关联与该 <code>Pod</code> 对应的状态</strong>。</p><p>对于 <code>RC</code> 和 <code>RS</code> 中的 <code>Pod</code> ，一般不挂载存储或者挂载共享存储，保存的是所有 <code>Pod</code> 共享的状态， <code>Pod</code> 像流水线产品一样没有分别（这似乎也确实意味着失去了人性特征）；对于 <code>PetSet</code> 中的 <code>Pod</code> ，每个 <code>Pod</code> 挂载自己独立的存储，如果一个 <code>Pod</code> 出现故障，从其他节点启动一个同样名字的 <code>Pod</code> ，要<strong>挂载上原来 <code>Pod</code> 的存储继续以它的状态提供服务</strong>。</p><p>适合于 <code>PetSet</code> 的业务包括数据库服务 <code>MySQL</code> 和 <code>PostgreSQL</code> ，集群化管理服务 <code>Zookeeper</code> 、 <code>etcd</code> 等有状态服务。 <code>PetSet</code> 的另一种典型应用场景是<strong>作为一种比普通容器更稳定可靠的模拟虚拟机的机制</strong>。</p><p>传统的虚拟机正是一种有状态的宠物，运维人员需要不断地维护它，容器刚开始流行时，我们用容器来模拟虚拟机使用，所有状态都保存在容器里，而这已被证明是非常不安全、不可靠的。使用 <code>PetSet</code> ， <code>Pod</code> 仍然可以通过漂移到不同节点提供高可用，而存储也可以通过外挂的存储来提供高可靠性， <code>PetSet</code> 做的只是将确定的 <code>Pod</code> 与确定的存储关联起来保证状态的连续性。 <code>PetSet</code> 还只在Alpha阶段，后面的设计如何演变，我们还要继续观察。</p><h2 id=集群联邦-federation->集群联邦（ <code>Federation</code> ）<a hidden class=anchor aria-hidden=true href=#集群联邦-federation->#</a></h2><p>K8s在1.3版本里发布了beta版的Federation功能。</p><p>在云计算环境中，服务的作用距离范围从近到远一般可以有：同主机（ <code>Host</code> ， <code>Node</code> ）、跨主机同可用区（ <code>Available Zone</code> ）、跨可用区同地区（ <code>Region</code> ）、跨地区同服务商（ <code>Cloud Service Provider</code> ）、跨云平台。</p><p>K8s的设计定位是<strong>单一集群在同一个地域内</strong>，因为同一个地区的网络性能才能满足K8s的调度和计算存储连接要求。而联合集群服务就是为提供跨Region跨服务商K8s集群服务而设计的。</p><p>每个 <code>K8s Federation</code> 有自己的分布式存储、 <code>API Server</code> 和 <code>Controller Manager</code> 。用户可以通过 <code>Federation</code> 的 <code>API Server</code> 注册该 <code>Federation</code> 的成员 <code>K8s Cluster</code> 。当用户通过 <code>Federation</code> 的 <code>API Server</code> 创建、更改 <code>API</code> 对象时， <code>Federation API Server</code> 会在自己所有注册的子 <code>K8s Cluster</code> 都创建一份对应的 <code>API</code> 对象。在提供业务请求服务时， <code>K8s Federation</code> 会先在自己的各个 <code>子Cluster</code> 之间做负载均衡，而对于发送到某个具体 <code>K8s Cluster</code> 的业务请求，会依照这个 <code>K8s Cluster</code> 独立提供服务时一样的调度模式去做 <code>K8s Cluster</code> 内部的负载均衡。而 <code>Cluster</code> 之间的负载均衡是通过<strong>域名服务的负载均衡</strong>来实现的。</p><p>所有的设计都尽量不影响K8s Cluster现有的工作机制，这样对于每个子K8s集群来说，并不需要更外层的有一个K8s Federation，也就是意味着所有现有的K8s代码和机制不需要因为Federation功能有任何变化。</p><h2 id=存储卷-volume->存储卷（ <code>Volume</code> ）<a hidden class=anchor aria-hidden=true href=#存储卷-volume->#</a></h2><p><code>K8s</code> 集群中的存储卷跟 <code>Docker</code> 的存储卷有些类似，只不过 <code>Docker</code> 的存储卷作用范围为一个容器，而 <code>K8s</code> 的存储卷的生命周期和作用范围是一个 <code>Pod</code> 。</p><p>每个 <code>Pod</code> 中声明的存储卷由 <code>Pod</code> 中的所有容器共享。 <code>K8s</code> 支持非常多的存储卷类型，特别的，支持多种公有云平台的存储，包括AWS，Google和Azure云；支持多种分布式存储包括 <code>GlusterFS</code> 和 <code>Ceph</code> ；也支持较容易使用的主机本地目录 <code>hostPath</code> 和 <code>NFS</code> 。 <code>K8s</code> 还支持使用 <code>Persistent Volume Claim</code> 即 <code>PVC</code> 这种逻辑存储，使用这种存储，使得存储的使用者可以忽略后台的实际存储技术（例如AWS，Google或GlusterFS和Ceph），而将有关存储实际技术的配置交给存储管理员通过 <code>Persistent Volume</code> 来配置。</p><h2 id=持久存储卷-persistent-volumepv-和持久存储卷声明-persistent-volume-claimpvc->持久存储卷（ <code>Persistent Volume，PV</code> ）和持久存储卷声明（ <code>Persistent Volume Claim，PVC</code> ）<a hidden class=anchor aria-hidden=true href=#持久存储卷-persistent-volumepv-和持久存储卷声明-persistent-volume-claimpvc->#</a></h2><p><code>PV</code> 和 <code>PVC</code> 使得 <code>K8s</code> 集群具备了存储的逻辑抽象能力，使得在配置Pod的逻辑里可以忽略对实际后台存储技术的配置，而把这项配置的工作交给PV的配置者，即集群的管理者。</p><p>存储的 <code>PV</code> 和 <code>PVC</code> 的这种关系，跟计算的 <code>Node</code> 和 <code>Pod</code> 的关系是非常类似的：</p><ul><li><code>PV</code> 和 <code>Node</code> 是资源的提供者，根据集群的基础设施变化而变化，由 <code>K8s</code> 集群管理员配置；</li><li><code>PVC</code> 和 <code>Pod</code> 是资源的使用者，根据业务服务的需求变化而变化，由 <code>K8s</code> 集群的使用者即服务的管理员来配置。</li></ul><h2 id=节点-node->节点（ <code>Node</code> ）<a hidden class=anchor aria-hidden=true href=#节点-node->#</a></h2><p><code>K8s</code> 集群中的计算能力由 <code>Node</code> 提供，最初 <code>Node</code> 称为服务节点 <code>Minion</code> ，后来改名为 <code>Node</code> 。</p><p><code>K8s</code> 集群中的 <code>Node</code> 也就等同于 <code>Mesos</code> 集群中的 <code>Slave</code> 节点，是所有 <code>Pod</code> 运行所在的工作主机，可以是物理机也可以是虚拟机。</p><p>不论是物理机还是虚拟机，工作主机的统一特征是上面要运行 <code>kubelet</code> 管理节点上运行的容器。</p><h2 id=密钥对象-secret->密钥对象（ <code>Secret</code> ）<a hidden class=anchor aria-hidden=true href=#密钥对象-secret->#</a></h2><p><code>Secret</code> 是用来保存和传递密码、密钥、认证凭证这些敏感信息的对象。使用 <code>Secret</code> 的好处是可以避免把敏感信息明文写在配置文件里。在 <code>K8s</code> 集群中配置和使用服务不可避免的要用到各种敏感信息实现登录、认证等功能，例如访问AWS存储的用户名密码。</p><p>为了避免将类似的敏感信息明文写在所有需要使用的配置文件中，可以将这些信息存入一个 <code>Secret</code> 对象，而在配置文件中通过 <code>Secret</code> 对象引用这些敏感信息。这种方式的好处包括：意图明确，避免重复，减少暴漏机会。</p><h2 id=用户帐户-user-account-和服务帐户-service-account->用户帐户（ <code>User Account</code> ）和服务帐户（ <code>Service Account</code> ）<a hidden class=anchor aria-hidden=true href=#用户帐户-user-account-和服务帐户-service-account->#</a></h2><p>顾名思义， <strong>用户帐户为人提供账户标识</strong> ，而<strong>服务账户为计算机进程和 <code>K8s</code> 集群中运行的 <code>Pod</code> 提供账户标识</strong>。</p><p>用户帐户和服务帐户的一个区别是作用范围；用户帐户对应的是人的身份，人的身份与服务的<code>namespace</code> 无关，所以:</p><ul><li><strong>用户账户是跨namespace的</strong></li><li>服务帐户对应的是<strong>一个运行中程序的身份</strong>，与特定namespace是相关的。</li></ul><h2 id=名字空间namespace>名字空间（Namespace）<a hidden class=anchor aria-hidden=true href=#名字空间namespace>#</a></h2><p>名字空间为 <code>K8s</code> 集群提供虚拟的隔离作用， <code>K8s</code> 集群初始有两个名字空间，分别是 <strong>默认名字空间</strong> <code>default</code> 和 <strong>系统名字空间</strong> <code>kube-system</code> ，除此以外，<strong>管理员可以可以创建新的名字空间满足需要</strong>。</p><h2 id=访问授权role-based-access-controlrbac>访问授权（<code>Role-based Access Control，RBAC</code>）<a hidden class=anchor aria-hidden=true href=#访问授权role-based-access-controlrbac>#</a></h2><p>K8s在1.3版本中发布了alpha版的基于角色的访问控制（ <code>Role-based Access Control，RBAC</code> ）的授权模式。相对于基于属性的访问控制（ <code>Attribute-based Access Control，ABAC</code> ），RBAC主要是<strong>引入了角色（ <code>Role</code> ）和角色绑定（ <code>RoleBinding</code> ）的抽象概念</strong>。</p><p>在 <code>ABAC</code> 中， <code>K8s</code> 集群中的访问策略只能跟用户直接关联；</p><p>而在 <code>RBAC</code> 中，访问策略可以跟某个角色关联，具体的用户在跟一个或多个角色相关联。</p><p>显然， <code>RBAC</code> 像其他新功能一样，每次引入新功能，都会引入新的 <code>API</code> 对象，从而引入新的概念抽象，而这一新的概念抽象一定会使集群服务管理和使用更容易扩展和重用。</p><h2 id=参考文献>参考文献<a hidden class=anchor aria-hidden=true href=#参考文献>#</a></h2><ul><li><a href=https://kubernetes.io/zh/docs/>Kubernetes 文档/</a><a href=https://kubernetes.io/zh/docs/concepts/>概念/</a><a href=https://kubernetes.io/zh/docs/concepts/overview/>概述</a> By K8s</li><li><a href=https://www.cnblogs.com/flying1819/articles/9039529.html>k8s yaml格式的Pod配置文件</a></li></ul><div class=post-meta></hr>注：本作品采用<a rel=license target=view_window href=http://creativecommons.org/licenses/by-nc-sa/4.0/> 知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议 </a>进行许可。</div></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.frytea.com/tags/linux/>🏷 linux</a></li><li><a href=https://www.frytea.com/tags/docker/>🏷 docker</a></li><li><a href=https://www.frytea.com/tags/k8s/>🏷 k8s</a></li><li><a href=https://www.frytea.com/tags/kubernetes/>🏷 kubernetes</a></li><li><a href=https://www.frytea.com/tags/vps/>🏷 vps</a></li><li><a href=https://www.frytea.com/tags/%E4%BA%91%E5%8E%9F%E7%94%9F/>🏷 云原生</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share kubernetes 核心技术概念 on twitter" href="https://twitter.com/intent/tweet/?text=kubernetes%20%e6%a0%b8%e5%bf%83%e6%8a%80%e6%9c%af%e6%a6%82%e5%bf%b5&url=https%3a%2f%2fwww.frytea.com%2ftechnology%2fk8s%2fkubernetes-core-concept%2f&hashtags=linux%2cdocker%2ck8s%2ckubernetes%2cvps%2c%e4%ba%91%e5%8e%9f%e7%94%9f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share kubernetes 核心技术概念 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwww.frytea.com%2ftechnology%2fk8s%2fkubernetes-core-concept%2f&title=kubernetes%20%e6%a0%b8%e5%bf%83%e6%8a%80%e6%9c%af%e6%a6%82%e5%bf%b5&summary=kubernetes%20%e6%a0%b8%e5%bf%83%e6%8a%80%e6%9c%af%e6%a6%82%e5%bf%b5&source=https%3a%2f%2fwww.frytea.com%2ftechnology%2fk8s%2fkubernetes-core-concept%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share kubernetes 核心技术概念 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.frytea.com%2ftechnology%2fk8s%2fkubernetes-core-concept%2f&title=kubernetes%20%e6%a0%b8%e5%bf%83%e6%8a%80%e6%9c%af%e6%a6%82%e5%bf%b5"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share kubernetes 核心技术概念 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.frytea.com%2ftechnology%2fk8s%2fkubernetes-core-concept%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share kubernetes 核心技术概念 on whatsapp" href="https://api.whatsapp.com/send?text=kubernetes%20%e6%a0%b8%e5%bf%83%e6%8a%80%e6%9c%af%e6%a6%82%e5%bf%b5%20-%20https%3a%2f%2fwww.frytea.com%2ftechnology%2fk8s%2fkubernetes-core-concept%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share kubernetes 核心技术概念 on telegram" href="https://telegram.me/share/url?text=kubernetes%20%e6%a0%b8%e5%bf%83%e6%8a%80%e6%9c%af%e6%a6%82%e5%bf%b5&url=https%3a%2f%2fwww.frytea.com%2ftechnology%2fk8s%2fkubernetes-core-concept%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer><div id=vcomments style="background-color:var(--theme);margin-top:15px;padding:20px;border-radius:var(--radius);box-shadow:0 0 10px grey"></div><script src=//cdn1.lncld.net/static/js/3.0.4/av-min.js></script><script src=//unpkg.com/valine/dist/Valine.min.js></script><script type=text/javascript>new Valine({el:'#vcomments',appId:'mhm2sAPpC3cW2VJ15fpGGDPb-gzGzoHsz',appKey:'nx1gknfuCi4dsFHwG7cAbqUL',notify:'false',verify:'false',avatar:'Tianlun Song',placeholder:'说点什么吧...',visitor:'true'})</script></article></main><footer class=footer><span>Copyright &copy; 2022 • <a href=https://www.frytea.com/>Frytea</a></span>
<span>• <a href=http://beian.miit.gov.cn/ target=view_window>粤 ICP 备 19144283 号</a></span><div><span><a href=/about/>关于</a>
• <a href=/disclaimer/>免责声明</a>
• <a href=/sitemap.xml target=view_window>站点地图</a>
• <a href=https://www.foreverblog.cn/go.html target=view_window>虫洞</a>
• PV <span id=busuanzi_value_site_pv><i class="fa fa-spinner fa-spin"></i></span></span></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script><meta name=”apple-mobile-web-app-capable” content="”yes”"><script>'serviceWorker'in navigator&&window.addEventListener('load',()=>{navigator.serviceWorker.register('/service-worker.js')})</script></body></html>