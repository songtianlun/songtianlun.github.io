<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Linux ä¸‹ Sysstat ç³»ç»Ÿç›‘æ§ç¨‹åºè¯¦è§£ | Frytea</title><meta name=keywords content><meta name=description content="Sysstat åŒ…åŒ…å«è®¸å¤šå•†ä¸šå•ä½å…±æœ‰çš„å„ç§å®ç”¨ç¨‹åºï¼Œç”¨äºç›‘æ§ç³»ç»Ÿæ€§èƒ½å’Œä½¿ç”¨æ´»åŠ¨: iostat (1) æŠ¥å‘Šè®¾å¤‡ã€åˆ†åŒºå’Œç½‘ç»œæ–‡ä»¶ç³»ç»Ÿçš„CPUç»Ÿè®¡å’Œç¡¬ç›˜ååæ•ˆç‡çš„æ•°æ®ã€‚ # æ ¸å¿ƒ"><meta name=author content="Tianlun Song"><link rel=canonical href=https://www.frytea.com/technology/others/402/><meta name=yandex-verification content="73b1a797f62c0e98"><meta name=baidu-site-verification content="code-gnOrbP1RyC"><meta name=baidu_union_verify content="4c552c344295cb984c46ebe74962b067"><link crossorigin=anonymous href=/assets/css/stylesheet.min.9041f934b858852543829283d4d23654e5acebeca82afe810b803578807baa48.css integrity="sha256-kEH5NLhYhSVDgpKD1NI2VOWs6+yoKv6BC4A1eIB7qkg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><script src=//staticfile-cdn.frytea.com/valine@1.5.1/dist/Valine.min.js></script><script type=text/javascript src=//staticfile-cdn.frytea.com/artitalk@3.3.4/artitalk.js></script><link rel=icon href=https://www.frytea.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.frytea.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.frytea.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.frytea.com/apple-touch-icon.png><link rel=mask-icon href=https://www.frytea.com/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.85.0"><link rel=manifest href=/manifest.json><script src=https://staticfile-cdn.frytea.com/aplayer/1.10.1/APlayer.min.js></script><script src=https://staticfile-cdn.frytea.com/meting@2.0.1/dist/Meting.min.js></script><script type=text/javascript>function downloadJSAtOnload(){var a=document.createElement("script");a.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7296634171837358",document.body.appendChild(a)}window.addEventListener?window.addEventListener("load",downloadJSAtOnload,!1):window.attachEvent?window.attachEvent("onload",downloadJSAtOnload):window.onload=downloadJSAtOnload</script><script async defer data-website-id=3d947a98-2774-46b0-805f-fe2e4877a1d7 src=https://umami.frytea.com/umami.js></script><script async defer data-website-id=460b58e0-655d-42d7-926c-7a44aeb5730f src=https://frytea-umami.onrender.com/umami.js></script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><link rel=stylesheet href=//staticfile-cdn.frytea.com/font-awesome@4.3.0/css/font-awesome.min.css><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script>var _hmt=_hmt||[];(function(){var a=document.createElement("script"),b;a.src="https://hm.baidu.com/hm.js?c49e2f5be5e009382be07455c33b1394",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-136094326-1','auto'),ga('send','pageview'))</script><meta property="og:title" content="Linux ä¸‹ Sysstat ç³»ç»Ÿç›‘æ§ç¨‹åºè¯¦è§£"><meta property="og:description" content="Sysstat åŒ…åŒ…å«è®¸å¤šå•†ä¸šå•ä½å…±æœ‰çš„å„ç§å®ç”¨ç¨‹åºï¼Œç”¨äºç›‘æ§ç³»ç»Ÿæ€§èƒ½å’Œä½¿ç”¨æ´»åŠ¨: iostat (1) æŠ¥å‘Šè®¾å¤‡ã€åˆ†åŒºå’Œç½‘ç»œæ–‡ä»¶ç³»ç»Ÿçš„CPUç»Ÿè®¡å’Œç¡¬ç›˜ååæ•ˆç‡çš„æ•°æ®ã€‚ # æ ¸å¿ƒ"><meta property="og:type" content="article"><meta property="og:url" content="https://www.frytea.com/technology/others/402/"><meta property="og:image" content="https://www.frytea.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="technology"><meta property="article:published_time" content="2020-07-14T13:58:00+00:00"><meta property="article:modified_time" content="2020-07-14T13:58:00+00:00"><meta property="og:site_name" content="Frytea"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.frytea.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Linux ä¸‹ Sysstat ç³»ç»Ÿç›‘æ§ç¨‹åºè¯¦è§£"><meta name=twitter:description content="Sysstat åŒ…åŒ…å«è®¸å¤šå•†ä¸šå•ä½å…±æœ‰çš„å„ç§å®ç”¨ç¨‹åºï¼Œç”¨äºç›‘æ§ç³»ç»Ÿæ€§èƒ½å’Œä½¿ç”¨æ´»åŠ¨: iostat (1) æŠ¥å‘Šè®¾å¤‡ã€åˆ†åŒºå’Œç½‘ç»œæ–‡ä»¶ç³»ç»Ÿçš„CPUç»Ÿè®¡å’Œç¡¬ç›˜ååæ•ˆç‡çš„æ•°æ®ã€‚ # æ ¸å¿ƒ"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"æŠ€æœ¯æ–‡é›†","item":"https://www.frytea.com/technology/"},{"@type":"ListItem","position":2,"name":"Linux ä¸‹ Sysstat ç³»ç»Ÿç›‘æ§ç¨‹åºè¯¦è§£","item":"https://www.frytea.com/technology/others/402/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Linux ä¸‹ Sysstat ç³»ç»Ÿç›‘æ§ç¨‹åºè¯¦è§£","name":"Linux ä¸‹ Sysstat ç³»ç»Ÿç›‘æ§ç¨‹åºè¯¦è§£","description":"Sysstat åŒ…åŒ…å«è®¸å¤šå•†ä¸šå•ä½å…±æœ‰çš„å„ç§å®ç”¨ç¨‹åºï¼Œç”¨äºç›‘æ§ç³»ç»Ÿæ€§èƒ½å’Œä½¿ç”¨æ´»åŠ¨: iostat (1) æŠ¥å‘Šè®¾å¤‡ã€åˆ†åŒºå’Œç½‘ç»œæ–‡ä»¶ç³»ç»Ÿçš„CPUç»Ÿè®¡å’Œç¡¬ç›˜ååæ•ˆç‡çš„æ•°æ®ã€‚ # æ ¸å¿ƒ","keywords":[],"articleBody":"SysstatÂ åŒ…åŒ…å«è®¸å¤šå•†ä¸šå•ä½å…±æœ‰çš„å„ç§å®ç”¨ç¨‹åºï¼Œç”¨äºç›‘æ§ç³»ç»Ÿæ€§èƒ½å’Œä½¿ç”¨æ´»åŠ¨:\n iostatÂ (1) æŠ¥å‘Šè®¾å¤‡ã€åˆ†åŒºå’Œç½‘ç»œæ–‡ä»¶ç³»ç»Ÿçš„CPUç»Ÿè®¡å’Œç¡¬ç›˜ååæ•ˆç‡çš„æ•°æ®ã€‚ # æ ¸å¿ƒå·¥å…· mpstatÂ (1) æŠ¥å‘Šå•ä¸ªæˆ–ç»„åˆå¤„ç†å™¨ç›¸å…³çš„ç»Ÿè®¡æ•°æ®ã€‚ pidstatÂ (1) æŠ¥å‘ŠLinuxä»»åŠ¡ (è¿›ç¨‹) çš„ç»Ÿè®¡ä¿¡æ¯: I/Oã€CPUã€å†…å­˜ç­‰ã€‚ tapestatÂ (1) æŠ¥å‘Šè¿æ¥åˆ°ç³»ç»Ÿçš„ç£å¸¦é©±åŠ¨å™¨çš„ç»Ÿè®¡ä¿¡æ¯ã€‚ cifsiostatÂ (1) æŠ¥å‘ŠCIFSç»Ÿè®¡ã€‚ sysstatÂ (5) åªæ˜¯sysstaté…ç½®æ–‡ä»¶çš„æ‰‹åŠ¨é¡µé¢ï¼Œç»™å‡ºäº†sysstatå‘½ä»¤ä½¿ç”¨çš„ç¯å¢ƒå˜é‡çš„å«ä¹‰ã€‚  SysstatÂ è¿˜åŒ…å«æ‚¨å¯ä»¥é€šè¿‡ cronÂ æˆ– systemdÂ è®¡åˆ’æ”¶é›†å’Œè®°å½•æ€§èƒ½å’Œæ´»åŠ¨æ•°æ®çš„å·¥å…·:\n sarÂ (1) æ”¶é›†ã€æŠ¥å‘Šå’Œä¿å­˜ç³»ç»Ÿæ´»åŠ¨ä¿¡æ¯ (CPUã€å†…å­˜ã€ç£ç›˜ã€ä¸­æ–­ã€ç½‘ç»œæ¥å£ã€TTYã€å†…æ ¸è¡¨ç­‰)ã€‚ # æ•°æ®ç»Ÿè®¡æ ¸å¿ƒå·¥å…· sadcÂ (8) æ˜¯ç³»ç»Ÿæ´»åŠ¨æ•°æ®æ”¶é›†å™¨ï¼Œç”¨ä½œsarçš„åç«¯ã€‚ sa1Â (8) åœ¨ç³»ç»Ÿæ´»åŠ¨æ¯æ—¥æ•°æ®æ–‡ä»¶ä¸­æ”¶é›†å¹¶å­˜å‚¨äºŒè¿›åˆ¶æ•°æ®ã€‚å®ƒæ˜¯sadcçš„å‰ç«¯ï¼Œè®¾è®¡ä¸ºä»cronæˆ–systemdè¿è¡Œã€‚ sa2Â (8) æ’°å†™æ¯æ—¥æ´»åŠ¨æ€»ç»“æŠ¥å‘Šã€‚å®ƒæ˜¯ä»cronæˆ–systemdè¿è¡Œçš„sarçš„å‰ç«¯ã€‚ sadfÂ (1) ä»¥å¤šç§æ ¼å¼ (CSVã€XMLã€JSONç­‰) æ˜¾ç¤ºç”±saræ”¶é›†çš„æ•°æ®ï¼Œå¹¶å¯ç”¨äºä¸å…¶ä»–ç¨‹åºçš„æ•°æ®äº¤æ¢ã€‚è¯¥å‘½ä»¤è¿˜å¯ç”¨äºä¸ºsarä½¿ç”¨SVG (å¯ä¼¸ç¼©çŸ¢é‡å›¾å½¢) æ ¼å¼æ”¶é›†çš„å„ç§æ´»åŠ¨ç»˜åˆ¶å›¾å½¢ã€‚   1 æ€§èƒ½åŠè¿è¡ŒçŠ¶å†µç›‘æ§ \n1.1 isstat ä½¿ç”¨æ–¹æ³•ï¼š iostat [ options ] [  [  ] ]Â $ iostat --help Usage: iostat [ options ] [  [  ] ] Options are: [ -c ] [ -d ] [ -h ] [ -k | -m ] [ -N ] [ -s ] [ -t ] [ -V ] [ -x ] [ -y ] [ -z ] [ { -f | +f }  ] [ -j { ID | LABEL | PATH | UUID | ... } ] [ --dec={ 0 | 1 | 2 } ] [ --human ] [ -o JSON ] [ [ -H ] -g  ] [ -p [  [,...] | ALL ] ] [  [...] | ALL ] å‚æ•°é‡Šä¹‰ï¼š\n-cÂ : ä»…æ˜¾ç¤ºcpuçš„çŠ¶æ€\n-dÂ : ä»…æ˜¾ç¤ºå­˜å‚¨è®¾å¤‡çš„çŠ¶æ€ï¼Œä¸å¯ä»¥å’Œ-cä¸€èµ·ä½¿ç”¨\n-kÂ : é»˜è®¤æ˜¾ç¤ºçš„æ˜¯è¯»å…¥è¯»å‡ºçš„blockä¿¡æ¯ï¼Œç”¨-kå¯ä»¥æ”¹æˆKBå¤§å°æ¥æ˜¾ç¤º -m\n-tÂ : æ˜¾ç¤ºæ—¥æœŸ\n-p device | ALLÂ : deviceä¸ºæŸä¸ªè®¾å¤‡æˆ–è€…æŸä¸ªåˆ†åŒºï¼Œå¦‚æœä½¿ç”¨ALLï¼Œå°±è¡¨ç¤ºè¦æ˜¾ç¤ºæ‰€æœ‰åˆ†åŒºå’Œè®¾å¤‡çš„ä¿¡æ¯\n-xÂ : æ˜¾ç¤ºæ‰©å±•çŠ¶æ€ï¼Œæ˜¾ç¤ºæ›´å¤šå†…å®¹\nä¸¾ä¾‹ï¼šæ¯ä¸€ç§’é’Ÿæ‰“å°ä¸€æ¬¡CPUçŠ¶æ€ï¼Œæ‰“å°3æ¬¡\n$ iostat -c 1 3 Linux 3.10.0-957.21.3.el7.x86_64 (frytea-dev-test) 07/14/2020 _x86_64_ (2 CPU) avg-cpu: %user %nice %system %iowait %steal %idle 0.40 0.00 0.31 0.00 0.00 99.29 avg-cpu: %user %nice %system %iowait %steal %idle 0.00 0.00 0.50 0.00 0.00 99.50 avg-cpu: %user %nice %system %iowait %steal %idle 0.50 0.00 0.00 0.00 0.00 99.50 è·ç¦»ï¼šæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯\niostat -x Linux 3.10.0-957.21.3.el7.x86_64 (frytea-dev-test) 07/14/2020 _x86_64_ (2 CPU) avg-cpu: %user %nice %system %iowait %steal %idle 0.40 0.00 0.31 0.00 0.00 99.29 Device r/s rkB/s rrqm/s %rrqm r_await rareq-sz w/s wkB/s wrqm/s %wrqm w_await wareq-sz d/s dkB/s drqm/s %drqm d_await dareq-sz f/s f_await aqu-sz %util vda 0.01 0.14 0.00 0.06 1.19 16.99 0.65 5.88 0.21 24.79 7.65 9.02 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 è¯´æ˜ï¼š\nrrqm/sÂ : æ¯ç§’è¿›è¡Œ merge çš„è¯»æ“ä½œæ•°ç›®ã€‚å³ delta(rmerge)/s\nwrqm/sÂ : æ¯ç§’è¿›è¡Œ merge çš„å†™æ“ä½œæ•°ç›®ã€‚å³ delta(wmerge)/s\nr/sÂ : æ¯ç§’å®Œæˆçš„è¯» I/O è®¾å¤‡æ¬¡æ•°ã€‚å³ delta(rio)/s\nw/sÂ : æ¯ç§’å®Œæˆçš„å†™ I/O è®¾å¤‡æ¬¡æ•°ã€‚å³ delta(wio)/s\nrsec/sÂ : æ¯ç§’è¯»æ‰‡åŒºæ•°ã€‚å³ delta(rsect)/s\nwsec/sÂ : æ¯ç§’å†™æ‰‡åŒºæ•°ã€‚å³ delta(wsect)/s\nrkB/sÂ : æ¯ç§’è¯»Kå­—èŠ‚æ•°ã€‚æ˜¯ rsect/s çš„ä¸€åŠï¼Œå› ä¸ºæ¯æ‰‡åŒºå¤§å°ä¸º512å­—èŠ‚ã€‚(éœ€è¦è®¡ç®—)\nwkB/sÂ : æ¯ç§’å†™Kå­—èŠ‚æ•°ã€‚æ˜¯ wsect/s çš„ä¸€åŠã€‚(éœ€è¦è®¡ç®—)\navgrq-szÂ : å¹³å‡æ¯æ¬¡è®¾å¤‡I/Oæ“ä½œçš„æ•°æ®å¤§å° (æ‰‡åŒº)ã€‚delta(rsect+wsect)/delta(rio+wio)\navgqu-szÂ : å¹³å‡I/Oé˜Ÿåˆ—é•¿åº¦ã€‚å³ delta(aveq)/s/1000 (å› ä¸ºaveqçš„å•ä½ä¸ºæ¯«ç§’)ã€‚\nawaitÂ : å¹³å‡æ¯æ¬¡è®¾å¤‡I/Oæ“ä½œçš„ç­‰å¾…æ—¶é—´ (æ¯«ç§’)ã€‚å³ delta(ruse+wuse)/delta(rio+wio)\nsvctmÂ : å¹³å‡æ¯æ¬¡è®¾å¤‡I/Oæ“ä½œçš„æœåŠ¡æ—¶é—´ (æ¯«ç§’)ã€‚å³ delta(use)/delta(rio+wio)\n%utilÂ : ä¸€ç§’ä¸­æœ‰ç™¾åˆ†ä¹‹å¤šå°‘çš„æ—¶é—´ç”¨äº I/O æ“ä½œï¼Œæˆ–è€…è¯´ä¸€ç§’ä¸­æœ‰å¤šå°‘æ—¶é—´ I/O é˜Ÿåˆ—æ˜¯éç©ºçš„ã€‚\ndelta(use)/s/1000Â (å› ä¸ºuseçš„å•ä½ä¸ºæ¯«ç§’)å¦‚æœ %util æ¥è¿‘ 100%ï¼Œè¯´æ˜äº§ç”Ÿçš„I/Oè¯·æ±‚å¤ªå¤šï¼ŒI/Oç³»ç»Ÿå·²ç»æ»¡è´Ÿè·ï¼Œè¯¥ç£ç›˜å¯èƒ½å­˜åœ¨ç“¶é¢ˆã€‚\nidleÂ å°äº70% IOå‹åŠ›å°±è¾ƒå¤§äº†,ä¸€èˆ¬è¯»å–é€Ÿåº¦æœ‰è¾ƒå¤šçš„wait. #CPUç©ºé—²ç­‰å¾…æ—¶é—´ \n1.2 mpstat ä½¿ç”¨æ–¹æ³•ï¼šmpstat [ options ] [  [  ] ]\n$ mpstat --help Usage: mpstat [ options ] [  [  ] ] Options are: [ -A ] [ -n ] [ -u ] [ -V ] [ -I { SUM | CPU | SCPU | ALL } ] [ -N {  | ALL } ] [ --dec={ 0 | 1 | 2 } ] [ -o JSON ] [ -P {  | ALL } ] ä¸¾ä¾‹ï¼šæŸ¥çœ‹æ‰€æœ‰å¤„ç†å™¨ç»Ÿè®¡æ•°æ®\n$ mpstat -P ALL 1 3 Linux 3.10.0-957.21.3.el7.x86_64 (frytea-dev-test) 07/14/2020 _x86_64_ (2 CPU) 11:35:24 AM CPU %usr %nice %sys %iowait %irq %soft %steal %guest %gnice %idle 11:35:25 AM all 0.50 0.00 0.50 0.00 0.00 0.00 0.00 0.00 0.00 99.00 11:35:25 AM 0 1.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 99.00 11:35:25 AM 1 0.00 0.00 1.00 0.00 0.00 0.00 0.00 0.00 0.00 99.00 11:35:25 AM CPU %usr %nice %sys %iowait %irq %soft %steal %guest %gnice %idle 11:35:26 AM all 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 100.00 11:35:26 AM 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 100.00 11:35:26 AM 1 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 100.00 11:35:26 AM CPU %usr %nice %sys %iowait %irq %soft %steal %guest %gnice %idle 11:35:27 AM all 0.00 0.00 0.99 0.00 0.00 0.00 0.00 0.00 0.00 99.01 11:35:27 AM 0 0.00 0.00 0.99 0.00 0.00 0.00 0.00 0.00 0.00 99.01 11:35:27 AM 1 0.00 0.00 0.99 0.00 0.00 0.00 0.00 0.00 0.00 99.01 Average: CPU %usr %nice %sys %iowait %irq %soft %steal %guest %gnice %idle Average: all 0.17 0.00 0.50 0.00 0.00 0.00 0.00 0.00 0.00 99.33 Average: 0 0.33 0.00 0.33 0.00 0.00 0.00 0.00 0.00 0.00 99.33 Average: 1 0.00 0.00 0.67 0.00 0.00 0.00 0.00 0.00 0.00 99.33 è¯´æ˜ï¼š\n %userÂ æ˜¾ç¤ºåœ¨ç”¨æˆ·çº§åˆ«(application)è¿è¡Œä½¿ç”¨ CPU æ€»æ—¶é—´çš„ç™¾åˆ†æ¯”ã€‚ %niceÂ æ˜¾ç¤ºåœ¨ç”¨æˆ·çº§åˆ«ï¼Œç”¨äºniceæ“ä½œï¼Œæ‰€å ç”¨ CPU æ€»æ—¶é—´çš„ç™¾åˆ†æ¯”ã€‚ %systemÂ åœ¨æ ¸å¿ƒçº§åˆ«(kernel)è¿è¡Œæ‰€ä½¿ç”¨ CPU æ€»æ—¶é—´çš„ç™¾åˆ†æ¯”ã€‚ %iowaitÂ æ˜¾ç¤ºç”¨äºç­‰å¾…I/Oæ“ä½œå ç”¨ CPU æ€»æ—¶é—´çš„ç™¾åˆ†æ¯”ã€‚ %irqÂ æ˜¾ç¤ºåœ¨intervalæ—¶é—´æ®µå†…ï¼Œç¡¬ä¸­æ–­å ç”¨çš„CPUæ€»æ—¶é—´ã€‚ %softÂ æ˜¾ç¤ºåœ¨intervalæ—¶é—´æ®µå†…ï¼Œè½¯ä¸­æ–­å ç”¨çš„CPUæ€»æ—¶é—´ã€‚ %stealÂ ç®¡ç†ç¨‹åº(hypervisor)ä¸ºå¦ä¸€ä¸ªè™šæ‹Ÿè¿›ç¨‹æä¾›æœåŠ¡è€Œç­‰å¾…è™šæ‹ŸCPUçš„ç™¾åˆ†æ¯”ã€‚ %idleÂ æ˜¾ç¤º CPU ç©ºé—²æ—¶é—´å ç”¨CPUæ€»æ—¶é—´çš„ç™¾åˆ†æ¯”ã€‚ intr/sÂ åœ¨internalæ—¶é—´æ®µé‡Œï¼Œæ¯ç§’CPUæ¥æ”¶çš„ä¸­æ–­çš„æ¬¡æ•°ã€‚   1.3 pidstat pidstat -dl Linux 3.10.0-957.21.3.el7.x86_64 (frytea-dev-test) 07/14/2020 _x86_64_ (2 CPU) 12:01:54 PM UID PID kB_rd/s kB_wr/s kB_ccwr/s Command 12:01:54 PM 0 1 0.11 0.58 0.05 /usr/lib/systemd/systemd --switched-root --system --deserialize 22 12:01:54 PM 0 48 0.00 0.00 0.00 kworker/u4:1 12:01:54 PM 0 226 0.00 0.00 0.00 kworker/u4:2 12:01:54 PM 0 328 0.00 0.85 0.00 jbd2/vda1-8 12:01:54 PM 0 397 0.00 1.95 0.00 /usr/lib/systemd/systemd-journald 12:01:54 PM 0 416 0.01 0.00 0.00 /usr/lib/systemd/systemd-udevd 12:01:54 PM 0 496 0.00 0.01 0.00 /sbin/auditd 12:01:54 PM 0 594 0.00 0.00 0.00 /usr/lib/systemd/systemd-logind 12:01:54 PM 999 598 0.00 0.00 0.00 /usr/lib/polkit-1/polkitd --no-debug 12:01:54 PM 81 599 0.00 0.00 0.00 /usr/bin/dbus-daemon --system --address=systemd: --nofork --nopidfile --systemd-activation 12:01:54 PM 998 616 0.00 0.00 0.00 /usr/sbin/chronyd 12:01:54 PM 0 659 0.00 0.00 0.00 /usr/sbin/atd -f 12:01:54 PM 0 673 0.00 0.00 0.00 /sbin/agetty --keep-baud 115200,38400,9600 ttyS0 vt220 12:01:54 PM 0 895 0.00 0.00 0.00 /usr/bin/python2 -Es /usr/sbin/tuned -l -P 12:01:54 PM 0 898 0.00 0.04 0.00 /usr/sbin/rsyslogd -n 12:01:54 PM 0 1110 0.01 1.80 0.02 /usr/sbin/sshd -D 12:01:54 PM 0 13001 0.00 0.00 0.00 /usr/local/aegis/AliSecGuard/AliSecGuard 12:01:54 PM 0 13646 0.00 0.01 0.00 /usr/sbin/crond -n 12:01:54 PM 0 17624 0.00 0.02 0.00 /usr/local/aegis/aegis_update/AliYunDunUpdate 12:01:54 PM 0 17651 0.00 0.00 0.00 /usr/local/aegis/aegis_client/aegis_10_83/AliYunDun 12:01:54 PM 0 23766 0.00 0.00 0.00 /usr/sbin/aliyun-service 12:01:54 PM 0 23924 0.00 0.02 0.00 -bash \n1.4 tapestat TapestatæŠ¥å‘Šæä¾›è¿æ¥åˆ°ç³»ç»Ÿçš„æ¯ä¸ªç£å¸¦é©±åŠ¨å™¨çš„ç»Ÿè®¡ä¿¡æ¯ã€‚\nä½¿ç”¨æ–¹æ³•ï¼š tapestat [ options ] [  [  ] ]Â $ tapestat --help Usage: tapestat [ options ] [  [  ] ] Options are: [ --human ] [ -k | -m ] [ -t ] [ -V ] [ -y ] [ -z ] [root@frytea-dev-test ~]# tapestat -k \n1.5 cifsiostat CIFSæŠ¥å‘Šæä¾›æ¯ä¸ªè£…è½½çš„CIFSæ–‡ä»¶ç³»ç»Ÿçš„ç»Ÿè®¡ä¿¡æ¯ã€‚\nä½¿ç”¨æ–¹æ³•ï¼š cifsiostat [ options ] [  [  ] ]Â $ cifsiostat --HELO Usage: cifsiostat [ options ] [  [  ] ] Options are: [ --dec={ 0 | 1 | 2 } ] [ --human ] [ -h ] [ -k | -m ] [ -t ] [ -V ] \n2 æ•°æ®æ”¶é›†åŠç»Ÿè®¡ \n2.1 sar sar å·¥å…·æ¯”è¾ƒå¼ºå¤§ï¼Œæ—¢èƒ½æ”¶é›†ç³»ç»ŸCPUã€ç¡¬ç›˜ã€åŠ¨æ€æ•°æ®ï¼Œä¹Ÿèƒ½æ˜¾ç¤ºåŠ¨æ€æ˜¾ç¤ºï¼Œæ›´èƒ½æŸ¥çœ‹äºŒè¿›åˆ¶æ•°æ®æ–‡ä»¶ï¼›sar çš„åº”ç”¨æ¯”è¾ƒå¤šï¼Œè€Œä¸”ä¹Ÿæ¯”è¾ƒå¤æ‚ï¼Œæ•°æ®æ›´ä¸ºç²¾ç¡®ã€‚æˆ‘ä»¬åªäº†è§£ä¸€ä¸‹å¸¸ç”¨çš„å†…å®¹å°±è¡Œï¼Œå¤§å¤šæ•°å†…å®¹æˆ‘ä»¬äº†è§£å°±è¡Œã€‚\nsar --help Usage: sar [ options ] [  [  ] ] Main options and reports (report name between square brackets): -B Paging statistics [A_PAGE] -b I/O and transfer rate statistics [A_IO] -d Block devices statistics [A_DISK] -F [ MOUNT ] Filesystems statistics [A_FS] -H Hugepages utilization statistics [A_HUGE] -I {  | SUM | ALL } Interrupts statistics [A_IRQ] -m {  [,...] | ALL } Power management statistics [A_PWR_...] Keywords are: CPU CPU instantaneous clock frequency FAN Fans speed FREQ CPU average clock frequency IN Voltage inputs TEMP Devices temperature USB USB devices plugged into the system -n {  [,...] | ALL } Network statistics [A_NET_...] Keywords are: DEV Network interfaces EDEV Network interfaces (errors) NFS NFS client NFSD NFS server SOCK Sockets (v4) IP IP traffic (v4) EIP IP traffic (v4) (errors) ICMP ICMP traffic (v4) EICMP ICMP traffic (v4) (errors) TCP TCP traffic (v4) ETCP TCP traffic (v4) (errors) UDP UDP traffic (v4) SOCK6 Sockets (v6) IP6 IP traffic (v6) EIP6 IP traffic (v6) (errors) ICMP6 ICMP traffic (v6) EICMP6 ICMP traffic (v6) (errors) UDP6 UDP traffic (v6) FC Fibre channel HBAs SOFT Software-based network processing -q [  [,...] | PSI | ALL ] System load and pressure-stall statistics Keywords are: LOAD Queue length and load average statistics [A_QUEUE] CPU Pressure-stall CPU statistics [A_PSI_CPU] IO Pressure-stall I/O statistics [A_PSI_IO] MEM Pressure-stall memory statistics [A_PSI_MEM] -r [ ALL ] Memory utilization statistics [A_MEMORY] -S Swap space utilization statistics [A_MEMORY] -u [ ALL ] CPU utilization statistics [A_CPU] -v Kernel tables statistics [A_KTABLES] -W Swapping statistics [A_SWAP] -w Task creation and system switching statistics [A_PCSW] -y TTY devices statistics [A_SERIAL] å‚æ•°è¯´æ˜ï¼š\n-AÂ æ˜¾ç¤ºæ‰€æœ‰å†å²æ•°æ®ï¼Œé€šè¿‡è¯»å–/var/log/sarç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¹¶æŠŠå®ƒä»¬åˆ†é—¨åˆ«ç±»çš„æ˜¾ç¤ºå‡ºæ¥ï¼›\n-bÂ é€šè¿‡è®¾å¤‡çš„I/Oä¸­æ–­è¯»å–è®¾ç½®çš„ååç‡ï¼›\n-BÂ æŠ¥å‘Šå†…å­˜æˆ–è™šæ‹Ÿå†…å­˜äº¤æ¢ç»Ÿè®¡ï¼›\n-cÂ æŠ¥å‘Šæ¯ç§’åˆ›å»ºçš„è¿›ç¨‹æ•°ï¼›\n-dÂ æŠ¥å‘Šç‰©ç†å—è®¾å¤‡ï¼ˆå­˜å‚¨è®¾å¤‡ï¼‰çš„å†™å…¥ã€è¯»å–ä¹‹ç±»çš„ä¿¡æ¯ï¼Œå¦‚æœç›´è§‚ä¸€ç‚¹ï¼Œå¯ä»¥å’Œpå‚æ•°å…±åŒä½¿ç”¨ï¼Œ-dp\n-fÂ ä»ä¸€ä¸ªäºŒè¿›åˆ¶çš„æ•°æ®æ–‡ä»¶ä¸­è¯»å–å†…å®¹ï¼Œæ¯”å¦‚ sar -f filename\n-iÂ interval æŒ‡å®šæ•°æ®æ”¶é›†çš„æ—¶é—´ï¼Œæ—¶é—´å•ä½æ˜¯ç§’ï¼›\n-nÂ åˆ†æç½‘ç»œè®¾å¤‡çŠ¶æ€çš„ç»Ÿè®¡ï¼Œåé¢å¯ä»¥æ¥çš„å‚æ•°æœ‰ DEVã€EDEVã€NFSã€NFSDã€SOCKç­‰ã€‚æ¯”å¦‚-n DEV\n-oÂ æŠŠç»Ÿè®¡ä¿¡æ¯å†™å…¥ä¸€ä¸ªæ–‡ä»¶ï¼Œæ¯”å¦‚ -o filename ï¼›\n-PÂ æŠ¥å‘Šæ¯ä¸ªå¤„ç†å™¨åº”ç”¨ç»Ÿè®¡ï¼Œç”¨äºå¤šå¤„ç†å™¨æœºå™¨ï¼Œå¹¶ä¸”å¯ç”¨SMPå†…æ ¸æ‰æœ‰æ•ˆï¼›\n-pÂ æ˜¾ç¤ºå‹å¥½è®¾å¤‡åå­—ï¼Œä»¥æ–¹ä¾¿æŸ¥çœ‹ï¼Œä¹Ÿå¯ä»¥å’Œ-då’Œ-n å‚æ•°ç»“åˆä½¿ç”¨ï¼Œæ¯”å¦‚ -dp æˆ–-np\n-rÂ å†…å­˜å’Œäº¤æ¢åŒºå ç”¨ç»Ÿè®¡ï¼›\n-RÂ -tÂ è¿™ä¸ªé€‰é¡¹å¯¹ä»æ–‡ä»¶è¯»å–æ•°æ®æœ‰ç”¨ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªå‚æ•°ï¼Œä¼šä»¥æœ¬åœ°æ—¶é—´ä¸ºæ ‡å‡† è¯»å‡ºï¼›\n-uÂ æŠ¥å‘ŠCPUåˆ©ç”¨ç‡çš„å‚æ•°ï¼›\n-vÂ æŠ¥å‘Šinode,æ–‡ä»¶æˆ–å…¶å®ƒå†…æ ¸è¡¨çš„èµ„æºå ç”¨ä¿¡æ¯ï¼›\n-wÂ æŠ¥å‘Šç³»ç»Ÿäº¤æ¢æ´»åŠ¨çš„ä¿¡æ¯ï¼› æ¯å°‘äº¤æ¢æ•°æ®çš„ä¸ªæ•°ï¼›\n-WÂ æŠ¥å‘Šç³»ç»Ÿäº¤æ¢æ´»åŠ¨ååä¿¡æ¯ï¼›\n-xÂ ç”¨äºç›‘è§†è¿›ç¨‹çš„ï¼Œåœ¨å…¶åè¦æŒ‡å®šè¿›ç¨‹çš„PIDå€¼ï¼›\n-XÂ ç”¨äºç›‘è§†è¿›ç¨‹çš„ï¼Œä½†æŒ‡å®šçš„åº”è¯¥æ˜¯ä¸€ä¸ªå­è¿›ç¨‹ID\nä¸¾ä¾‹ï¼šæŸ¥çœ‹ç½‘ç»œè®¾å¤‡çš„ç½‘ç»œååé‡\n# sar -n DEV 2 4  Linux 3.10.0-957.21.3.el7.x86_64 (frytea-dev-test) 07/14/2020 _x86_64_ (2 CPU) 12:00:50 PM IFACE rxpck/s txpck/s rxkB/s txkB/s rxcmp/s txcmp/s rxmcst/s %ifutil 12:00:52 PM eth0 2.50 2.50 0.14 1.28 0.00 0.00 0.00 0.00 12:00:52 PM lo 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 12:00:52 PM IFACE rxpck/s txpck/s rxkB/s txkB/s rxcmp/s txcmp/s rxmcst/s %ifutil 12:00:54 PM eth0 1.50 1.00 0.09 0.33 0.00 0.00 0.00 0.00 12:00:54 PM lo 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 12:00:54 PM IFACE rxpck/s txpck/s rxkB/s txkB/s rxcmp/s txcmp/s rxmcst/s %ifutil 12:00:56 PM eth0 2.00 1.50 0.12 0.36 0.00 0.00 0.00 0.00 12:00:56 PM lo 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 12:00:56 PM IFACE rxpck/s txpck/s rxkB/s txkB/s rxcmp/s txcmp/s rxmcst/s %ifutil 12:00:58 PM eth0 1.00 1.00 0.07 0.33 0.00 0.00 0.00 0.00 12:00:58 PM lo 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 Average: IFACE rxpck/s txpck/s rxkB/s txkB/s rxcmp/s txcmp/s rxmcst/s %ifutil Average: eth0 1.75 1.50 0.11 0.58 0.00 0.00 0.00 0.00 Average: lo 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 å‚æ•°é‡Šä¹‰ï¼š\nIFACEï¼šè®¾å¤‡åï¼›\nrxpck/s:æ¯ç§’æ”¶åˆ°çš„åŒ…ï¼›\nrxbyt/sï¼šæ¯ç§’æ”¶åˆ°çš„æ‰€æœ‰åŒ…çš„æ•°é‡ ï¼›\ntxbyt/sï¼šæ¯ç§’å‘é€çš„æ‰€æœ‰åŒ…çš„æ•°é‡ ï¼›\ntxbyt/sï¼šæ¯ç§’å‘é€çš„æ‰€æœ‰åŒ…çš„å¤§å°ï¼›\nrxcmp/sï¼šæ¯ç§’æ”¶åˆ°æ•°çš„æ®å‹ç¼©åŒ…çš„æ•°é‡ï¼›\ntxcmp/s :æ¯ç§’ä¼ è¾“çš„æ•°æ®å‹ç¼©åŒ…çš„æ•°æ®ï¼›\nrxmcst/s: æ¯ç§’æ”¶åˆ°çš„å¤šæ’­çš„åŒ…æ•°é‡ï¼› \n2.2 sadc sadcÂ ä½äº /usr/local/lib64/sa/Â ç›®å½•ä¸­ï¼ˆCentos 7.6ï¼‰ï¼Œå¦‚æœä½ æ²¡æœ‰è®¾ç½®å¯æ‰§è¡Œè·¯å¾„ï¼Œè¦ç”¨ç»å¯¹è·¯å¾„æ¥è¿è¡Œã€‚\nsdacåªæ˜¯ä¸€ä¸ªæœé›†å†™å…¥å·¥å…·ï¼Œå¹¶ä¸ç›´æ¥å›æ˜¾äºå±å¹•ä¸Šã€‚sadc æ˜¯æŠŠæ•°æ®å†™åœ¨ä¸€ä¸ªäºŒè¿›åˆ¶çš„æ–‡ä»¶ä¸­ï¼Œå¦‚æœæƒ³æŸ¥çœ‹æ•°æ®å†…å®¹ï¼Œéœ€è¦ç”¨sadfå·¥å…·æ¥æ˜¾ç¤ºã€‚\nä½¿ç”¨æ–¹æ³•ï¼š /usr/local/lib64/sa/sadc [ options ] [  [  ] ] [  ]Â $ /usr/local/lib64/sa/sadc --help Usage: /usr/local/lib64/sa/sadc [ options ] [  [  ] ] [  ] Options are: [ -C  ] [ -D ] [ -F ] [ -f ] [ -L ] [ -V ] [ -S { INT | DISK | IPV6 | POWER | SNMP | XDISK | ALL | XALL } ] ä¸¾ä¾‹ï¼š /usr/local/lib/sa/sadc -Â ï¼ˆåé¢çš„â€œï¼â€æ˜¯å¿…é¡»çš„ï¼Œå°‘äº†ä¼šå‡ºä¹±ç å’ŒæŠ¥é”™ï¼‰ï¼Œåˆ™ä¼šè¾“å‡ºæ•°æ®åˆ° /var/log/sa/Â ç›®å½•ä¸‹çš„ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚ \n2.3 sa1 Sa1 å‘½ä»¤è¢«è®¾è®¡ä¸ºç”±cronå‘½ä»¤è‡ªåŠ¨å¯åŠ¨ã€‚ \n2.4 sa2 Sa2 å‘½ä»¤æ¥å—sarå‘½ä»¤çš„å¤§å¤šæ•°æ ‡å¿—å’Œå‚æ•°ã€‚\nSa2 å‘½ä»¤è¢«è®¾è®¡ä¸ºç”±cronå‘½ä»¤è‡ªåŠ¨å¯åŠ¨ã€‚ \n2.5 sadf sadf èƒ½ä»äºŒè¿›åˆ¶æ–‡ä»¶ä¸­æå–saræ‰€æ”¶é›†çš„æ•°æ®ï¼›æ˜¾ç¤ºçš„æ ¼å¼ä¸å¦‚sarç›´è§‚ï¼Œå…¶ä¸»è¦ç”¨äºå¯¼å‡ºä¸ºcsvã€xmlç­‰æ ¼å¼çš„æ–‡ä»¶ï¼Œæ–¹ä¾¿å¯¼å…¥æ•°æ®åº“æˆ–excelç­‰ç¨‹åº. \nå‚è€ƒæ–‡çŒ®  Systat Document Linuxä¸‹sysstatå®‰è£…ä½¿ç”¨å›¾æ–‡è¯¦è§£  ","wordCount":"3935","inLanguage":"zh","datePublished":"2020-07-14T13:58:00Z","dateModified":"2020-07-14T13:58:00Z","author":{"@type":"Person","name":"Tianlun Song"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.frytea.com/technology/others/402/"},"publisher":{"@type":"Organization","name":"Frytea","logo":{"@type":"ImageObject","url":"https://www.frytea.com/favicon.ico"}}}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=https://www.frytea.com/ accesskey=h title="ğŸ¡ Frytea (Alt + H)">ğŸ¡ Frytea</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://www.frytea.com/categories/ title=ğŸ—‚><span>ğŸ—‚</span></a></li><li><a href=https://www.frytea.com/tags/ title=ğŸ·ï¸><span>ğŸ·ï¸</span></a></li><li><a href=https://www.frytea.com/search/ title="ğŸ” (Alt + /)" accesskey=/><span>ğŸ”</span></a></li><li><a href=https://www.frytea.com/posts/ title=ğŸ–‹><span>ğŸ–‹</span></a></li><li><a href=https://www.frytea.com/technology/ title=ğŸ› ><span>ğŸ› </span></a></li><li><a href=https://www.frytea.com/shuoshuo/ title=ğŸ“‹><span>ğŸ“‹</span></a></li><li><a href=https://www.frytea.com/technology/projects/ title=ğŸ“><span>ğŸ“</span></a></li><li><a href=https://travellings.link title=ğŸš‡><span>ğŸš‡</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.frytea.com/>ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href=https://www.frytea.com/technology/>æŠ€æœ¯æ–‡é›†</a></div><h1 class=post-title><a href=https://www.frytea.com/technology/others/402/>Linux ä¸‹ Sysstat ç³»ç»Ÿç›‘æ§ç¨‹åºè¯¦è§£</a></h1><div class=post-meta>July 14, 2020&nbsp;Â·&nbsp;8 åˆ†é’Ÿ&nbsp;Â·&nbsp;3935 å­—&nbsp;Â·&nbsp;Tianlun Song&nbsp;|&nbsp;<a href=https://github.com/songtianlun/songtianlun.github.io/edit/main/content/technology/others/Linux-%e4%b8%8b-Sysstat-%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7%e7%a8%8b%e5%ba%8f%e8%af%a6%e8%a7%a3.md rel="noopener noreferrer" target=_blank>PR</a>
<span id=/technology/others/402/ class=leancloud_visitors data-flag-title="Linux ä¸‹ Sysstat ç³»ç»Ÿç›‘æ§ç¨‹åºè¯¦è§£">&nbsp;| &nbsp;<span class=leancloud-visitors-count><i class="fa fa-spinner fa-spin"></i></span>&nbsp;Hits</span></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>ç›®å½•</span></summary><div class=inner><ul><li><a href=#1-%e6%80%a7%e8%83%bd%e5%8f%8a%e8%bf%90%e8%a1%8c%e7%8a%b6%e5%86%b5%e7%9b%91%e6%8e%a7 aria-label="1 æ€§èƒ½åŠè¿è¡ŒçŠ¶å†µç›‘æ§">1 æ€§èƒ½åŠè¿è¡ŒçŠ¶å†µç›‘æ§</a><ul><li><a href=#11-isstat aria-label="1.1 isstat">1.1 isstat</a></li><li><a href=#12-mpstat aria-label="1.2 mpstat">1.2 mpstat</a></li><li><a href=#13-pidstat aria-label="1.3 pidstat">1.3 pidstat</a></li><li><a href=#14-tapestat aria-label="1.4 tapestat">1.4 tapestat</a></li><li><a href=#15-cifsiostat aria-label="1.5 cifsiostat">1.5 cifsiostat</a></li></ul></li><li><a href=#2-%e6%95%b0%e6%8d%ae%e6%94%b6%e9%9b%86%e5%8f%8a%e7%bb%9f%e8%ae%a1 aria-label="2 æ•°æ®æ”¶é›†åŠç»Ÿè®¡">2 æ•°æ®æ”¶é›†åŠç»Ÿè®¡</a><ul><li><a href=#21-sar aria-label="2.1 sar">2.1 sar</a></li><li><a href=#22-sadc aria-label="2.2 sadc">2.2 sadc</a></li><li><a href=#23-sa1 aria-label="2.3 sa1">2.3 sa1</a></li><li><a href=#24-sa2 aria-label="2.4 sa2">2.4 sa2</a></li><li><a href=#25-sadf aria-label="2.5 sadf">2.5 sadf</a></li></ul></li><li><a href=#%e5%8f%82%e8%80%83%e6%96%87%e7%8c%ae aria-label=å‚è€ƒæ–‡çŒ®>å‚è€ƒæ–‡çŒ®</a></li></ul></div><div><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-7296634171837358 data-ad-slot=9161921641 data-ad-format=auto data-full-width-responsive=true></ins></div><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></details></div><div class=post-content><blockquote style=margin-top:8px><p style=text-align:center;text-indent:0><a href=https://www.frytea.com/technology/others/402/>æœ¬æ–‡</a>
é¦–å‘äº
<a href=https://www.frytea.com/>ğŸŒ± ç…èŒ¶</a>ï¼Œ
<a href=/disclaimer/>è½¬è½½</a> è¯·æ³¨æ˜
<a href=https://www.frytea.com/technology/others/402/>æ¥æº</a>ã€‚</p></blockquote><p><code>Sysstat</code>Â åŒ…åŒ…å«è®¸å¤šå•†ä¸šå•ä½å…±æœ‰çš„å„ç§å®ç”¨ç¨‹åºï¼Œç”¨äºç›‘æ§ç³»ç»Ÿæ€§èƒ½å’Œä½¿ç”¨æ´»åŠ¨:</p><ul><li><code>iostat</code>Â  (1) æŠ¥å‘Šè®¾å¤‡ã€åˆ†åŒºå’Œç½‘ç»œæ–‡ä»¶ç³»ç»Ÿçš„CPUç»Ÿè®¡å’Œç¡¬ç›˜ååæ•ˆç‡çš„æ•°æ®ã€‚ # æ ¸å¿ƒå·¥å…·</li><li><code>mpstat</code>Â  (1) æŠ¥å‘Šå•ä¸ªæˆ–ç»„åˆå¤„ç†å™¨ç›¸å…³çš„ç»Ÿè®¡æ•°æ®ã€‚</li><li><code>pidstat</code>Â  (1) æŠ¥å‘ŠLinuxä»»åŠ¡ (è¿›ç¨‹) çš„ç»Ÿè®¡ä¿¡æ¯: I/Oã€CPUã€å†…å­˜ç­‰ã€‚</li><li><code>tapestat</code>Â  (1) æŠ¥å‘Šè¿æ¥åˆ°ç³»ç»Ÿçš„ç£å¸¦é©±åŠ¨å™¨çš„ç»Ÿè®¡ä¿¡æ¯ã€‚</li><li><code>cifsiostat</code>Â  (1) æŠ¥å‘ŠCIFSç»Ÿè®¡ã€‚</li><li><code>sysstat</code>Â  (5) åªæ˜¯sysstaté…ç½®æ–‡ä»¶çš„æ‰‹åŠ¨é¡µé¢ï¼Œç»™å‡ºäº†sysstatå‘½ä»¤ä½¿ç”¨çš„ç¯å¢ƒå˜é‡çš„å«ä¹‰ã€‚</li></ul><p><code>Sysstat</code>Â è¿˜åŒ…å«æ‚¨å¯ä»¥é€šè¿‡ <code>cron</code>Â æˆ– <code>systemd</code>Â è®¡åˆ’æ”¶é›†å’Œè®°å½•æ€§èƒ½å’Œæ´»åŠ¨æ•°æ®çš„å·¥å…·:</p><ul><li><code>sar</code>Â  (1) æ”¶é›†ã€æŠ¥å‘Šå’Œä¿å­˜ç³»ç»Ÿæ´»åŠ¨ä¿¡æ¯ (CPUã€å†…å­˜ã€ç£ç›˜ã€ä¸­æ–­ã€ç½‘ç»œæ¥å£ã€TTYã€å†…æ ¸è¡¨ç­‰)ã€‚ # æ•°æ®ç»Ÿè®¡æ ¸å¿ƒå·¥å…·</li><li><code>sadc</code>Â  (8) æ˜¯ç³»ç»Ÿæ´»åŠ¨æ•°æ®æ”¶é›†å™¨ï¼Œç”¨ä½œsarçš„åç«¯ã€‚</li><li><code>sa1</code>Â  (8) åœ¨ç³»ç»Ÿæ´»åŠ¨æ¯æ—¥æ•°æ®æ–‡ä»¶ä¸­æ”¶é›†å¹¶å­˜å‚¨äºŒè¿›åˆ¶æ•°æ®ã€‚å®ƒæ˜¯sadcçš„å‰ç«¯ï¼Œè®¾è®¡ä¸ºä»cronæˆ–systemdè¿è¡Œã€‚</li><li><code>sa2</code>Â  (8) æ’°å†™æ¯æ—¥æ´»åŠ¨æ€»ç»“æŠ¥å‘Šã€‚å®ƒæ˜¯ä»cronæˆ–systemdè¿è¡Œçš„sarçš„å‰ç«¯ã€‚</li><li><code>sadf</code>Â  (1) ä»¥å¤šç§æ ¼å¼ (CSVã€XMLã€JSONç­‰) æ˜¾ç¤ºç”±saræ”¶é›†çš„æ•°æ®ï¼Œå¹¶å¯ç”¨äºä¸å…¶ä»–ç¨‹åºçš„æ•°æ®äº¤æ¢ã€‚è¯¥å‘½ä»¤è¿˜å¯ç”¨äºä¸ºsarä½¿ç”¨SVG (å¯ä¼¸ç¼©çŸ¢é‡å›¾å½¢) æ ¼å¼æ”¶é›†çš„å„ç§æ´»åŠ¨ç»˜åˆ¶å›¾å½¢ã€‚
<a name=zPQl4></a></li></ul><h2 id=1-æ€§èƒ½åŠè¿è¡ŒçŠ¶å†µç›‘æ§>1 æ€§èƒ½åŠè¿è¡ŒçŠ¶å†µç›‘æ§<a hidden class=anchor aria-hidden=true href=#1-æ€§èƒ½åŠè¿è¡ŒçŠ¶å†µç›‘æ§>#</a></h2><p><a name=ubSyn></a></p><h3 id=11-isstat>1.1 isstat<a hidden class=anchor aria-hidden=true href=#11-isstat>#</a></h3><p>ä½¿ç”¨æ–¹æ³•ï¼š <code>iostat [ options ] [ &lt;interval> [ &lt;count> ] ]</code>Â </p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ iostat --help
Usage: iostat <span style=color:#f92672>[</span> options <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> &lt;interval&gt; <span style=color:#f92672>[</span> &lt;count&gt; <span style=color:#f92672>]</span> <span style=color:#f92672>]</span>
Options are:
<span style=color:#f92672>[</span> -c <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -d <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -h <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -k | -m <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -N <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -s <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -t <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -V <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -x <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -y <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -z <span style=color:#f92672>]</span>
<span style=color:#f92672>[</span> <span style=color:#f92672>{</span> -f | +f <span style=color:#f92672>}</span> &lt;directory&gt; <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -j <span style=color:#f92672>{</span> ID | LABEL | PATH | UUID | ... <span style=color:#f92672>}</span> <span style=color:#f92672>]</span>
<span style=color:#f92672>[</span> --dec<span style=color:#f92672>={</span> <span style=color:#ae81ff>0</span> | <span style=color:#ae81ff>1</span> | <span style=color:#ae81ff>2</span> <span style=color:#f92672>}</span> <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> --human <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -o JSON <span style=color:#f92672>]</span>
<span style=color:#f92672>[</span> <span style=color:#f92672>[</span> -H <span style=color:#f92672>]</span> -g &lt;group_name&gt; <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -p <span style=color:#f92672>[</span> &lt;device&gt; <span style=color:#f92672>[</span>,...<span style=color:#f92672>]</span> | ALL <span style=color:#f92672>]</span> <span style=color:#f92672>]</span>
<span style=color:#f92672>[</span> &lt;device&gt; <span style=color:#f92672>[</span>...<span style=color:#f92672>]</span> | ALL <span style=color:#f92672>]</span>
</code></pre></div><p>å‚æ•°é‡Šä¹‰ï¼š<br><code>-c</code>Â  : ä»…æ˜¾ç¤ºcpuçš„çŠ¶æ€<br><code>-d</code>Â  : ä»…æ˜¾ç¤ºå­˜å‚¨è®¾å¤‡çš„çŠ¶æ€ï¼Œä¸å¯ä»¥å’Œ-cä¸€èµ·ä½¿ç”¨<br><code>-k</code>Â  : é»˜è®¤æ˜¾ç¤ºçš„æ˜¯è¯»å…¥è¯»å‡ºçš„blockä¿¡æ¯ï¼Œç”¨-kå¯ä»¥æ”¹æˆKBå¤§å°æ¥æ˜¾ç¤º -m<br><code>-t</code>Â  : æ˜¾ç¤ºæ—¥æœŸ<br><code>-p device | ALL</code>Â  : deviceä¸ºæŸä¸ªè®¾å¤‡æˆ–è€…æŸä¸ªåˆ†åŒºï¼Œå¦‚æœä½¿ç”¨ALLï¼Œå°±è¡¨ç¤ºè¦æ˜¾ç¤ºæ‰€æœ‰åˆ†åŒºå’Œè®¾å¤‡çš„ä¿¡æ¯<br><code>-x</code>Â  : æ˜¾ç¤ºæ‰©å±•çŠ¶æ€ï¼Œæ˜¾ç¤ºæ›´å¤šå†…å®¹<br>ä¸¾ä¾‹ï¼šæ¯ä¸€ç§’é’Ÿæ‰“å°ä¸€æ¬¡CPUçŠ¶æ€ï¼Œæ‰“å°3æ¬¡</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ iostat -c <span style=color:#ae81ff>1</span> <span style=color:#ae81ff>3</span>
Linux 3.10.0-957.21.3.el7.x86_64 <span style=color:#f92672>(</span>frytea-dev-test<span style=color:#f92672>)</span>      07/14/2020      _x86_64_        <span style=color:#f92672>(</span><span style=color:#ae81ff>2</span> CPU<span style=color:#f92672>)</span>

avg-cpu:  %user   %nice %system %iowait  %steal   %idle
           0.40    0.00    0.31    0.00    0.00   99.29



avg-cpu:  %user   %nice %system %iowait  %steal   %idle
           0.00    0.00    0.50    0.00    0.00   99.50



avg-cpu:  %user   %nice %system %iowait  %steal   %idle
           0.50    0.00    0.00    0.00    0.00   99.50
</code></pre></div><p>è·ç¦»ï¼šæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>iostat -x
Linux 3.10.0-957.21.3.el7.x86_64 <span style=color:#f92672>(</span>frytea-dev-test<span style=color:#f92672>)</span>      07/14/2020      _x86_64_        <span style=color:#f92672>(</span><span style=color:#ae81ff>2</span> CPU<span style=color:#f92672>)</span>

avg-cpu:  %user   %nice %system %iowait  %steal   %idle
           0.40    0.00    0.31    0.00    0.00   99.29

Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz     f/s f_await  aqu-sz  %util
vda              0.01      0.14     0.00   0.06    1.19    16.99    0.65      5.88     0.21  24.79    7.65     9.02    0.00      0.00     0.00   0.00    0.00     0.00    0.00    0.00    0.00   0.01
</code></pre></div><p>è¯´æ˜ï¼š<br><code>rrqm/s</code>Â : æ¯ç§’è¿›è¡Œ merge çš„è¯»æ“ä½œæ•°ç›®ã€‚å³ delta(rmerge)/s<br><code>wrqm/s</code>Â : æ¯ç§’è¿›è¡Œ merge çš„å†™æ“ä½œæ•°ç›®ã€‚å³ delta(wmerge)/s<br><code>r/s</code>Â : æ¯ç§’å®Œæˆçš„è¯» I/O è®¾å¤‡æ¬¡æ•°ã€‚å³ delta(rio)/s<br><code>w/s</code>Â : æ¯ç§’å®Œæˆçš„å†™ I/O è®¾å¤‡æ¬¡æ•°ã€‚å³ delta(wio)/s<br><code>rsec/s</code>Â : æ¯ç§’è¯»æ‰‡åŒºæ•°ã€‚å³ delta(rsect)/s<br><code>wsec/s</code>Â : æ¯ç§’å†™æ‰‡åŒºæ•°ã€‚å³ delta(wsect)/s<br><code>rkB/s</code>Â : æ¯ç§’è¯»Kå­—èŠ‚æ•°ã€‚æ˜¯ rsect/s çš„ä¸€åŠï¼Œå› ä¸ºæ¯æ‰‡åŒºå¤§å°ä¸º512å­—èŠ‚ã€‚(éœ€è¦è®¡ç®—)<br><code>wkB/s</code>Â : æ¯ç§’å†™Kå­—èŠ‚æ•°ã€‚æ˜¯ wsect/s çš„ä¸€åŠã€‚(éœ€è¦è®¡ç®—)<br><code>avgrq-sz</code>Â : å¹³å‡æ¯æ¬¡è®¾å¤‡I/Oæ“ä½œçš„æ•°æ®å¤§å° (æ‰‡åŒº)ã€‚delta(rsect+wsect)/delta(rio+wio)<br><code>avgqu-sz</code>Â : å¹³å‡I/Oé˜Ÿåˆ—é•¿åº¦ã€‚å³ delta(aveq)/s/1000 (å› ä¸ºaveqçš„å•ä½ä¸ºæ¯«ç§’)ã€‚<br><code>await</code>Â : å¹³å‡æ¯æ¬¡è®¾å¤‡I/Oæ“ä½œçš„ç­‰å¾…æ—¶é—´ (æ¯«ç§’)ã€‚å³ delta(ruse+wuse)/delta(rio+wio)<br><code>svctm</code>Â : å¹³å‡æ¯æ¬¡è®¾å¤‡I/Oæ“ä½œçš„æœåŠ¡æ—¶é—´ (æ¯«ç§’)ã€‚å³ delta(use)/delta(rio+wio)<br><code>%util</code>Â : ä¸€ç§’ä¸­æœ‰ç™¾åˆ†ä¹‹å¤šå°‘çš„æ—¶é—´ç”¨äº I/O æ“ä½œï¼Œæˆ–è€…è¯´ä¸€ç§’ä¸­æœ‰å¤šå°‘æ—¶é—´ I/O é˜Ÿåˆ—æ˜¯éç©ºçš„ã€‚<br><code>delta(use)/s/1000</code>Â  (å› ä¸ºuseçš„å•ä½ä¸ºæ¯«ç§’)å¦‚æœ %util æ¥è¿‘ 100%ï¼Œè¯´æ˜äº§ç”Ÿçš„I/Oè¯·æ±‚å¤ªå¤šï¼ŒI/Oç³»ç»Ÿå·²ç»æ»¡è´Ÿè·ï¼Œè¯¥ç£ç›˜å¯èƒ½å­˜åœ¨ç“¶é¢ˆã€‚<br><code>idle</code>Â å°äº70% IOå‹åŠ›å°±è¾ƒå¤§äº†,ä¸€èˆ¬è¯»å–é€Ÿåº¦æœ‰è¾ƒå¤šçš„wait. Â #CPUç©ºé—²ç­‰å¾…æ—¶é—´
<a name=HpTYv></a></p><h3 id=12-mpstat>1.2 mpstat<a hidden class=anchor aria-hidden=true href=#12-mpstat>#</a></h3><p>ä½¿ç”¨æ–¹æ³•ï¼šmpstat [ options ] [ <interval>[ <count>] ]</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ mpstat --help
Usage: mpstat <span style=color:#f92672>[</span> options <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> &lt;interval&gt; <span style=color:#f92672>[</span> &lt;count&gt; <span style=color:#f92672>]</span> <span style=color:#f92672>]</span>
Options are:
<span style=color:#f92672>[</span> -A <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -n <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -u <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -V <span style=color:#f92672>]</span>
<span style=color:#f92672>[</span> -I <span style=color:#f92672>{</span> SUM | CPU | SCPU | ALL <span style=color:#f92672>}</span> <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -N <span style=color:#f92672>{</span> &lt;node_list&gt; | ALL <span style=color:#f92672>}</span> <span style=color:#f92672>]</span>
<span style=color:#f92672>[</span> --dec<span style=color:#f92672>={</span> <span style=color:#ae81ff>0</span> | <span style=color:#ae81ff>1</span> | <span style=color:#ae81ff>2</span> <span style=color:#f92672>}</span> <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -o JSON <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -P <span style=color:#f92672>{</span> &lt;cpu_list&gt; | ALL <span style=color:#f92672>}</span> <span style=color:#f92672>]</span>
</code></pre></div><p>ä¸¾ä¾‹ï¼šæŸ¥çœ‹æ‰€æœ‰å¤„ç†å™¨ç»Ÿè®¡æ•°æ®</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ mpstat -P ALL <span style=color:#ae81ff>1</span> <span style=color:#ae81ff>3</span>
Linux 3.10.0-957.21.3.el7.x86_64 <span style=color:#f92672>(</span>frytea-dev-test<span style=color:#f92672>)</span>      07/14/2020      _x86_64_        <span style=color:#f92672>(</span><span style=color:#ae81ff>2</span> CPU<span style=color:#f92672>)</span>

11:35:24 AM  CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
11:35:25 AM  all    0.50    0.00    0.50    0.00    0.00    0.00    0.00    0.00    0.00   99.00
11:35:25 AM    <span style=color:#ae81ff>0</span>    1.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00   99.00
11:35:25 AM    <span style=color:#ae81ff>1</span>    0.00    0.00    1.00    0.00    0.00    0.00    0.00    0.00    0.00   99.00

11:35:25 AM  CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
11:35:26 AM  all    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00  100.00
11:35:26 AM    <span style=color:#ae81ff>0</span>    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00  100.00
11:35:26 AM    <span style=color:#ae81ff>1</span>    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00  100.00

11:35:26 AM  CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
11:35:27 AM  all    0.00    0.00    0.99    0.00    0.00    0.00    0.00    0.00    0.00   99.01
11:35:27 AM    <span style=color:#ae81ff>0</span>    0.00    0.00    0.99    0.00    0.00    0.00    0.00    0.00    0.00   99.01
11:35:27 AM    <span style=color:#ae81ff>1</span>    0.00    0.00    0.99    0.00    0.00    0.00    0.00    0.00    0.00   99.01

Average:     CPU    %usr   %nice    %sys %iowait    %irq   %soft  %steal  %guest  %gnice   %idle
Average:     all    0.17    0.00    0.50    0.00    0.00    0.00    0.00    0.00    0.00   99.33
Average:       <span style=color:#ae81ff>0</span>    0.33    0.00    0.33    0.00    0.00    0.00    0.00    0.00    0.00   99.33
Average:       <span style=color:#ae81ff>1</span>    0.00    0.00    0.67    0.00    0.00    0.00    0.00    0.00    0.00   99.33
</code></pre></div><p>è¯´æ˜ï¼š</p><ul><li><code>%user</code>Â  Â  Â æ˜¾ç¤ºåœ¨ç”¨æˆ·çº§åˆ«(application)è¿è¡Œä½¿ç”¨ CPU æ€»æ—¶é—´çš„ç™¾åˆ†æ¯”ã€‚</li><li><code>%nice</code>Â  Â  Â æ˜¾ç¤ºåœ¨ç”¨æˆ·çº§åˆ«ï¼Œç”¨äºniceæ“ä½œï¼Œæ‰€å ç”¨ CPU æ€»æ—¶é—´çš„ç™¾åˆ†æ¯”ã€‚</li><li><code>%system</code>Â  åœ¨æ ¸å¿ƒçº§åˆ«(kernel)è¿è¡Œæ‰€ä½¿ç”¨ CPU æ€»æ—¶é—´çš„ç™¾åˆ†æ¯”ã€‚</li><li><code>%iowait</code>Â  æ˜¾ç¤ºç”¨äºç­‰å¾…I/Oæ“ä½œå ç”¨ CPU æ€»æ—¶é—´çš„ç™¾åˆ†æ¯”ã€‚</li><li><code>%irq</code>Â  Â æ˜¾ç¤ºåœ¨intervalæ—¶é—´æ®µå†…ï¼Œç¡¬ä¸­æ–­å ç”¨çš„CPUæ€»æ—¶é—´ã€‚</li><li><code>%soft</code>Â  Â æ˜¾ç¤ºåœ¨intervalæ—¶é—´æ®µå†…ï¼Œè½¯ä¸­æ–­å ç”¨çš„CPUæ€»æ—¶é—´ã€‚</li><li><code>%steal</code>Â  Â ç®¡ç†ç¨‹åº(hypervisor)ä¸ºå¦ä¸€ä¸ªè™šæ‹Ÿè¿›ç¨‹æä¾›æœåŠ¡è€Œç­‰å¾…è™šæ‹ŸCPUçš„ç™¾åˆ†æ¯”ã€‚</li><li><code>%idle</code>Â  Â  Â æ˜¾ç¤º CPU ç©ºé—²æ—¶é—´å ç”¨CPUæ€»æ—¶é—´çš„ç™¾åˆ†æ¯”ã€‚</li><li><code>intr/s</code>Â  åœ¨internalæ—¶é—´æ®µé‡Œï¼Œæ¯ç§’CPUæ¥æ”¶çš„ä¸­æ–­çš„æ¬¡æ•°ã€‚
<a name=1eyEV></a></li></ul><h3 id=13-pidstat>1.3 pidstat<a hidden class=anchor aria-hidden=true href=#13-pidstat>#</a></h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>pidstat -dl
Linux 3.10.0-957.21.3.el7.x86_64 <span style=color:#f92672>(</span>frytea-dev-test<span style=color:#f92672>)</span>      07/14/2020      _x86_64_        <span style=color:#f92672>(</span><span style=color:#ae81ff>2</span> CPU<span style=color:#f92672>)</span>

12:01:54 PM   UID       PID   kB_rd/s   kB_wr/s kB_ccwr/s  Command
12:01:54 PM     <span style=color:#ae81ff>0</span>         <span style=color:#ae81ff>1</span>      0.11      0.58      0.05  /usr/lib/systemd/systemd --switched-root --system --deserialize <span style=color:#ae81ff>22</span> 
12:01:54 PM     <span style=color:#ae81ff>0</span>        <span style=color:#ae81ff>48</span>      0.00      0.00      0.00  kworker/u4:1
12:01:54 PM     <span style=color:#ae81ff>0</span>       <span style=color:#ae81ff>226</span>      0.00      0.00      0.00  kworker/u4:2
12:01:54 PM     <span style=color:#ae81ff>0</span>       <span style=color:#ae81ff>328</span>      0.00      0.85      0.00  jbd2/vda1-8
12:01:54 PM     <span style=color:#ae81ff>0</span>       <span style=color:#ae81ff>397</span>      0.00      1.95      0.00  /usr/lib/systemd/systemd-journald 
12:01:54 PM     <span style=color:#ae81ff>0</span>       <span style=color:#ae81ff>416</span>      0.01      0.00      0.00  /usr/lib/systemd/systemd-udevd 
12:01:54 PM     <span style=color:#ae81ff>0</span>       <span style=color:#ae81ff>496</span>      0.00      0.01      0.00  /sbin/auditd 
12:01:54 PM     <span style=color:#ae81ff>0</span>       <span style=color:#ae81ff>594</span>      0.00      0.00      0.00  /usr/lib/systemd/systemd-logind 
12:01:54 PM   <span style=color:#ae81ff>999</span>       <span style=color:#ae81ff>598</span>      0.00      0.00      0.00  /usr/lib/polkit-1/polkitd --no-debug 
12:01:54 PM    <span style=color:#ae81ff>81</span>       <span style=color:#ae81ff>599</span>      0.00      0.00      0.00  /usr/bin/dbus-daemon --system --address<span style=color:#f92672>=</span>systemd: --nofork --nopidfile --systemd-activation 
12:01:54 PM   <span style=color:#ae81ff>998</span>       <span style=color:#ae81ff>616</span>      0.00      0.00      0.00  /usr/sbin/chronyd 
12:01:54 PM     <span style=color:#ae81ff>0</span>       <span style=color:#ae81ff>659</span>      0.00      0.00      0.00  /usr/sbin/atd -f 
12:01:54 PM     <span style=color:#ae81ff>0</span>       <span style=color:#ae81ff>673</span>      0.00      0.00      0.00  /sbin/agetty --keep-baud 115200,38400,9600 ttyS0 vt220 
12:01:54 PM     <span style=color:#ae81ff>0</span>       <span style=color:#ae81ff>895</span>      0.00      0.00      0.00  /usr/bin/python2 -Es /usr/sbin/tuned -l -P 
12:01:54 PM     <span style=color:#ae81ff>0</span>       <span style=color:#ae81ff>898</span>      0.00      0.04      0.00  /usr/sbin/rsyslogd -n 
12:01:54 PM     <span style=color:#ae81ff>0</span>      <span style=color:#ae81ff>1110</span>      0.01      1.80      0.02  /usr/sbin/sshd -D 
12:01:54 PM     <span style=color:#ae81ff>0</span>     <span style=color:#ae81ff>13001</span>      0.00      0.00      0.00  /usr/local/aegis/AliSecGuard/AliSecGuard 
12:01:54 PM     <span style=color:#ae81ff>0</span>     <span style=color:#ae81ff>13646</span>      0.00      0.01      0.00  /usr/sbin/crond -n 
12:01:54 PM     <span style=color:#ae81ff>0</span>     <span style=color:#ae81ff>17624</span>      0.00      0.02      0.00  /usr/local/aegis/aegis_update/AliYunDunUpdate 
12:01:54 PM     <span style=color:#ae81ff>0</span>     <span style=color:#ae81ff>17651</span>      0.00      0.00      0.00  /usr/local/aegis/aegis_client/aegis_10_83/AliYunDun 
12:01:54 PM     <span style=color:#ae81ff>0</span>     <span style=color:#ae81ff>23766</span>      0.00      0.00      0.00  /usr/sbin/aliyun-service 
12:01:54 PM     <span style=color:#ae81ff>0</span>     <span style=color:#ae81ff>23924</span>      0.00      0.02      0.00  -bash
</code></pre></div><p><a name=SJKCX></a></p><h3 id=14-tapestat>1.4 tapestat<a hidden class=anchor aria-hidden=true href=#14-tapestat>#</a></h3><p>TapestatæŠ¥å‘Šæä¾›è¿æ¥åˆ°ç³»ç»Ÿçš„æ¯ä¸ªç£å¸¦é©±åŠ¨å™¨çš„ç»Ÿè®¡ä¿¡æ¯ã€‚<br>ä½¿ç”¨æ–¹æ³•ï¼š <code>tapestat [ options ] [ &lt;interval> [ &lt;count> ] ]</code>Â </p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ tapestat --help
Usage: tapestat <span style=color:#f92672>[</span> options <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> &lt;interval&gt; <span style=color:#f92672>[</span> &lt;count&gt; <span style=color:#f92672>]</span> <span style=color:#f92672>]</span>
Options are:
<span style=color:#f92672>[</span> --human <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -k | -m <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -t <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -V <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -y <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -z <span style=color:#f92672>]</span>
<span style=color:#f92672>[</span>root@frytea-dev-test ~<span style=color:#f92672>]</span><span style=color:#75715e># tapestat -k</span>
</code></pre></div><p><a name=Yg4vz></a></p><h3 id=15-cifsiostat>1.5 cifsiostat<a hidden class=anchor aria-hidden=true href=#15-cifsiostat>#</a></h3><p>CIFSæŠ¥å‘Šæä¾›æ¯ä¸ªè£…è½½çš„CIFSæ–‡ä»¶ç³»ç»Ÿçš„ç»Ÿè®¡ä¿¡æ¯ã€‚<br>ä½¿ç”¨æ–¹æ³•ï¼š <code>cifsiostat [ options ] [ &lt;interval> [ &lt;count> ] ]</code>Â </p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ cifsiostat --HELO
Usage: cifsiostat <span style=color:#f92672>[</span> options <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> &lt;interval&gt; <span style=color:#f92672>[</span> &lt;count&gt; <span style=color:#f92672>]</span> <span style=color:#f92672>]</span>
Options are:
<span style=color:#f92672>[</span> --dec<span style=color:#f92672>={</span> <span style=color:#ae81ff>0</span> | <span style=color:#ae81ff>1</span> | <span style=color:#ae81ff>2</span> <span style=color:#f92672>}</span> <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> --human <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -h <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -k | -m <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -t <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -V <span style=color:#f92672>]</span>
</code></pre></div><p><a name=EN4ma></a></p><h2 id=2-æ•°æ®æ”¶é›†åŠç»Ÿè®¡>2 æ•°æ®æ”¶é›†åŠç»Ÿè®¡<a hidden class=anchor aria-hidden=true href=#2-æ•°æ®æ”¶é›†åŠç»Ÿè®¡>#</a></h2><p><a name=gOL2L></a></p><h3 id=21-sar>2.1 sar<a hidden class=anchor aria-hidden=true href=#21-sar>#</a></h3><p>sar å·¥å…·æ¯”è¾ƒå¼ºå¤§ï¼Œæ—¢èƒ½æ”¶é›†ç³»ç»ŸCPUã€ç¡¬ç›˜ã€åŠ¨æ€æ•°æ®ï¼Œä¹Ÿèƒ½æ˜¾ç¤ºåŠ¨æ€æ˜¾ç¤ºï¼Œæ›´èƒ½æŸ¥çœ‹äºŒè¿›åˆ¶æ•°æ®æ–‡ä»¶ï¼›sar çš„åº”ç”¨æ¯”è¾ƒå¤šï¼Œè€Œä¸”ä¹Ÿæ¯”è¾ƒå¤æ‚ï¼Œæ•°æ®æ›´ä¸ºç²¾ç¡®ã€‚æˆ‘ä»¬åªäº†è§£ä¸€ä¸‹å¸¸ç”¨çš„å†…å®¹å°±è¡Œï¼Œå¤§å¤šæ•°å†…å®¹æˆ‘ä»¬äº†è§£å°±è¡Œã€‚</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sar --help
Usage: sar <span style=color:#f92672>[</span> options <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> &lt;interval&gt; <span style=color:#f92672>[</span> &lt;count&gt; <span style=color:#f92672>]</span> <span style=color:#f92672>]</span>
Main options and reports <span style=color:#f92672>(</span>report name between square brackets<span style=color:#f92672>)</span>:
        -B      Paging statistics <span style=color:#f92672>[</span>A_PAGE<span style=color:#f92672>]</span>
        -b      I/O and transfer rate statistics <span style=color:#f92672>[</span>A_IO<span style=color:#f92672>]</span>
        -d      Block devices statistics <span style=color:#f92672>[</span>A_DISK<span style=color:#f92672>]</span>
        -F <span style=color:#f92672>[</span> MOUNT <span style=color:#f92672>]</span>
                Filesystems statistics <span style=color:#f92672>[</span>A_FS<span style=color:#f92672>]</span>
        -H      Hugepages utilization statistics <span style=color:#f92672>[</span>A_HUGE<span style=color:#f92672>]</span>
        -I <span style=color:#f92672>{</span> &lt;int_list&gt; | SUM | ALL <span style=color:#f92672>}</span>
                Interrupts statistics <span style=color:#f92672>[</span>A_IRQ<span style=color:#f92672>]</span>
        -m <span style=color:#f92672>{</span> &lt;keyword&gt; <span style=color:#f92672>[</span>,...<span style=color:#f92672>]</span> | ALL <span style=color:#f92672>}</span>
                Power management statistics <span style=color:#f92672>[</span>A_PWR_...<span style=color:#f92672>]</span>
                Keywords are:
                CPU     CPU instantaneous clock frequency
                FAN     Fans speed
                FREQ    CPU average clock frequency
                IN      Voltage inputs
                TEMP    Devices temperature
                USB     USB devices plugged into the system
        -n <span style=color:#f92672>{</span> &lt;keyword&gt; <span style=color:#f92672>[</span>,...<span style=color:#f92672>]</span> | ALL <span style=color:#f92672>}</span>
                Network statistics <span style=color:#f92672>[</span>A_NET_...<span style=color:#f92672>]</span>
                Keywords are:
                DEV     Network interfaces
                EDEV    Network interfaces <span style=color:#f92672>(</span>errors<span style=color:#f92672>)</span>
                NFS     NFS client
                NFSD    NFS server
                SOCK    Sockets <span style=color:#f92672>(</span>v4<span style=color:#f92672>)</span>
                IP      IP traffic      <span style=color:#f92672>(</span>v4<span style=color:#f92672>)</span>
                EIP     IP traffic      <span style=color:#f92672>(</span>v4<span style=color:#f92672>)</span> <span style=color:#f92672>(</span>errors<span style=color:#f92672>)</span>
                ICMP    ICMP traffic    <span style=color:#f92672>(</span>v4<span style=color:#f92672>)</span>
                EICMP   ICMP traffic    <span style=color:#f92672>(</span>v4<span style=color:#f92672>)</span> <span style=color:#f92672>(</span>errors<span style=color:#f92672>)</span>
                TCP     TCP traffic     <span style=color:#f92672>(</span>v4<span style=color:#f92672>)</span>
                ETCP    TCP traffic     <span style=color:#f92672>(</span>v4<span style=color:#f92672>)</span> <span style=color:#f92672>(</span>errors<span style=color:#f92672>)</span>
                UDP     UDP traffic     <span style=color:#f92672>(</span>v4<span style=color:#f92672>)</span>
                SOCK6   Sockets <span style=color:#f92672>(</span>v6<span style=color:#f92672>)</span>
                IP6     IP traffic      <span style=color:#f92672>(</span>v6<span style=color:#f92672>)</span>
                EIP6    IP traffic      <span style=color:#f92672>(</span>v6<span style=color:#f92672>)</span> <span style=color:#f92672>(</span>errors<span style=color:#f92672>)</span>
                ICMP6   ICMP traffic    <span style=color:#f92672>(</span>v6<span style=color:#f92672>)</span>
                EICMP6  ICMP traffic    <span style=color:#f92672>(</span>v6<span style=color:#f92672>)</span> <span style=color:#f92672>(</span>errors<span style=color:#f92672>)</span>
                UDP6    UDP traffic     <span style=color:#f92672>(</span>v6<span style=color:#f92672>)</span>
                FC      Fibre channel HBAs
                SOFT    Software-based network processing
        -q <span style=color:#f92672>[</span> &lt;keyword&gt; <span style=color:#f92672>[</span>,...<span style=color:#f92672>]</span> | PSI | ALL <span style=color:#f92672>]</span>
                System load and pressure-stall statistics
                Keywords are:
                LOAD    Queue length and load average statistics <span style=color:#f92672>[</span>A_QUEUE<span style=color:#f92672>]</span>
                CPU     Pressure-stall CPU statistics <span style=color:#f92672>[</span>A_PSI_CPU<span style=color:#f92672>]</span>
                IO      Pressure-stall I/O statistics <span style=color:#f92672>[</span>A_PSI_IO<span style=color:#f92672>]</span>
                MEM     Pressure-stall memory statistics <span style=color:#f92672>[</span>A_PSI_MEM<span style=color:#f92672>]</span>
        -r <span style=color:#f92672>[</span> ALL <span style=color:#f92672>]</span>
                Memory utilization statistics <span style=color:#f92672>[</span>A_MEMORY<span style=color:#f92672>]</span>
        -S      Swap space utilization statistics <span style=color:#f92672>[</span>A_MEMORY<span style=color:#f92672>]</span>
        -u <span style=color:#f92672>[</span> ALL <span style=color:#f92672>]</span>
                CPU utilization statistics <span style=color:#f92672>[</span>A_CPU<span style=color:#f92672>]</span>
        -v      Kernel tables statistics <span style=color:#f92672>[</span>A_KTABLES<span style=color:#f92672>]</span>
        -W      Swapping statistics <span style=color:#f92672>[</span>A_SWAP<span style=color:#f92672>]</span>
        -w      Task creation and system switching statistics <span style=color:#f92672>[</span>A_PCSW<span style=color:#f92672>]</span>
        -y      TTY devices statistics <span style=color:#f92672>[</span>A_SERIAL<span style=color:#f92672>]</span>
</code></pre></div><p>å‚æ•°è¯´æ˜ï¼š<br><code>-A</code>Â  æ˜¾ç¤ºæ‰€æœ‰å†å²æ•°æ®ï¼Œé€šè¿‡è¯»å–/var/log/sarç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¹¶æŠŠå®ƒä»¬åˆ†é—¨åˆ«ç±»çš„æ˜¾ç¤ºå‡ºæ¥ï¼›<br><code>-b</code>Â  é€šè¿‡è®¾å¤‡çš„I/Oä¸­æ–­è¯»å–è®¾ç½®çš„ååç‡ï¼›<br><code>-B</code>Â  æŠ¥å‘Šå†…å­˜æˆ–è™šæ‹Ÿå†…å­˜äº¤æ¢ç»Ÿè®¡ï¼›<br><code>-c</code>Â  æŠ¥å‘Šæ¯ç§’åˆ›å»ºçš„è¿›ç¨‹æ•°ï¼›<br><code>-d</code>Â  æŠ¥å‘Šç‰©ç†å—è®¾å¤‡ï¼ˆå­˜å‚¨è®¾å¤‡ï¼‰çš„å†™å…¥ã€è¯»å–ä¹‹ç±»çš„ä¿¡æ¯ï¼Œå¦‚æœç›´è§‚ä¸€ç‚¹ï¼Œå¯ä»¥å’Œpå‚æ•°å…±åŒä½¿ç”¨ï¼Œ-dp<br><code>-f</code>Â  ä»ä¸€ä¸ªäºŒè¿›åˆ¶çš„æ•°æ®æ–‡ä»¶ä¸­è¯»å–å†…å®¹ï¼Œæ¯”å¦‚ sar -f filename<br><code>-i</code>Â  interval æŒ‡å®šæ•°æ®æ”¶é›†çš„æ—¶é—´ï¼Œæ—¶é—´å•ä½æ˜¯ç§’ï¼›<br><code>-n</code>Â  åˆ†æç½‘ç»œè®¾å¤‡çŠ¶æ€çš„ç»Ÿè®¡ï¼Œåé¢å¯ä»¥æ¥çš„å‚æ•°æœ‰ DEVã€EDEVã€NFSã€NFSDã€SOCKç­‰ã€‚æ¯”å¦‚-n DEV<br><code>-o</code>Â  æŠŠç»Ÿè®¡ä¿¡æ¯å†™å…¥ä¸€ä¸ªæ–‡ä»¶ï¼Œæ¯”å¦‚ -o filename ï¼›<br><code>-P</code>Â  æŠ¥å‘Šæ¯ä¸ªå¤„ç†å™¨åº”ç”¨ç»Ÿè®¡ï¼Œç”¨äºå¤šå¤„ç†å™¨æœºå™¨ï¼Œå¹¶ä¸”å¯ç”¨SMPå†…æ ¸æ‰æœ‰æ•ˆï¼›<br><code>-p</code>Â  æ˜¾ç¤ºå‹å¥½è®¾å¤‡åå­—ï¼Œä»¥æ–¹ä¾¿æŸ¥çœ‹ï¼Œä¹Ÿå¯ä»¥å’Œ-då’Œ-n å‚æ•°ç»“åˆä½¿ç”¨ï¼Œæ¯”å¦‚ -dp æˆ–-np<br><code>-r</code>Â  å†…å­˜å’Œäº¤æ¢åŒºå ç”¨ç»Ÿè®¡ï¼›<br><code>-R</code>Â <br><code>-t</code>Â  è¿™ä¸ªé€‰é¡¹å¯¹ä»æ–‡ä»¶è¯»å–æ•°æ®æœ‰ç”¨ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªå‚æ•°ï¼Œä¼šä»¥æœ¬åœ°æ—¶é—´ä¸ºæ ‡å‡† è¯»å‡ºï¼›<br><code>-u</code>Â  æŠ¥å‘ŠCPUåˆ©ç”¨ç‡çš„å‚æ•°ï¼›<br><code>-v</code>Â  æŠ¥å‘Šinode,æ–‡ä»¶æˆ–å…¶å®ƒå†…æ ¸è¡¨çš„èµ„æºå ç”¨ä¿¡æ¯ï¼›<br><code>-w</code>Â  æŠ¥å‘Šç³»ç»Ÿäº¤æ¢æ´»åŠ¨çš„ä¿¡æ¯ï¼› æ¯å°‘äº¤æ¢æ•°æ®çš„ä¸ªæ•°ï¼›<br><code>-W</code>Â  æŠ¥å‘Šç³»ç»Ÿäº¤æ¢æ´»åŠ¨ååä¿¡æ¯ï¼›<br><code>-x</code>Â  ç”¨äºç›‘è§†è¿›ç¨‹çš„ï¼Œåœ¨å…¶åè¦æŒ‡å®šè¿›ç¨‹çš„PIDå€¼ï¼›<br><code>-X</code>Â  ç”¨äºç›‘è§†è¿›ç¨‹çš„ï¼Œä½†æŒ‡å®šçš„åº”è¯¥æ˜¯ä¸€ä¸ªå­è¿›ç¨‹ID<br>ä¸¾ä¾‹ï¼šæŸ¥çœ‹ç½‘ç»œè®¾å¤‡çš„ç½‘ç»œååé‡</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># sar -n DEV 2 4 </span>
Linux 3.10.0-957.21.3.el7.x86_64 <span style=color:#f92672>(</span>frytea-dev-test<span style=color:#f92672>)</span>      07/14/2020      _x86_64_        <span style=color:#f92672>(</span><span style=color:#ae81ff>2</span> CPU<span style=color:#f92672>)</span>

12:00:50 PM     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil
12:00:52 PM      eth0      2.50      2.50      0.14      1.28      0.00      0.00      0.00      0.00
12:00:52 PM        lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

12:00:52 PM     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil
12:00:54 PM      eth0      1.50      1.00      0.09      0.33      0.00      0.00      0.00      0.00
12:00:54 PM        lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

12:00:54 PM     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil
12:00:56 PM      eth0      2.00      1.50      0.12      0.36      0.00      0.00      0.00      0.00
12:00:56 PM        lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

12:00:56 PM     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil
12:00:58 PM      eth0      1.00      1.00      0.07      0.33      0.00      0.00      0.00      0.00
12:00:58 PM        lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00

Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil
Average:         eth0      1.75      1.50      0.11      0.58      0.00      0.00      0.00      0.00
Average:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00
</code></pre></div><p>å‚æ•°é‡Šä¹‰ï¼š<br>IFACEï¼šè®¾å¤‡åï¼›<br>rxpck/s:æ¯ç§’æ”¶åˆ°çš„åŒ…ï¼›<br>rxbyt/sï¼šæ¯ç§’æ”¶åˆ°çš„æ‰€æœ‰åŒ…çš„æ•°é‡ ï¼›<br>txbyt/sï¼šæ¯ç§’å‘é€çš„æ‰€æœ‰åŒ…çš„æ•°é‡ ï¼›<br>txbyt/sï¼šæ¯ç§’å‘é€çš„æ‰€æœ‰åŒ…çš„å¤§å°ï¼›<br>rxcmp/sï¼šæ¯ç§’æ”¶åˆ°æ•°çš„æ®å‹ç¼©åŒ…çš„æ•°é‡ï¼›<br>txcmp/s :æ¯ç§’ä¼ è¾“çš„æ•°æ®å‹ç¼©åŒ…çš„æ•°æ®ï¼›<br>rxmcst/s: æ¯ç§’æ”¶åˆ°çš„å¤šæ’­çš„åŒ…æ•°é‡ï¼›
<a name=aRFx8></a></p><h3 id=22-sadc>2.2 sadc<a hidden class=anchor aria-hidden=true href=#22-sadc>#</a></h3><p><code>sadc</code>Â  ä½äº <code>/usr/local/lib64/sa/</code>Â ç›®å½•ä¸­ï¼ˆCentos 7.6ï¼‰ï¼Œå¦‚æœä½ æ²¡æœ‰è®¾ç½®å¯æ‰§è¡Œè·¯å¾„ï¼Œè¦ç”¨ç»å¯¹è·¯å¾„æ¥è¿è¡Œã€‚<br>sdacåªæ˜¯ä¸€ä¸ªæœé›†å†™å…¥å·¥å…·ï¼Œå¹¶ä¸ç›´æ¥å›æ˜¾äºå±å¹•ä¸Šã€‚sadc æ˜¯æŠŠæ•°æ®å†™åœ¨ä¸€ä¸ªäºŒè¿›åˆ¶çš„æ–‡ä»¶ä¸­ï¼Œå¦‚æœæƒ³æŸ¥çœ‹æ•°æ®å†…å®¹ï¼Œéœ€è¦ç”¨sadfå·¥å…·æ¥æ˜¾ç¤ºã€‚<br>ä½¿ç”¨æ–¹æ³•ï¼š <code>/usr/local/lib64/sa/sadc [ options ] [ &lt;interval> [ &lt;count> ] ] [ &lt;outfile> ]</code>Â </p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ /usr/local/lib64/sa/sadc --help
Usage: /usr/local/lib64/sa/sadc <span style=color:#f92672>[</span> options <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> &lt;interval&gt; <span style=color:#f92672>[</span> &lt;count&gt; <span style=color:#f92672>]</span> <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> &lt;outfile&gt; <span style=color:#f92672>]</span>
Options are:
<span style=color:#f92672>[</span> -C &lt;comment&gt; <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -D <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -F <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -f <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -L <span style=color:#f92672>]</span> <span style=color:#f92672>[</span> -V <span style=color:#f92672>]</span>
<span style=color:#f92672>[</span> -S <span style=color:#f92672>{</span> INT | DISK | IPV6 | POWER | SNMP | XDISK | ALL | XALL <span style=color:#f92672>}</span> <span style=color:#f92672>]</span>
</code></pre></div><p>ä¸¾ä¾‹ï¼š <code>/usr/local/lib/sa/sadc -</code>Â  ï¼ˆåé¢çš„â€œï¼â€æ˜¯å¿…é¡»çš„ï¼Œå°‘äº†ä¼šå‡ºä¹±ç å’ŒæŠ¥é”™ï¼‰ï¼Œåˆ™ä¼šè¾“å‡ºæ•°æ®åˆ° <code>/var/log/sa/</code>Â ç›®å½•ä¸‹çš„ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚
<a name=bMblR></a></p><h3 id=23-sa1>2.3 sa1<a hidden class=anchor aria-hidden=true href=#23-sa1>#</a></h3><p>Sa1 å‘½ä»¤è¢«è®¾è®¡ä¸ºç”±cronå‘½ä»¤è‡ªåŠ¨å¯åŠ¨ã€‚
<a name=xq4EY></a></p><h3 id=24-sa2>2.4 sa2<a hidden class=anchor aria-hidden=true href=#24-sa2>#</a></h3><p>Sa2 å‘½ä»¤æ¥å—sarå‘½ä»¤çš„å¤§å¤šæ•°æ ‡å¿—å’Œå‚æ•°ã€‚<br>Sa2 å‘½ä»¤è¢«è®¾è®¡ä¸ºç”±cronå‘½ä»¤è‡ªåŠ¨å¯åŠ¨ã€‚
<a name=murO5></a></p><h3 id=25-sadf>2.5 sadf<a hidden class=anchor aria-hidden=true href=#25-sadf>#</a></h3><p>sadf èƒ½ä»äºŒè¿›åˆ¶æ–‡ä»¶ä¸­æå–saræ‰€æ”¶é›†çš„æ•°æ®ï¼›æ˜¾ç¤ºçš„æ ¼å¼ä¸å¦‚sarç›´è§‚ï¼Œå…¶ä¸»è¦ç”¨äºå¯¼å‡ºä¸ºcsvã€xmlç­‰æ ¼å¼çš„æ–‡ä»¶ï¼Œæ–¹ä¾¿å¯¼å…¥æ•°æ®åº“æˆ–excelç­‰ç¨‹åº.
<a name=Owm2P></a></p><h2 id=å‚è€ƒæ–‡çŒ®>å‚è€ƒæ–‡çŒ®<a hidden class=anchor aria-hidden=true href=#å‚è€ƒæ–‡çŒ®>#</a></h2><ul><li><a href=http://sebastien.godard.pagesperso-orange.fr/>Systat Document</a></li><li><a href=https://www.linuxidc.com/Linux/2019-08/160082.htm>Linuxä¸‹sysstatå®‰è£…ä½¿ç”¨å›¾æ–‡è¯¦è§£</a></li></ul><div class=post-meta></hr>æ³¨ï¼šæœ¬ä½œå“é‡‡ç”¨<a rel=license target=view_window href=http://creativecommons.org/licenses/by-nc-sa/4.0/> çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®® </a>è¿›è¡Œè®¸å¯ã€‚</div></div><footer class=post-footer><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Linux ä¸‹ Sysstat ç³»ç»Ÿç›‘æ§ç¨‹åºè¯¦è§£ on twitter" href="https://twitter.com/intent/tweet/?text=Linux%20%e4%b8%8b%20Sysstat%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7%e7%a8%8b%e5%ba%8f%e8%af%a6%e8%a7%a3&url=https%3a%2f%2fwww.frytea.com%2ftechnology%2fothers%2f402%2f&hashtags="><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Linux ä¸‹ Sysstat ç³»ç»Ÿç›‘æ§ç¨‹åºè¯¦è§£ on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwww.frytea.com%2ftechnology%2fothers%2f402%2f&title=Linux%20%e4%b8%8b%20Sysstat%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7%e7%a8%8b%e5%ba%8f%e8%af%a6%e8%a7%a3&summary=Linux%20%e4%b8%8b%20Sysstat%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7%e7%a8%8b%e5%ba%8f%e8%af%a6%e8%a7%a3&source=https%3a%2f%2fwww.frytea.com%2ftechnology%2fothers%2f402%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Linux ä¸‹ Sysstat ç³»ç»Ÿç›‘æ§ç¨‹åºè¯¦è§£ on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.frytea.com%2ftechnology%2fothers%2f402%2f&title=Linux%20%e4%b8%8b%20Sysstat%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7%e7%a8%8b%e5%ba%8f%e8%af%a6%e8%a7%a3"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Linux ä¸‹ Sysstat ç³»ç»Ÿç›‘æ§ç¨‹åºè¯¦è§£ on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.frytea.com%2ftechnology%2fothers%2f402%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Linux ä¸‹ Sysstat ç³»ç»Ÿç›‘æ§ç¨‹åºè¯¦è§£ on whatsapp" href="https://api.whatsapp.com/send?text=Linux%20%e4%b8%8b%20Sysstat%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7%e7%a8%8b%e5%ba%8f%e8%af%a6%e8%a7%a3%20-%20https%3a%2f%2fwww.frytea.com%2ftechnology%2fothers%2f402%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Linux ä¸‹ Sysstat ç³»ç»Ÿç›‘æ§ç¨‹åºè¯¦è§£ on telegram" href="https://telegram.me/share/url?text=Linux%20%e4%b8%8b%20Sysstat%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7%e7%a8%8b%e5%ba%8f%e8%af%a6%e8%a7%a3&url=https%3a%2f%2fwww.frytea.com%2ftechnology%2fothers%2f402%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div><nav class=paginav><a class=prev href=https://www.frytea.com/technology/others/403/><span class=title>Â« ä¸Šä¸€é¡µ</span><br><span>Linux å†…å­˜å‚æ•°è¯¦ç»†è¯´æ˜</span></a>
<a class=next href=https://www.frytea.com/technology/others/401/><span class=title>ä¸‹ä¸€é¡µ Â»</span><br><span>å®‰è£… Linuxç³»ç»Ÿç›‘æ§å·¥å…· systat</span></a></nav></footer><div id=vcomments style="background-color:var(--theme);margin-top:15px;padding:20px;border-radius:var(--radius);box-shadow:0 0 10px grey"></div><script type=text/javascript>new Valine({el:'#vcomments',appId:'mhm2sAPpC3cW2VJ15fpGGDPb-gzGzoHsz',appKey:'nx1gknfuCi4dsFHwG7cAbqUL',avatar:'retro',placeholder:'è¯´ç‚¹ä»€ä¹ˆå§...',visitor:!0,recordIP:!0})</script></article></main><footer class=footer><span>Copyright &copy; 2022 â€¢ <a href=https://www.frytea.com/>Frytea</a></span>
<span>â€¢ <a href=http://beian.miit.gov.cn/ target=view_window>ç²¤ ICP å¤‡ 19144283 å·</a></span><div><span><a href=/about/>å…³äº</a>
â€¢ <a href=/disclaimer/>å…è´£å£°æ˜</a>
â€¢ <a href=/sitemap.xml target=view_window>ç«™ç‚¹åœ°å›¾</a>
â€¢ <a href=https://www.foreverblog.cn/go.html target=view_window>è™«æ´</a>
â€¢ PV <span id=busuanzi_value_site_pv><i class="fa fa-spinner fa-spin"></i></span></span></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script><meta name=â€apple-mobile-web-app-capableâ€ content="â€yesâ€"><script>'serviceWorker'in navigator&&window.addEventListener('load',()=>{navigator.serviceWorker.register('/service-worker.js')})</script></body></html>